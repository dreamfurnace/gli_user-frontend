const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BusinessView-QSqFIOk0.js","assets/vue-B2oCC0D2.js","assets/utils-NIGUFBhG.js","assets/BusinessView-VGqUf6ug.css","assets/AuthCenterView-BenaIzXh.js","assets/AuthCenterView-CataOQUU.css","assets/MyPageView-DfUvbEdx.js","assets/MyPageView-CHIF6ynO.css","assets/TokenConversionView-CF0-_WbC.js","assets/TokenConversionView-CjlJ5-dz.css","assets/ShoppingMallView-BNIUFDmP.js","assets/ShoppingMallView-DzA5VfRn.css","assets/ReferralSystemView-Bu8tx_Li.js","assets/ReferralSystemView-BMZ_fv3s.css","assets/InformationCenterView-CPq1sxIW.js","assets/InformationCenterView-DXOjUsDc.css","assets/DesignTokenDemo-IEyGyX-a.js","assets/design-tokens-Dbqq4CpC.js","assets/DesignTokenDemo-B8cWqAyx.css","assets/TokenTest-CK1BR4T8.js","assets/TokenTest-D8g3KfjQ.css","assets/StyledSystemDemo-C-KoRgfI.js","assets/index-Dl7xQvfc.js","assets/StyledSystemDemo-CnACvj_T.css","assets/AccessibilityDemo-BEXhcEWc.js","assets/AccessibilityDemo-CUlNpafp.css","assets/LoginView-frKWU8gY.js","assets/LoginView-D9ecI1hh.css","assets/SignupView-BVzNtxg1.js","assets/SignupView-DODO0LEG.css","assets/RegisterIssuanceView-BFPY8mrp.js","assets/RegisterIssuanceView-D1yF4vVG.css","assets/ContractDocChoiceView-DO9lU_AU.js","assets/ContractDocChoiceView-Dywx5BMB.css","assets/QAView-CSKM-SfV.js","assets/contract-layout-BMEz7B-f.js","assets/contract-layout-D2V__jwS.css","assets/QAView-D_3ZJ59w.css","assets/QBView-Bpi0bt2K.js","assets/QBView-Bbe3zzwP.css","assets/QCView-BobEgdZc.js","assets/QCView-C9F1JnrS.css","assets/QEView-g4e3oMXS.js","assets/QEView-_yuQzMaO.css","assets/ContractPreviewView-DvTfp4TL.js","assets/ContractPreviewView-CBHDciwa.css","assets/ProfileEditView-XFDKLYng.js","assets/ProfileEditView---qxCzub.css","assets/UserDocMgmtView-DS-gKZHh.js","assets/UserDocMgmtView-DWIoH6Hl.css","assets/AnimationDemo-Cy5Avh5g.js","assets/AnimationDemo-BrcyXrjY.css"])))=>i.map(i=>d[i]);
import{e as Hb,r as He,s as $b,c as _t,w as xs,i as Gb,d as gn,h as mg,F as or,g as sh,a as qb,o as fc,b as jb,f as Ht,T as zb,j as pl,k as Te,l as Be,n as xt,m as id,p as q,q as St,u as Lt,t as sd,v as Ee,x as gg,y as Nn,z as dc,A as cs,B as Vb,C as Wb,D as oh,E as ml,G as wr,H as yi,I as rf,J as R0,K as Ea,L as yg,M as _i,R as Kb,N as Qb,O as M0,P as Zb,Q as Yb,S as Jb,U as Xb}from"./vue-B2oCC0D2.js";import{a as os}from"./utils-NIGUFBhG.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/*!
  * shared v12.0.0-alpha.3
  * (c) 2016-present kazuya kawaguchi and contributors
  * Released under the MIT License.
  */const C0=typeof window<"u",Pi=(t,e=!1)=>e?Symbol.for(t):Symbol(t),e1=(t,e,n)=>t1({l:t,k:e,s:n}),t1=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),En=t=>typeof t=="number"&&isFinite(t),n1=t=>ah(t)==="[object Date]",ou=t=>ah(t)==="[object RegExp]",gl=t=>Tt(t)&&Object.keys(t).length===0,In=Object.assign,r1=Object.create,Ft=(t=null)=>r1(t);let P0;const ho=()=>P0||(P0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ft());function N0(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const i1=Object.prototype.hasOwnProperty;function Is(t,e){return i1.call(t,e)}const en=Array.isArray,Qt=t=>typeof t=="function",De=t=>typeof t=="string",Zt=t=>typeof t=="boolean",Ct=t=>t!==null&&typeof t=="object",s1=t=>Ct(t)&&Qt(t.then)&&Qt(t.catch),vg=Object.prototype.toString,ah=t=>vg.call(t),Tt=t=>ah(t)==="[object Object]",o1=t=>t==null?"":en(t)||Tt(t)&&t.toString===vg?JSON.stringify(t,null,2):String(t);function a1(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}function c1(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Rc=t=>!Ct(t)||en(t);function Wc(t,e){if(Rc(t)||Rc(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:s}=n.pop();Object.keys(r).forEach(i=>{i!=="__proto__"&&(Ct(r[i])&&!Ct(s[i])&&(s[i]=Array.isArray(r[i])?[]:Ft()),Rc(s[i])||Rc(r[i])?s[i]=r[i]:n.push({src:r[i],des:s[i]}))})}}/*!
  * message-compiler v12.0.0-alpha.3
  * (c) 2016-present kazuya kawaguchi and contributors
  * Released under the MIT License.
  */const u1=17;function wg(t,e,n={}){const{domain:r,messages:s,args:i}=n,a=t,o=new SyntaxError(String(a));return o.code=t,o.domain=r,o}/*!
  * core-base v12.0.0-alpha.3
  * (c) 2016-present kazuya kawaguchi and contributors
  * Released under the MIT License.
  */function l1(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ho().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ho().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Xr(t){return Ct(t)&&m1(t)===0&&(Is(t,"b")||Is(t,"body"))}const f1=["b","body"],d1=["c","cases"],h1=["s","static"],p1=["i","items"],bg=["t","type"];function m1(t){return w1(t,bg)}const g1=["v","value"],y1=["m","modifier"],v1=["k","key"];function w1(t,e,n){for(let r=0;r<e.length;r++){const s=e[r];if(Is(t,s)&&t[s]!=null)return t[s]}return n}const b1=[...f1,...d1,...h1,...p1,...v1,...y1,...g1,...bg];let Na=null;function _1(t){Na=t}function A1(t,e,n){Na&&Na.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const E1=x1("function:translate");function x1(t){return e=>Na&&Na.emit(t,e)}const Zr={INVALID_ARGUMENT:u1,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},I1=24;function Yr(t){return wg(t,null,void 0)}function ch(t,e){return e.locale!=null?L0(e.locale):L0(t.locale)}let sf;function L0(t){if(De(t))return t;if(Qt(t)){if(t.resolvedOnce&&sf!=null)return sf;if(t.constructor.name==="Function"){const e=t();if(s1(e))throw Yr(Zr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return sf=e}else throw Yr(Zr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Yr(Zr.NOT_SUPPORT_LOCALE_TYPE)}function S1(t,e,n){return[...new Set([n,...en(e)?e:Ct(e)?Object.keys(e):De(e)?[e]:[n]])]}function B1(t,e,n){const r=De(n)?n:au,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(r);if(!i){i=[];let a=[n];for(;en(a);)a=O0(i,a,e);const o=en(e)||!Tt(e)?e:e.default?e.default:null;a=De(o)?[o]:o,en(a)&&O0(i,a,!1),s.__localeChainCache.set(r,i)}return i}function O0(t,e,n){let r=!0;for(let s=0;s<e.length&&Zt(r);s++){const i=e[s];De(i)&&(r=k1(t,e[s],n))}return r}function k1(t,e,n){let r;const s=e.split("-");do{const i=s.join("-");r=T1(t,i,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function T1(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(en(n)||Tt(n))&&n[s]&&(r=n[s])}return r}function R1(t,e){return Ct(t)?t[e]:null}const M1="12.0.0-alpha.3",yl=-1,au="en-US",F0="",D0=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function C1(){return{upper:(t,e)=>e==="text"&&De(t)?t.toUpperCase():e==="vnode"&&Ct(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&De(t)?t.toLowerCase():e==="vnode"&&Ct(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&De(t)?D0(t):e==="vnode"&&Ct(t)&&"__v_isVNode"in t?D0(t.children):t}}let P1,_g=null;const N1=t=>{_g=t},L1=()=>_g;let Ag=null;const U0=t=>{Ag=t},O1=()=>Ag;let H0=0;function F1(t={}){const e=Qt(t.onWarn)?t.onWarn:c1,n=De(t.version)?t.version:M1,r=De(t.locale)||Qt(t.locale)?t.locale:au,s=Qt(r)?au:r,i=en(t.fallbackLocale)||Tt(t.fallbackLocale)||De(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,a=Tt(t.messages)?t.messages:of(s),o=Tt(t.datetimeFormats)?t.datetimeFormats:of(s),f=Tt(t.numberFormats)?t.numberFormats:of(s),d=In(Ft(),t.modifiers,C1()),p=t.pluralRules||Ft(),y=Qt(t.missing)?t.missing:null,B=Zt(t.missingWarn)||ou(t.missingWarn)?t.missingWarn:!0,x=Zt(t.fallbackWarn)||ou(t.fallbackWarn)?t.fallbackWarn:!0,M=!!t.fallbackFormat,I=!!t.unresolving,R=Qt(t.postTranslation)?t.postTranslation:null,N=Tt(t.processor)?t.processor:null,D=Zt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,U=!!t.escapeParameter,K=Qt(t.messageCompiler)?t.messageCompiler:P1,j=Qt(t.messageResolver)?t.messageResolver:R1,J=Qt(t.localeFallbacker)?t.localeFallbacker:S1,ne=Ct(t.fallbackContext)?t.fallbackContext:void 0,X=t,Z=Ct(X.__datetimeFormatters)?X.__datetimeFormatters:new Map,G=Ct(X.__numberFormatters)?X.__numberFormatters:new Map,W=Ct(X.__meta)?X.__meta:{};H0++;const z={version:n,cid:H0,locale:r,fallbackLocale:i,messages:a,modifiers:d,pluralRules:p,missing:y,missingWarn:B,fallbackWarn:x,fallbackFormat:M,unresolving:I,postTranslation:R,processor:N,warnHtmlMessage:D,escapeParameter:U,messageCompiler:K,messageResolver:j,localeFallbacker:J,fallbackContext:ne,onWarn:e,__meta:W};return z.datetimeFormats=o,z.numberFormats=f,z.__datetimeFormatters=Z,z.__numberFormatters=G,__INTLIFY_PROD_DEVTOOLS__&&A1(z,n,W),z}const of=t=>({[t]:Ft()});function uh(t,e,n,r,s){const{missing:i,onWarn:a}=t;if(i!==null){const o=i(t,n,e,s);return De(o)?o:e}else return e}function ca(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function D1(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function U1(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(D1(t,e[r]))return!0;return!1}function $0(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:a}=t,{__datetimeFormatters:o}=t,[f,d,p,y]=od(...e),B=Zt(p.missingWarn)?p.missingWarn:t.missingWarn;Zt(p.fallbackWarn)?p.fallbackWarn:t.fallbackWarn;const x=!!p.part,M=ch(t,p),I=a(t,s,M);if(!De(f)||f==="")return new Intl.DateTimeFormat(M,y).format(d);let R={},N,D=null;const U="datetime format";for(let J=0;J<I.length&&(N=I[J],R=n[N]||{},D=R[f],!Tt(D));J++)uh(t,f,N,B,U);if(!Tt(D)||!De(N))return r?yl:f;let K=`${N}__${f}`;gl(y)||(K=`${K}__${JSON.stringify(y)}`);let j=o.get(K);return j||(j=new Intl.DateTimeFormat(N,In({},D,y)),o.set(K,j)),x?j.formatToParts(d):j.format(d)}const Eg=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function od(...t){const[e,n,r,s]=t,i=Ft();let a=Ft(),o;if(De(e)){const f=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!f)throw Yr(Zr.INVALID_ISO_DATE_ARGUMENT);const d=f[3]?f[3].trim().startsWith("T")?`${f[1].trim()}${f[3].trim()}`:`${f[1].trim()}T${f[3].trim()}`:f[1].trim();o=new Date(d);try{o.toISOString()}catch{throw Yr(Zr.INVALID_ISO_DATE_ARGUMENT)}}else if(n1(e)){if(isNaN(e.getTime()))throw Yr(Zr.INVALID_DATE_ARGUMENT);o=e}else if(En(e))o=e;else throw Yr(Zr.INVALID_ARGUMENT);return De(n)?i.key=n:Tt(n)&&Object.keys(n).forEach(f=>{Eg.includes(f)?a[f]=n[f]:i[f]=n[f]}),De(r)?i.locale=r:Tt(r)&&(a=r),Tt(s)&&(a=s),[i.key||"",o,i,a]}function G0(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function q0(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:a}=t,{__numberFormatters:o}=t,[f,d,p,y]=ad(...e),B=Zt(p.missingWarn)?p.missingWarn:t.missingWarn;Zt(p.fallbackWarn)?p.fallbackWarn:t.fallbackWarn;const x=!!p.part,M=ch(t,p),I=a(t,s,M);if(!De(f)||f==="")return new Intl.NumberFormat(M,y).format(d);let R={},N,D=null;const U="number format";for(let J=0;J<I.length&&(N=I[J],R=n[N]||{},D=R[f],!Tt(D));J++)uh(t,f,N,B,U);if(!Tt(D)||!De(N))return r?yl:f;let K=`${N}__${f}`;gl(y)||(K=`${K}__${JSON.stringify(y)}`);let j=o.get(K);return j||(j=new Intl.NumberFormat(N,In({},D,y)),o.set(K,j)),x?j.formatToParts(d):j.format(d)}const xg=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function ad(...t){const[e,n,r,s]=t,i=Ft();let a=Ft();if(!En(e))throw Yr(Zr.INVALID_ARGUMENT);const o=e;return De(n)?i.key=n:Tt(n)&&Object.keys(n).forEach(f=>{xg.includes(f)?a[f]=n[f]:i[f]=n[f]}),De(r)?i.locale=r:Tt(r)&&(a=r),Tt(s)&&(a=s),[i.key||"",o,i,a]}function j0(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}const H1=t=>t,$1=t=>"",G1="text",q1=t=>t.length===0?"":a1(t),j1=o1;function z0(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function z1(t){const e=En(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(En(t.named.count)||En(t.named.n))?En(t.named.count)?t.named.count:En(t.named.n)?t.named.n:e:e}function V1(t,e){e.count||(e.count=t),e.n||(e.n=t)}function W1(t={}){const e=t.locale,n=z1(t),r=Ct(t.pluralRules)&&De(e)&&Qt(t.pluralRules[e])?t.pluralRules[e]:z0,s=Ct(t.pluralRules)&&De(e)&&Qt(t.pluralRules[e])?z0:void 0,i=N=>N[r(n,N.length,s)],a=t.list||[],o=N=>a[N],f=t.named||Ft();En(t.pluralIndex)&&V1(n,f);const d=N=>f[N];function p(N,D){const U=Qt(t.messages)?t.messages(N,!!D):Ct(t.messages)?t.messages[N]:!1;return U||(t.parent?t.parent.message(N):$1)}const y=N=>t.modifiers?t.modifiers[N]:H1,B=Tt(t.processor)&&Qt(t.processor.normalize)?t.processor.normalize:q1,x=Tt(t.processor)&&Qt(t.processor.interpolate)?t.processor.interpolate:j1,M=Tt(t.processor)&&De(t.processor.type)?t.processor.type:G1,R={list:o,named:d,plural:i,linked:(N,...D)=>{const[U,K]=D;let j="text",J="";D.length===1?Ct(U)?(J=U.modifier||J,j=U.type||j):De(U)&&(J=U||J):D.length===2&&(De(U)&&(J=U||J),De(K)&&(j=K||j));const ne=p(N,!0)(R),X=j==="vnode"&&en(ne)&&J?ne[0]:ne;return J?y(J)(X,j):X},message:p,type:M,interpolate:x,normalize:B,values:In(Ft(),a,f)};return R}const V0=()=>"",Xn=t=>Qt(t);function W0(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:i,fallbackLocale:a,messages:o}=t,[f,d]=cd(...e),p=Zt(d.missingWarn)?d.missingWarn:t.missingWarn,y=Zt(d.fallbackWarn)?d.fallbackWarn:t.fallbackWarn,B=Zt(d.escapeParameter)?d.escapeParameter:t.escapeParameter,x=!!d.resolvedMessage,M=De(d.default)||Zt(d.default)?Zt(d.default)?i?f:()=>f:d.default:n?i?f:()=>f:null,I=n||M!=null&&(De(M)||Qt(M)),R=ch(t,d);B&&K1(d);let[N,D,U]=x?[f,R,o[R]||Ft()]:Ig(t,f,R,a,y,p),K=N,j=f;if(!x&&!(De(K)||Xr(K)||Xn(K))&&I&&(K=M,j=K),!x&&(!(De(K)||Xr(K)||Xn(K))||!De(D)))return s?yl:f;let J=!1;const ne=()=>{J=!0},X=Xn(K)?K:Sg(t,f,D,K,j,ne);if(J)return K;const Z=Y1(t,D,U,d),G=W1(Z),W=Q1(t,X,G),z=r?r(W,f):W;if(__INTLIFY_PROD_DEVTOOLS__){const _={timestamp:Date.now(),key:De(f)?f:Xn(K)?K.key:"",locale:D||(Xn(K)?K.locale:""),format:De(K)?K:Xn(K)?K.source:"",message:z};_.meta=In({},t.__meta,L1()||{}),E1(_)}return z}function K1(t){en(t.list)?t.list=t.list.map(e=>De(e)?N0(e):e):Ct(t.named)&&Object.keys(t.named).forEach(e=>{De(t.named[e])&&(t.named[e]=N0(t.named[e]))})}function Ig(t,e,n,r,s,i){const{messages:a,onWarn:o,messageResolver:f,localeFallbacker:d}=t,p=d(t,r,n);let y=Ft(),B,x=null;const M="translate";for(let I=0;I<p.length&&(B=p[I],y=a[B]||Ft(),(x=f(y,e))===null&&(x=y[e]),!(De(x)||Xr(x)||Xn(x)));I++)if(!U1(B,p)){const R=uh(t,e,B,i,M);R!==e&&(x=R)}return[x,B,y]}function Sg(t,e,n,r,s,i){const{messageCompiler:a,warnHtmlMessage:o}=t;if(Xn(r)){const d=r;return d.locale=d.locale||n,d.key=d.key||e,d}if(a==null){const d=()=>r;return d.locale=n,d.key=e,d}const f=a(r,Z1(t,n,s,r,o,i));return f.locale=n,f.key=e,f.source=r,f}function Q1(t,e,n){return e(n)}function cd(...t){const[e,n,r]=t,s=Ft();if(!De(e)&&!En(e)&&!Xn(e)&&!Xr(e))throw Yr(Zr.INVALID_ARGUMENT);const i=En(e)?String(e):(Xn(e),e);return En(n)?s.plural=n:De(n)?s.default=n:Tt(n)&&!gl(n)?s.named=n:en(n)&&(s.list=n),En(r)?s.plural=r:De(r)?s.default=r:Tt(r)&&In(s,r),[i,s]}function Z1(t,e,n,r,s,i){return{locale:e,key:n,warnHtmlMessage:s,onError:a=>{throw i&&i(a),a},onCacheKey:a=>e1(e,n,a)}}function Y1(t,e,n,r){const{modifiers:s,pluralRules:i,messageResolver:a,fallbackLocale:o,fallbackWarn:f,missingWarn:d,fallbackContext:p}=t,B={locale:e,modifiers:s,pluralRules:i,messages:(x,M)=>{let I=a(n,x);if(I==null&&(p||M)){const[,,R]=Ig(p||t,x,e,o,f,d);I=a(R,x)}if(De(I)||Xr(I)){let R=!1;const D=Sg(t,x,e,I,x,()=>{R=!0});return R?V0:D}else return Xn(I)?I:V0}};return t.processor&&(B.processor=t.processor),r.list&&(B.list=r.list),r.named&&(B.named=r.named),En(r.plural)&&(B.pluralIndex=r.plural),B}l1();/*!
  * vue-i18n-core v12.0.0-alpha.3
  * (c) 2016-present kazuya kawaguchi and contributors
  * Released under the MIT License.
  */const J1="12.0.0-alpha.3";function X1(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(ho().__VUE_I18N_FULL_INSTALL__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ho().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ho().__INTLIFY_PROD_DEVTOOLS__=!1)}const ti={UNEXPECTED_RETURN_TYPE:I1,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Ii(t,...e){return wg(t,null,void 0)}const ud=Pi("__translateVNode"),ld=Pi("__datetimeParts"),fd=Pi("__numberParts"),e_=Pi("__setPluralRules"),t_=Pi("__injectWithOption"),dd=Pi("__dispose");function La(t){if(!Ct(t)||Xr(t))return t;for(const e in t)if(Is(t,e))if(!e.includes("."))Ct(t[e])&&La(t[e]);else{const n=e.split("."),r=n.length-1;let s=t,i=!1;for(let a=0;a<r;a++){if(n[a]==="__proto__")throw new Error(`unsafe key: ${n[a]}`);if(n[a]in s||(s[n[a]]=Ft()),!Ct(s[n[a]])){i=!0;break}s=s[n[a]]}if(i||(Xr(s)?b1.includes(n[r])||delete t[e]:(s[n[r]]=t[e],delete t[e])),!Xr(s)){const a=s[n[r]];Ct(a)&&La(a)}}return t}function Bg(t,e){const{messages:n,__i18n:r,messageResolver:s,flatJson:i}=e,a=Tt(n)?n:en(r)?Ft():{[t]:Ft()};if(en(r)&&r.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:f,resource:d}=o;f?(a[f]=a[f]||Ft(),Wc(d,a[f])):Wc(d,a)}else De(o)&&Wc(JSON.parse(o),a)}),s==null&&i)for(const o in a)Is(a,o)&&La(a[o]);return a}function kg(t){return t.type}function n_(t,e,n){let r=Ct(e.messages)?e.messages:Ft();"__i18nGlobal"in n&&(r=Bg(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(i=>{t.mergeLocaleMessage(i,r[i])});{if(Ct(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(a=>{t.mergeDateTimeFormat(a,e.datetimeFormats[a])})}if(Ct(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(a=>{t.mergeNumberFormat(a,e.numberFormats[a])})}}}function K0(t){return Ht(zb,null,t,0)}const Q0="__INTLIFY_META__",Z0=()=>[],r_=()=>!1;let Y0=0;function J0(t){return(e,n,r,s)=>t(n,r,sh()||void 0,s)}const i_=()=>{const t=sh();let e=null;return t&&(e=kg(t)[Q0])?{[Q0]:e}:null};function Tg(t={}){const{__root:e,__injectWithOption:n}=t,r=e===void 0,s=t.flatJson,i=C0?He:$b;let a=Zt(t.inheritLocale)?t.inheritLocale:!0;const o=i(e&&a?e.locale.value:De(t.locale)?t.locale:au),f=i(e&&a?e.fallbackLocale.value:De(t.fallbackLocale)||en(t.fallbackLocale)||Tt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:o.value),d=i(Bg(o.value,t)),p=i(Tt(t.datetimeFormats)?t.datetimeFormats:{[o.value]:{}}),y=i(Tt(t.numberFormats)?t.numberFormats:{[o.value]:{}});let B=e?e.missingWarn:Zt(t.missingWarn)||ou(t.missingWarn)?t.missingWarn:!0,x=e?e.fallbackWarn:Zt(t.fallbackWarn)||ou(t.fallbackWarn)?t.fallbackWarn:!0,M=e?e.fallbackRoot:Zt(t.fallbackRoot)?t.fallbackRoot:!0,I=!!t.fallbackFormat,R=Qt(t.missing)?t.missing:null,N=Qt(t.missing)?J0(t.missing):null,D=Qt(t.postTranslation)?t.postTranslation:null,U=e?e.warnHtmlMessage:Zt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,K=!!t.escapeParameter;const j=e?e.modifiers:Tt(t.modifiers)?t.modifiers:{};let J=t.pluralRules||e&&e.pluralRules,ne;ne=(()=>{r&&U0(null);const ie={version:J1,locale:o.value,fallbackLocale:f.value,messages:d.value,modifiers:j,pluralRules:J,missing:N===null?void 0:N,missingWarn:B,fallbackWarn:x,fallbackFormat:I,unresolving:!0,postTranslation:D===null?void 0:D,warnHtmlMessage:U,escapeParameter:K,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};ie.datetimeFormats=p.value,ie.numberFormats=y.value,ie.__datetimeFormatters=Tt(ne)?ne.__datetimeFormatters:void 0,ie.__numberFormatters=Tt(ne)?ne.__numberFormatters:void 0;const ce=F1(ie);return r&&U0(ce),ce})(),ca(ne,o.value,f.value);function Z(){return[o.value,f.value,d.value,p.value,y.value]}const G=_t({get:()=>o.value,set:ie=>{ne.locale=ie,o.value=ie}}),W=_t({get:()=>f.value,set:ie=>{ne.fallbackLocale=ie,f.value=ie,ca(ne,o.value,ie)}}),z=_t(()=>d.value),_=_t(()=>Object.keys(d.value).sort()),l=_t(()=>p.value),m=_t(()=>y.value);function b(){return Qt(D)?D:null}function E(ie){D=ie,ne.postTranslation=ie}function S(){return R}function P(ie){ie!==null&&(N=J0(ie)),R=ie,ne.missing=N}const O=(ie,ce,g,c,u,w)=>{Z();let k;try{__INTLIFY_PROD_DEVTOOLS__,r||(ne.fallbackContext=e?O1():void 0),k=ie(ne)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(ne.fallbackContext=void 0)}if(g!=="translate exists"&&En(k)&&k===yl||g==="translate exists"&&!k){const[L,H]=ce();return e&&M?c(e):u(L)}else{if(w(k))return k;throw Ii(ti.UNEXPECTED_RETURN_TYPE)}};function A(...ie){return O(ce=>Reflect.apply(W0,null,[ce,...ie]),()=>cd(...ie),"translate",ce=>Reflect.apply(ce.t,ce,[...ie]),ce=>ce,ce=>De(ce))}function h(...ie){const[ce,g,c]=ie;if(c&&!Ct(c))throw Ii(ti.INVALID_ARGUMENT);return A(ce,g,In({resolvedMessage:!0},c||{}))}function v(...ie){return O(ce=>Reflect.apply($0,null,[ce,...ie]),()=>od(...ie),"datetime format",ce=>Reflect.apply(ce.d,ce,[...ie]),()=>F0,ce=>De(ce)||en(ce))}function F(...ie){return O(ce=>Reflect.apply(q0,null,[ce,...ie]),()=>ad(...ie),"number format",ce=>Reflect.apply(ce.n,ce,[...ie]),()=>F0,ce=>De(ce)||en(ce))}function $(ie){return ie.map(ce=>De(ce)||En(ce)||Zt(ce)?K0(String(ce)):ce)}const se={normalize:$,interpolate:ie=>ie,type:"vnode"};function fe(...ie){return O(ce=>{let g;const c=ce;try{c.processor=se,g=Reflect.apply(W0,null,[c,...ie])}finally{c.processor=null}return g},()=>cd(...ie),"translate",ce=>ce[ud](...ie),ce=>[K0(ce)],ce=>en(ce))}function re(...ie){return O(ce=>Reflect.apply(q0,null,[ce,...ie]),()=>ad(...ie),"number format",ce=>ce[fd](...ie),Z0,ce=>De(ce)||en(ce))}function xe(...ie){return O(ce=>Reflect.apply($0,null,[ce,...ie]),()=>od(...ie),"datetime format",ce=>ce[ld](...ie),Z0,ce=>De(ce)||en(ce))}function ye(ie){J=ie,ne.pluralRules=J}function ke(ie,ce){return O(()=>{if(!ie)return!1;const g=De(ce)?ce:o.value,c=$e(g),u=ne.messageResolver(c,ie);return Xr(u)||Xn(u)||De(u)},()=>[ie],"translate exists",g=>Reflect.apply(g.te,g,[ie,ce]),r_,g=>Zt(g))}function Ze(ie){let ce=null;const g=B1(ne,f.value,o.value);for(let c=0;c<g.length;c++){const u=d.value[g[c]]||{},w=ne.messageResolver(u,ie);if(w!=null){ce=w;break}}return ce}function Ne(ie){const ce=Ze(ie);return ce??(e?e.tm(ie)||{}:{})}function $e(ie){return d.value[ie]||{}}function V(ie,ce){if(s){const g={[ie]:ce};for(const c in g)Is(g,c)&&La(g[c]);ce=g[ie]}d.value[ie]=ce,ne.messages=d.value}function T(ie,ce){d.value[ie]=d.value[ie]||{};const g={[ie]:ce};if(s)for(const c in g)Is(g,c)&&La(g[c]);ce=g[ie],Wc(ce,d.value[ie]),ne.messages=d.value}function C(ie){return p.value[ie]||{}}function Q(ie,ce){p.value[ie]=ce,ne.datetimeFormats=p.value,G0(ne,ie,ce)}function te(ie,ce){p.value[ie]=In(p.value[ie]||{},ce),ne.datetimeFormats=p.value,G0(ne,ie,ce)}function ae(ie){return y.value[ie]||{}}function de(ie,ce){y.value[ie]=ce,ne.numberFormats=y.value,j0(ne,ie,ce)}function Ae(ie,ce){y.value[ie]=In(y.value[ie]||{},ce),ne.numberFormats=y.value,j0(ne,ie,ce)}Y0++,e&&C0&&(xs(e.locale,ie=>{a&&(o.value=ie,ne.locale=ie,ca(ne,o.value,f.value))}),xs(e.fallbackLocale,ie=>{a&&(f.value=ie,ne.fallbackLocale=ie,ca(ne,o.value,f.value))}));const _e={id:Y0,locale:G,fallbackLocale:W,get inheritLocale(){return a},set inheritLocale(ie){a=ie,ie&&e&&(o.value=e.locale.value,f.value=e.fallbackLocale.value,ca(ne,o.value,f.value))},availableLocales:_,messages:z,get modifiers(){return j},get pluralRules(){return J||{}},get isGlobal(){return r},get missingWarn(){return B},set missingWarn(ie){B=ie,ne.missingWarn=B},get fallbackWarn(){return x},set fallbackWarn(ie){x=ie,ne.fallbackWarn=x},get fallbackRoot(){return M},set fallbackRoot(ie){M=ie},get fallbackFormat(){return I},set fallbackFormat(ie){I=ie,ne.fallbackFormat=I},get warnHtmlMessage(){return U},set warnHtmlMessage(ie){U=ie,ne.warnHtmlMessage=ie},get escapeParameter(){return K},set escapeParameter(ie){K=ie,ne.escapeParameter=ie},t:A,getLocaleMessage:$e,setLocaleMessage:V,mergeLocaleMessage:T,getPostTranslationHandler:b,setPostTranslationHandler:E,getMissingHandler:S,setMissingHandler:P,[e_]:ye};return _e.datetimeFormats=l,_e.numberFormats=m,_e.rt=h,_e.te=ke,_e.tm=Ne,_e.d=v,_e.n=F,_e.getDateTimeFormat=C,_e.setDateTimeFormat=Q,_e.mergeDateTimeFormat=te,_e.getNumberFormat=ae,_e.setNumberFormat=de,_e.mergeNumberFormat=Ae,_e[t_]=n,_e[ud]=fe,_e[ld]=xe,_e[fd]=re,_e}const lh={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function s_({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,s)=>[...r,...s.type===or?s.children:[s]],[]):e.reduce((n,r)=>{const s=t[r];return s&&(n[r]=s()),n},Ft())}function Rg(){return or}function o_(t){return en(t)&&!De(t[0])}function Mg(t,e,n,r){const{slots:s,attrs:i}=e;return()=>{const a={part:!0};let o=Ft();t.locale&&(a.locale=t.locale),De(t.format)?a.key=t.format:Ct(t.format)&&(De(t.format.key)&&(a.key=t.format.key),o=Object.keys(t.format).reduce((B,x)=>n.includes(x)?In(Ft(),B,{[x]:t.format[x]}):B,Ft()));const f=r(t.value,a,o);let d=[a.key];en(f)?d=f.map((B,x)=>{const M=s[B.type],I=M?M({[B.type]:B.value,index:x,parts:f}):[B.value];return o_(I)&&(I[0].key=`${B.type}-${x}`),I}):De(f)&&(d=[f]);const p=In(Ft(),i),y=De(t.tag)||Ct(t.tag)?t.tag:Rg();return mg(y,p,d)}}const a_=gn({name:"i18n-d",props:In({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},lh),setup(t,e){const n=t.i18n||jo({useScope:t.scope,__useComponent:!0});return Mg(t,e,Eg,(...r)=>n[ld](...r))}}),X0=a_,c_=gn({name:"i18n-n",props:In({value:{type:Number,required:!0},format:{type:[String,Object]}},lh),setup(t,e){const n=t.i18n||jo({useScope:t.scope,__useComponent:!0});return Mg(t,e,xg,(...r)=>n[fd](...r))}}),ep=c_,u_=gn({name:"i18n-t",props:In({},{keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>En(t)||!isNaN(t)}},lh),setup(t,e){const{slots:n,attrs:r}=e,s=t.i18n||jo({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(y=>y[0]!=="_"),a=Ft();t.locale&&(a.locale=t.locale),t.plural!==void 0&&(a.plural=De(t.plural)?+t.plural:t.plural);const o=s_(e,i),f=s[ud](t.keypath,o,a),d=In(Ft(),r),p=De(t.tag)||Ct(t.tag)?t.tag:Rg();return mg(p,d,f)}}}),tp=u_;function l_(t,...e){const n=Tt(e[0])?e[0]:{};(Zt(n.globalInstall)?n.globalInstall:!0)&&([tp.name,"I18nT"].forEach(s=>t.component(s,tp)),[ep.name,"I18nN"].forEach(s=>t.component(s,ep)),[X0.name,"I18nD"].forEach(s=>t.component(s,X0)))}const f_=Pi("global-vue-i18n");function d_(t={}){const e=Zt(t.globalInjection)?t.globalInjection:!0,n=new Map,[r,s]=h_(t),i=Pi("");function a(p){return n.get(p)||null}function o(p,y){n.set(p,y)}function f(p){n.delete(p)}const d={async install(p,...y){if(p.__VUE_I18N_SYMBOL__=i,p.provide(p.__VUE_I18N_SYMBOL__,d),Tt(y[0])){const M=y[0];d.__composerExtend=M.__composerExtend}let B=null;e&&(B=__(p,d.global)),__VUE_I18N_FULL_INSTALL__&&l_(p,...y);const x=p.unmount;p.unmount=()=>{B&&B(),d.dispose(),x()}},get global(){return s},dispose(){r.stop()},__instances:n,__getInstance:a,__setInstance:o,__deleteInstance:f};return d}function jo(t={}){const e=sh();if(e==null)throw Ii(ti.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Ii(ti.NOT_INSTALLED);const n=p_(e),r=g_(n),s=kg(e),i=m_(t,s);if(i==="global")return n_(r,t,s),r;if(i==="parent"){let f=y_(n,e,t.__useComponent);return f==null&&(f=r),f}const a=n;let o=a.__getInstance(e);if(o==null){const f=In({},t);"__i18n"in s&&(f.__i18n=s.__i18n),r&&(f.__root=r),o=Tg(f),a.__composerExtend&&(o[dd]=a.__composerExtend(o)),w_(a,e,o),a.__setInstance(e,o)}return o}function h_(t){const e=Hb(),n=e.run(()=>Tg(t));if(n==null)throw Ii(ti.UNEXPECTED_ERROR);return[e,n]}function p_(t){const e=qb(t.isCE?f_:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Ii(t.isCE?ti.NOT_INSTALLED_WITH_PROVIDE:ti.UNEXPECTED_ERROR);return e}function m_(t,e){return gl(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function g_(t){return t.global}function y_(t,e,n=!1){let r=null;const s=e.root;let i=v_(e,n);for(;i!=null&&(r=t.__getInstance(i),!(r!=null||s===i));)i=i.parent;return r}function v_(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function w_(t,e,n){fc(()=>{},e),jb(()=>{const r=n;t.__deleteInstance(e);const s=r[dd];s&&(s(),delete r[dd])},e)}const b_=["locale","fallbackLocale","availableLocales"],np=["t","rt","d","n","tm","te"];function __(t,e){const n=Object.create(null);return b_.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i)throw Ii(ti.UNEXPECTED_ERROR);const a=Gb(i.value)?{get(){return i.value.value},set(o){i.value.value=o}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,s,a)}),t.config.globalProperties.$i18n=n,np.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i||!i.value)throw Ii(ti.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,i)}),()=>{delete t.config.globalProperties.$i18n,np.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}X1();if(__INTLIFY_PROD_DEVTOOLS__){const t=ho();t.__INTLIFY__=!0,_1(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Cg=pl("theme",()=>{const t=He("light"),e=()=>{const i=localStorage.getItem("gli-theme");if(i&&["light","dark"].includes(i))t.value=i;else{const a=window.matchMedia("(prefers-color-scheme: dark)").matches;t.value=a?"dark":"light"}n()},n=()=>{const i=document.documentElement;i.classList.remove("light","dark"),i.classList.add(t.value),i.setAttribute("data-theme",t.value)},r=()=>{t.value=t.value==="light"?"dark":"light"},s=i=>{t.value=i};return xs(t,i=>{localStorage.setItem("gli-theme",i),n()}),{theme:t,loadTheme:e,toggleTheme:r,setTheme:s,applyTheme:n}});var ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ni(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fh(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var af={},ua={},rp;function vl(){if(rp)return ua;rp=1,ua.byteLength=o,ua.toByteArray=d,ua.fromByteArray=B;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=r.length;s<i;++s)t[s]=r[s],e[r.charCodeAt(s)]=s;e[45]=62,e[95]=63;function a(x){var M=x.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=x.indexOf("=");I===-1&&(I=M);var R=I===M?0:4-I%4;return[I,R]}function o(x){var M=a(x),I=M[0],R=M[1];return(I+R)*3/4-R}function f(x,M,I){return(M+I)*3/4-I}function d(x){var M,I=a(x),R=I[0],N=I[1],D=new n(f(x,R,N)),U=0,K=N>0?R-4:R,j;for(j=0;j<K;j+=4)M=e[x.charCodeAt(j)]<<18|e[x.charCodeAt(j+1)]<<12|e[x.charCodeAt(j+2)]<<6|e[x.charCodeAt(j+3)],D[U++]=M>>16&255,D[U++]=M>>8&255,D[U++]=M&255;return N===2&&(M=e[x.charCodeAt(j)]<<2|e[x.charCodeAt(j+1)]>>4,D[U++]=M&255),N===1&&(M=e[x.charCodeAt(j)]<<10|e[x.charCodeAt(j+1)]<<4|e[x.charCodeAt(j+2)]>>2,D[U++]=M>>8&255,D[U++]=M&255),D}function p(x){return t[x>>18&63]+t[x>>12&63]+t[x>>6&63]+t[x&63]}function y(x,M,I){for(var R,N=[],D=M;D<I;D+=3)R=(x[D]<<16&16711680)+(x[D+1]<<8&65280)+(x[D+2]&255),N.push(p(R));return N.join("")}function B(x){for(var M,I=x.length,R=I%3,N=[],D=16383,U=0,K=I-R;U<K;U+=D)N.push(y(x,U,U+D>K?K:U+D));return R===1?(M=x[I-1],N.push(t[M>>2]+t[M<<4&63]+"==")):R===2&&(M=(x[I-2]<<8)+x[I-1],N.push(t[M>>10]+t[M>>4&63]+t[M<<2&63]+"=")),N.join("")}return ua}var Mc={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var ip;function wl(){return ip||(ip=1,Mc.read=function(t,e,n,r,s){var i,a,o=s*8-r-1,f=(1<<o)-1,d=f>>1,p=-7,y=n?s-1:0,B=n?-1:1,x=t[e+y];for(y+=B,i=x&(1<<-p)-1,x>>=-p,p+=o;p>0;i=i*256+t[e+y],y+=B,p-=8);for(a=i&(1<<-p)-1,i>>=-p,p+=r;p>0;a=a*256+t[e+y],y+=B,p-=8);if(i===0)i=1-d;else{if(i===f)return a?NaN:(x?-1:1)*(1/0);a=a+Math.pow(2,r),i=i-d}return(x?-1:1)*a*Math.pow(2,i-r)},Mc.write=function(t,e,n,r,s,i){var a,o,f,d=i*8-s-1,p=(1<<d)-1,y=p>>1,B=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=r?0:i-1,M=r?1:-1,I=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=p):(a=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-a))<1&&(a--,f*=2),a+y>=1?e+=B/f:e+=B*Math.pow(2,1-y),e*f>=2&&(a++,f/=2),a+y>=p?(o=0,a=p):a+y>=1?(o=(e*f-1)*Math.pow(2,s),a=a+y):(o=e*Math.pow(2,y-1)*Math.pow(2,s),a=0));s>=8;t[n+x]=o&255,x+=M,o/=256,s-=8);for(a=a<<s|o,d+=s;d>0;t[n+x]=a&255,x+=M,a/=256,d-=8);t[n+x-M]|=I*128}),Mc}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var sp;function A_(){return sp||(sp=1,function(t){const e=vl(),n=wl(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=D,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const g=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(g,c),g.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(g){if(g>s)throw new RangeError('The value "'+g+'" is invalid for option "size"');const c=new Uint8Array(g);return Object.setPrototypeOf(c,o.prototype),c}function o(g,c,u){if(typeof g=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(g)}return f(g,c,u)}o.poolSize=8192;function f(g,c,u){if(typeof g=="string")return B(g,c);if(ArrayBuffer.isView(g))return M(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(de(g,ArrayBuffer)||g&&de(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(de(g,SharedArrayBuffer)||g&&de(g.buffer,SharedArrayBuffer)))return I(g,c,u);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const w=g.valueOf&&g.valueOf();if(w!=null&&w!==g)return o.from(w,c,u);const k=R(g);if(k)return k;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return o.from(g[Symbol.toPrimitive]("string"),c,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}o.from=function(g,c,u){return f(g,c,u)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function d(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function p(g,c,u){return d(g),g<=0?a(g):c!==void 0?typeof u=="string"?a(g).fill(c,u):a(g).fill(c):a(g)}o.alloc=function(g,c,u){return p(g,c,u)};function y(g){return d(g),a(g<0?0:N(g)|0)}o.allocUnsafe=function(g){return y(g)},o.allocUnsafeSlow=function(g){return y(g)};function B(g,c){if((typeof c!="string"||c==="")&&(c="utf8"),!o.isEncoding(c))throw new TypeError("Unknown encoding: "+c);const u=U(g,c)|0;let w=a(u);const k=w.write(g,c);return k!==u&&(w=w.slice(0,k)),w}function x(g){const c=g.length<0?0:N(g.length)|0,u=a(c);for(let w=0;w<c;w+=1)u[w]=g[w]&255;return u}function M(g){if(de(g,Uint8Array)){const c=new Uint8Array(g);return I(c.buffer,c.byteOffset,c.byteLength)}return x(g)}function I(g,c,u){if(c<0||g.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<c+(u||0))throw new RangeError('"length" is outside of buffer bounds');let w;return c===void 0&&u===void 0?w=new Uint8Array(g):u===void 0?w=new Uint8Array(g,c):w=new Uint8Array(g,c,u),Object.setPrototypeOf(w,o.prototype),w}function R(g){if(o.isBuffer(g)){const c=N(g.length)|0,u=a(c);return u.length===0||g.copy(u,0,0,c),u}if(g.length!==void 0)return typeof g.length!="number"||Ae(g.length)?a(0):x(g);if(g.type==="Buffer"&&Array.isArray(g.data))return x(g.data)}function N(g){if(g>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return g|0}function D(g){return+g!=g&&(g=0),o.alloc(+g)}o.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==o.prototype},o.compare=function(c,u){if(de(c,Uint8Array)&&(c=o.from(c,c.offset,c.byteLength)),de(u,Uint8Array)&&(u=o.from(u,u.offset,u.byteLength)),!o.isBuffer(c)||!o.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===u)return 0;let w=c.length,k=u.length;for(let L=0,H=Math.min(w,k);L<H;++L)if(c[L]!==u[L]){w=c[L],k=u[L];break}return w<k?-1:k<w?1:0},o.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(c,u){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return o.alloc(0);let w;if(u===void 0)for(u=0,w=0;w<c.length;++w)u+=c[w].length;const k=o.allocUnsafe(u);let L=0;for(w=0;w<c.length;++w){let H=c[w];if(de(H,Uint8Array))L+H.length>k.length?(o.isBuffer(H)||(H=o.from(H)),H.copy(k,L)):Uint8Array.prototype.set.call(k,H,L);else if(o.isBuffer(H))H.copy(k,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=H.length}return k};function U(g,c){if(o.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||de(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const u=g.length,w=arguments.length>2&&arguments[2]===!0;if(!w&&u===0)return 0;let k=!1;for(;;)switch(c){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return T(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return te(g).length;default:if(k)return w?-1:T(g).length;c=(""+c).toLowerCase(),k=!0}}o.byteLength=U;function K(g,c,u){let w=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,c>>>=0,u<=c))return"";for(g||(g="utf8");;)switch(g){case"hex":return P(this,c,u);case"utf8":case"utf-8":return l(this,c,u);case"ascii":return E(this,c,u);case"latin1":case"binary":return S(this,c,u);case"base64":return _(this,c,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,c,u);default:if(w)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),w=!0}}o.prototype._isBuffer=!0;function j(g,c,u){const w=g[c];g[c]=g[u],g[u]=w}o.prototype.swap16=function(){const c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<c;u+=2)j(this,u,u+1);return this},o.prototype.swap32=function(){const c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<c;u+=4)j(this,u,u+3),j(this,u+1,u+2);return this},o.prototype.swap64=function(){const c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<c;u+=8)j(this,u,u+7),j(this,u+1,u+6),j(this,u+2,u+5),j(this,u+3,u+4);return this},o.prototype.toString=function(){const c=this.length;return c===0?"":arguments.length===0?l(this,0,c):K.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(c){if(!o.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:o.compare(this,c)===0},o.prototype.inspect=function(){let c="";const u=t.INSPECT_MAX_BYTES;return c=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(c+=" ... "),"<Buffer "+c+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(c,u,w,k,L){if(de(c,Uint8Array)&&(c=o.from(c,c.offset,c.byteLength)),!o.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(u===void 0&&(u=0),w===void 0&&(w=c?c.length:0),k===void 0&&(k=0),L===void 0&&(L=this.length),u<0||w>c.length||k<0||L>this.length)throw new RangeError("out of range index");if(k>=L&&u>=w)return 0;if(k>=L)return-1;if(u>=w)return 1;if(u>>>=0,w>>>=0,k>>>=0,L>>>=0,this===c)return 0;let H=L-k,pe=w-u;const ge=Math.min(H,pe),me=this.slice(k,L),Ce=c.slice(u,w);for(let he=0;he<ge;++he)if(me[he]!==Ce[he]){H=me[he],pe=Ce[he];break}return H<pe?-1:pe<H?1:0};function J(g,c,u,w,k){if(g.length===0)return-1;if(typeof u=="string"?(w=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,Ae(u)&&(u=k?0:g.length-1),u<0&&(u=g.length+u),u>=g.length){if(k)return-1;u=g.length-1}else if(u<0)if(k)u=0;else return-1;if(typeof c=="string"&&(c=o.from(c,w)),o.isBuffer(c))return c.length===0?-1:ne(g,c,u,w,k);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(g,c,u):Uint8Array.prototype.lastIndexOf.call(g,c,u):ne(g,[c],u,w,k);throw new TypeError("val must be string, number or Buffer")}function ne(g,c,u,w,k){let L=1,H=g.length,pe=c.length;if(w!==void 0&&(w=String(w).toLowerCase(),w==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(g.length<2||c.length<2)return-1;L=2,H/=2,pe/=2,u/=2}function ge(Ce,he){return L===1?Ce[he]:Ce.readUInt16BE(he*L)}let me;if(k){let Ce=-1;for(me=u;me<H;me++)if(ge(g,me)===ge(c,Ce===-1?0:me-Ce)){if(Ce===-1&&(Ce=me),me-Ce+1===pe)return Ce*L}else Ce!==-1&&(me-=me-Ce),Ce=-1}else for(u+pe>H&&(u=H-pe),me=u;me>=0;me--){let Ce=!0;for(let he=0;he<pe;he++)if(ge(g,me+he)!==ge(c,he)){Ce=!1;break}if(Ce)return me}return-1}o.prototype.includes=function(c,u,w){return this.indexOf(c,u,w)!==-1},o.prototype.indexOf=function(c,u,w){return J(this,c,u,w,!0)},o.prototype.lastIndexOf=function(c,u,w){return J(this,c,u,w,!1)};function X(g,c,u,w){u=Number(u)||0;const k=g.length-u;w?(w=Number(w),w>k&&(w=k)):w=k;const L=c.length;w>L/2&&(w=L/2);let H;for(H=0;H<w;++H){const pe=parseInt(c.substr(H*2,2),16);if(Ae(pe))return H;g[u+H]=pe}return H}function Z(g,c,u,w){return ae(T(c,g.length-u),g,u,w)}function G(g,c,u,w){return ae(C(c),g,u,w)}function W(g,c,u,w){return ae(te(c),g,u,w)}function z(g,c,u,w){return ae(Q(c,g.length-u),g,u,w)}o.prototype.write=function(c,u,w,k){if(u===void 0)k="utf8",w=this.length,u=0;else if(w===void 0&&typeof u=="string")k=u,w=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(w)?(w=w>>>0,k===void 0&&(k="utf8")):(k=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const L=this.length-u;if((w===void 0||w>L)&&(w=L),c.length>0&&(w<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");let H=!1;for(;;)switch(k){case"hex":return X(this,c,u,w);case"utf8":case"utf-8":return Z(this,c,u,w);case"ascii":case"latin1":case"binary":return G(this,c,u,w);case"base64":return W(this,c,u,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,c,u,w);default:if(H)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),H=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(g,c,u){return c===0&&u===g.length?e.fromByteArray(g):e.fromByteArray(g.slice(c,u))}function l(g,c,u){u=Math.min(g.length,u);const w=[];let k=c;for(;k<u;){const L=g[k];let H=null,pe=L>239?4:L>223?3:L>191?2:1;if(k+pe<=u){let ge,me,Ce,he;switch(pe){case 1:L<128&&(H=L);break;case 2:ge=g[k+1],(ge&192)===128&&(he=(L&31)<<6|ge&63,he>127&&(H=he));break;case 3:ge=g[k+1],me=g[k+2],(ge&192)===128&&(me&192)===128&&(he=(L&15)<<12|(ge&63)<<6|me&63,he>2047&&(he<55296||he>57343)&&(H=he));break;case 4:ge=g[k+1],me=g[k+2],Ce=g[k+3],(ge&192)===128&&(me&192)===128&&(Ce&192)===128&&(he=(L&15)<<18|(ge&63)<<12|(me&63)<<6|Ce&63,he>65535&&he<1114112&&(H=he))}}H===null?(H=65533,pe=1):H>65535&&(H-=65536,w.push(H>>>10&1023|55296),H=56320|H&1023),w.push(H),k+=pe}return b(w)}const m=4096;function b(g){const c=g.length;if(c<=m)return String.fromCharCode.apply(String,g);let u="",w=0;for(;w<c;)u+=String.fromCharCode.apply(String,g.slice(w,w+=m));return u}function E(g,c,u){let w="";u=Math.min(g.length,u);for(let k=c;k<u;++k)w+=String.fromCharCode(g[k]&127);return w}function S(g,c,u){let w="";u=Math.min(g.length,u);for(let k=c;k<u;++k)w+=String.fromCharCode(g[k]);return w}function P(g,c,u){const w=g.length;(!c||c<0)&&(c=0),(!u||u<0||u>w)&&(u=w);let k="";for(let L=c;L<u;++L)k+=_e[g[L]];return k}function O(g,c,u){const w=g.slice(c,u);let k="";for(let L=0;L<w.length-1;L+=2)k+=String.fromCharCode(w[L]+w[L+1]*256);return k}o.prototype.slice=function(c,u){const w=this.length;c=~~c,u=u===void 0?w:~~u,c<0?(c+=w,c<0&&(c=0)):c>w&&(c=w),u<0?(u+=w,u<0&&(u=0)):u>w&&(u=w),u<c&&(u=c);const k=this.subarray(c,u);return Object.setPrototypeOf(k,o.prototype),k};function A(g,c,u){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+c>u)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(c,u,w){c=c>>>0,u=u>>>0,w||A(c,u,this.length);let k=this[c],L=1,H=0;for(;++H<u&&(L*=256);)k+=this[c+H]*L;return k},o.prototype.readUintBE=o.prototype.readUIntBE=function(c,u,w){c=c>>>0,u=u>>>0,w||A(c,u,this.length);let k=this[c+--u],L=1;for(;u>0&&(L*=256);)k+=this[c+--u]*L;return k},o.prototype.readUint8=o.prototype.readUInt8=function(c,u){return c=c>>>0,u||A(c,1,this.length),this[c]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(c,u){return c=c>>>0,u||A(c,2,this.length),this[c]|this[c+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(c,u){return c=c>>>0,u||A(c,2,this.length),this[c]<<8|this[c+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(c,u){return c=c>>>0,u||A(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(c,u){return c=c>>>0,u||A(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},o.prototype.readBigUInt64LE=ie(function(c){c=c>>>0,Ze(c,"offset");const u=this[c],w=this[c+7];(u===void 0||w===void 0)&&Ne(c,this.length-8);const k=u+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,L=this[++c]+this[++c]*2**8+this[++c]*2**16+w*2**24;return BigInt(k)+(BigInt(L)<<BigInt(32))}),o.prototype.readBigUInt64BE=ie(function(c){c=c>>>0,Ze(c,"offset");const u=this[c],w=this[c+7];(u===void 0||w===void 0)&&Ne(c,this.length-8);const k=u*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],L=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+w;return(BigInt(k)<<BigInt(32))+BigInt(L)}),o.prototype.readIntLE=function(c,u,w){c=c>>>0,u=u>>>0,w||A(c,u,this.length);let k=this[c],L=1,H=0;for(;++H<u&&(L*=256);)k+=this[c+H]*L;return L*=128,k>=L&&(k-=Math.pow(2,8*u)),k},o.prototype.readIntBE=function(c,u,w){c=c>>>0,u=u>>>0,w||A(c,u,this.length);let k=u,L=1,H=this[c+--k];for(;k>0&&(L*=256);)H+=this[c+--k]*L;return L*=128,H>=L&&(H-=Math.pow(2,8*u)),H},o.prototype.readInt8=function(c,u){return c=c>>>0,u||A(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},o.prototype.readInt16LE=function(c,u){c=c>>>0,u||A(c,2,this.length);const w=this[c]|this[c+1]<<8;return w&32768?w|4294901760:w},o.prototype.readInt16BE=function(c,u){c=c>>>0,u||A(c,2,this.length);const w=this[c+1]|this[c]<<8;return w&32768?w|4294901760:w},o.prototype.readInt32LE=function(c,u){return c=c>>>0,u||A(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},o.prototype.readInt32BE=function(c,u){return c=c>>>0,u||A(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},o.prototype.readBigInt64LE=ie(function(c){c=c>>>0,Ze(c,"offset");const u=this[c],w=this[c+7];(u===void 0||w===void 0)&&Ne(c,this.length-8);const k=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(w<<24);return(BigInt(k)<<BigInt(32))+BigInt(u+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)}),o.prototype.readBigInt64BE=ie(function(c){c=c>>>0,Ze(c,"offset");const u=this[c],w=this[c+7];(u===void 0||w===void 0)&&Ne(c,this.length-8);const k=(u<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt(k)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+w)}),o.prototype.readFloatLE=function(c,u){return c=c>>>0,u||A(c,4,this.length),n.read(this,c,!0,23,4)},o.prototype.readFloatBE=function(c,u){return c=c>>>0,u||A(c,4,this.length),n.read(this,c,!1,23,4)},o.prototype.readDoubleLE=function(c,u){return c=c>>>0,u||A(c,8,this.length),n.read(this,c,!0,52,8)},o.prototype.readDoubleBE=function(c,u){return c=c>>>0,u||A(c,8,this.length),n.read(this,c,!1,52,8)};function h(g,c,u,w,k,L){if(!o.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>k||c<L)throw new RangeError('"value" argument is out of bounds');if(u+w>g.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(c,u,w,k){if(c=+c,u=u>>>0,w=w>>>0,!k){const pe=Math.pow(2,8*w)-1;h(this,c,u,w,pe,0)}let L=1,H=0;for(this[u]=c&255;++H<w&&(L*=256);)this[u+H]=c/L&255;return u+w},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(c,u,w,k){if(c=+c,u=u>>>0,w=w>>>0,!k){const pe=Math.pow(2,8*w)-1;h(this,c,u,w,pe,0)}let L=w-1,H=1;for(this[u+L]=c&255;--L>=0&&(H*=256);)this[u+L]=c/H&255;return u+w},o.prototype.writeUint8=o.prototype.writeUInt8=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,1,255,0),this[u]=c&255,u+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,2,65535,0),this[u]=c&255,this[u+1]=c>>>8,u+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,2,65535,0),this[u]=c>>>8,this[u+1]=c&255,u+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,4,4294967295,0),this[u+3]=c>>>24,this[u+2]=c>>>16,this[u+1]=c>>>8,this[u]=c&255,u+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,4,4294967295,0),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4};function v(g,c,u,w,k){ke(c,w,k,g,u,7);let L=Number(c&BigInt(4294967295));g[u++]=L,L=L>>8,g[u++]=L,L=L>>8,g[u++]=L,L=L>>8,g[u++]=L;let H=Number(c>>BigInt(32)&BigInt(4294967295));return g[u++]=H,H=H>>8,g[u++]=H,H=H>>8,g[u++]=H,H=H>>8,g[u++]=H,u}function F(g,c,u,w,k){ke(c,w,k,g,u,7);let L=Number(c&BigInt(4294967295));g[u+7]=L,L=L>>8,g[u+6]=L,L=L>>8,g[u+5]=L,L=L>>8,g[u+4]=L;let H=Number(c>>BigInt(32)&BigInt(4294967295));return g[u+3]=H,H=H>>8,g[u+2]=H,H=H>>8,g[u+1]=H,H=H>>8,g[u]=H,u+8}o.prototype.writeBigUInt64LE=ie(function(c,u=0){return v(this,c,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ie(function(c,u=0){return F(this,c,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(c,u,w,k){if(c=+c,u=u>>>0,!k){const ge=Math.pow(2,8*w-1);h(this,c,u,w,ge-1,-ge)}let L=0,H=1,pe=0;for(this[u]=c&255;++L<w&&(H*=256);)c<0&&pe===0&&this[u+L-1]!==0&&(pe=1),this[u+L]=(c/H>>0)-pe&255;return u+w},o.prototype.writeIntBE=function(c,u,w,k){if(c=+c,u=u>>>0,!k){const ge=Math.pow(2,8*w-1);h(this,c,u,w,ge-1,-ge)}let L=w-1,H=1,pe=0;for(this[u+L]=c&255;--L>=0&&(H*=256);)c<0&&pe===0&&this[u+L+1]!==0&&(pe=1),this[u+L]=(c/H>>0)-pe&255;return u+w},o.prototype.writeInt8=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,1,127,-128),c<0&&(c=255+c+1),this[u]=c&255,u+1},o.prototype.writeInt16LE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,2,32767,-32768),this[u]=c&255,this[u+1]=c>>>8,u+2},o.prototype.writeInt16BE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,2,32767,-32768),this[u]=c>>>8,this[u+1]=c&255,u+2},o.prototype.writeInt32LE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,4,2147483647,-2147483648),this[u]=c&255,this[u+1]=c>>>8,this[u+2]=c>>>16,this[u+3]=c>>>24,u+4},o.prototype.writeInt32BE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4},o.prototype.writeBigInt64LE=ie(function(c,u=0){return v(this,c,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ie(function(c,u=0){return F(this,c,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(g,c,u,w,k,L){if(u+w>g.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function Y(g,c,u,w,k){return c=+c,u=u>>>0,k||$(g,c,u,4),n.write(g,c,u,w,23,4),u+4}o.prototype.writeFloatLE=function(c,u,w){return Y(this,c,u,!0,w)},o.prototype.writeFloatBE=function(c,u,w){return Y(this,c,u,!1,w)};function se(g,c,u,w,k){return c=+c,u=u>>>0,k||$(g,c,u,8),n.write(g,c,u,w,52,8),u+8}o.prototype.writeDoubleLE=function(c,u,w){return se(this,c,u,!0,w)},o.prototype.writeDoubleBE=function(c,u,w){return se(this,c,u,!1,w)},o.prototype.copy=function(c,u,w,k){if(!o.isBuffer(c))throw new TypeError("argument should be a Buffer");if(w||(w=0),!k&&k!==0&&(k=this.length),u>=c.length&&(u=c.length),u||(u=0),k>0&&k<w&&(k=w),k===w||c.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),c.length-u<k-w&&(k=c.length-u+w);const L=k-w;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,w,k):Uint8Array.prototype.set.call(c,this.subarray(w,k),u),L},o.prototype.fill=function(c,u,w,k){if(typeof c=="string"){if(typeof u=="string"?(k=u,u=0,w=this.length):typeof w=="string"&&(k=w,w=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!o.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(c.length===1){const H=c.charCodeAt(0);(k==="utf8"&&H<128||k==="latin1")&&(c=H)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(u<0||this.length<u||this.length<w)throw new RangeError("Out of range index");if(w<=u)return this;u=u>>>0,w=w===void 0?this.length:w>>>0,c||(c=0);let L;if(typeof c=="number")for(L=u;L<w;++L)this[L]=c;else{const H=o.isBuffer(c)?c:o.from(c,k),pe=H.length;if(pe===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(L=0;L<w-u;++L)this[L+u]=H[L%pe]}return this};const fe={};function re(g,c,u){fe[g]=class extends u{constructor(){super(),Object.defineProperty(this,"message",{value:c.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(k){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:k,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}re("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),re("ERR_INVALID_ARG_TYPE",function(g,c){return`The "${g}" argument must be of type number. Received type ${typeof c}`},TypeError),re("ERR_OUT_OF_RANGE",function(g,c,u){let w=`The value of "${g}" is out of range.`,k=u;return Number.isInteger(u)&&Math.abs(u)>2**32?k=xe(String(u)):typeof u=="bigint"&&(k=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(k=xe(k)),k+="n"),w+=` It must be ${c}. Received ${k}`,w},RangeError);function xe(g){let c="",u=g.length;const w=g[0]==="-"?1:0;for(;u>=w+4;u-=3)c=`_${g.slice(u-3,u)}${c}`;return`${g.slice(0,u)}${c}`}function ye(g,c,u){Ze(c,"offset"),(g[c]===void 0||g[c+u]===void 0)&&Ne(c,g.length-(u+1))}function ke(g,c,u,w,k,L){if(g>u||g<c){const H=typeof c=="bigint"?"n":"";let pe;throw c===0||c===BigInt(0)?pe=`>= 0${H} and < 2${H} ** ${(L+1)*8}${H}`:pe=`>= -(2${H} ** ${(L+1)*8-1}${H}) and < 2 ** ${(L+1)*8-1}${H}`,new fe.ERR_OUT_OF_RANGE("value",pe,g)}ye(w,k,L)}function Ze(g,c){if(typeof g!="number")throw new fe.ERR_INVALID_ARG_TYPE(c,"number",g)}function Ne(g,c,u){throw Math.floor(g)!==g?(Ze(g,u),new fe.ERR_OUT_OF_RANGE("offset","an integer",g)):c<0?new fe.ERR_BUFFER_OUT_OF_BOUNDS:new fe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${c}`,g)}const $e=/[^+/0-9A-Za-z-_]/g;function V(g){if(g=g.split("=")[0],g=g.trim().replace($e,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function T(g,c){c=c||1/0;let u;const w=g.length;let k=null;const L=[];for(let H=0;H<w;++H){if(u=g.charCodeAt(H),u>55295&&u<57344){if(!k){if(u>56319){(c-=3)>-1&&L.push(239,191,189);continue}else if(H+1===w){(c-=3)>-1&&L.push(239,191,189);continue}k=u;continue}if(u<56320){(c-=3)>-1&&L.push(239,191,189),k=u;continue}u=(k-55296<<10|u-56320)+65536}else k&&(c-=3)>-1&&L.push(239,191,189);if(k=null,u<128){if((c-=1)<0)break;L.push(u)}else if(u<2048){if((c-=2)<0)break;L.push(u>>6|192,u&63|128)}else if(u<65536){if((c-=3)<0)break;L.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((c-=4)<0)break;L.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return L}function C(g){const c=[];for(let u=0;u<g.length;++u)c.push(g.charCodeAt(u)&255);return c}function Q(g,c){let u,w,k;const L=[];for(let H=0;H<g.length&&!((c-=2)<0);++H)u=g.charCodeAt(H),w=u>>8,k=u%256,L.push(k),L.push(w);return L}function te(g){return e.toByteArray(V(g))}function ae(g,c,u,w){let k;for(k=0;k<w&&!(k+u>=c.length||k>=g.length);++k)c[k+u]=g[k];return k}function de(g,c){return g instanceof c||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===c.name}function Ae(g){return g!==g}const _e=function(){const g="0123456789abcdef",c=new Array(256);for(let u=0;u<16;++u){const w=u*16;for(let k=0;k<16;++k)c[w+k]=g[u]+g[k]}return c}();function ie(g){return typeof BigInt>"u"?ce:g}function ce(){throw new Error("BigInt not supported")}}(af)),af}var bt=A_();const js=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Oa(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Os(t,...e){if(!Oa(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Pg(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");hd(t.outputLen),hd(t.blockLen)}function cu(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function E_(t,e){Os(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function _o(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function cf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function hr(t,e){return t<<32-e|t>>>e}const Ng=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",x_=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ys(t){if(Os(t),Ng)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=x_[t[n]];return e}const Pr={_0:48,_9:57,A:65,F:70,a:97,f:102};function op(t){if(t>=Pr._0&&t<=Pr._9)return t-Pr._0;if(t>=Pr.A&&t<=Pr.F)return t-(Pr.A-10);if(t>=Pr.a&&t<=Pr.f)return t-(Pr.a-10)}function uu(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Ng)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const a=op(t.charCodeAt(i)),o=op(t.charCodeAt(i+1));if(a===void 0||o===void 0){const f=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+i)}r[s]=a*16+o}return r}function I_(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function dh(t){return typeof t=="string"&&(t=I_(t)),Os(t),t}function _r(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Os(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let Lg=class{};function Og(t){const e=r=>t().update(dh(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function hh(t=32){if(js&&typeof js.getRandomValues=="function")return js.getRandomValues(new Uint8Array(t));if(js&&typeof js.randomBytes=="function")return Uint8Array.from(js.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function S_(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),f=r?4:0,d=r?0:4;t.setUint32(e+f,a,r),t.setUint32(e+d,o,r)}function B_(t,e,n){return t&e^~t&n}function k_(t,e,n){return t&e^t&n^e&n}let Fg=class extends Lg{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=cf(this.buffer)}update(e){cu(this),e=dh(e),Os(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const f=cf(e);for(;s<=i-a;a+=s)this.process(f,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cu(this),E_(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,_o(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(r,0),a=0);for(let y=a;y<s;y++)n[y]=0;S_(r,s-8,BigInt(this.length*8),i),this.process(r,0);const o=cf(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=f/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<d;y++)o.setUint32(4*y,p[y],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=i,e.length=s,e.pos=o,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const li=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),yn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Cc=BigInt(2**32-1),ap=BigInt(32);function T_(t,e=!1){return e?{h:Number(t&Cc),l:Number(t>>ap&Cc)}:{h:Number(t>>ap&Cc)|0,l:Number(t&Cc)|0}}function R_(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:a,l:o}=T_(t[i],e);[r[i],s[i]]=[a,o]}return[r,s]}const cp=(t,e,n)=>t>>>n,up=(t,e,n)=>t<<32-n|e>>>n,zs=(t,e,n)=>t>>>n|e<<32-n,Vs=(t,e,n)=>t<<32-n|e>>>n,Pc=(t,e,n)=>t<<64-n|e>>>n-32,Nc=(t,e,n)=>t>>>n-32|e<<64-n;function Nr(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const M_=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),C_=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,P_=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),N_=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,L_=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),O_=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,F_=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fi=new Uint32Array(64);let D_=class extends Fg{constructor(e=32){super(64,e,8,!1),this.A=li[0]|0,this.B=li[1]|0,this.C=li[2]|0,this.D=li[3]|0,this.E=li[4]|0,this.F=li[5]|0,this.G=li[6]|0,this.H=li[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:a,G:o,H:f}=this;return[e,n,r,s,i,a,o,f]}set(e,n,r,s,i,a,o,f){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=f|0}process(e,n){for(let y=0;y<16;y++,n+=4)fi[y]=e.getUint32(n,!1);for(let y=16;y<64;y++){const B=fi[y-15],x=fi[y-2],M=hr(B,7)^hr(B,18)^B>>>3,I=hr(x,17)^hr(x,19)^x>>>10;fi[y]=I+fi[y-7]+M+fi[y-16]|0}let{A:r,B:s,C:i,D:a,E:o,F:f,G:d,H:p}=this;for(let y=0;y<64;y++){const B=hr(o,6)^hr(o,11)^hr(o,25),x=p+B+B_(o,f,d)+F_[y]+fi[y]|0,I=(hr(r,2)^hr(r,13)^hr(r,22))+k_(r,s,i)|0;p=d,d=f,f=o,o=a+x|0,a=i,i=s,s=r,r=x+I|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,f=f+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(r,s,i,a,o,f,d,p)}roundClean(){_o(fi)}destroy(){this.set(0,0,0,0,0,0,0,0),_o(this.buffer)}};const Dg=R_(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),U_=Dg[0],H_=Dg[1],di=new Uint32Array(80),hi=new Uint32Array(80);class $_ extends Fg{constructor(e=64){super(128,e,16,!1),this.Ah=yn[0]|0,this.Al=yn[1]|0,this.Bh=yn[2]|0,this.Bl=yn[3]|0,this.Ch=yn[4]|0,this.Cl=yn[5]|0,this.Dh=yn[6]|0,this.Dl=yn[7]|0,this.Eh=yn[8]|0,this.El=yn[9]|0,this.Fh=yn[10]|0,this.Fl=yn[11]|0,this.Gh=yn[12]|0,this.Gl=yn[13]|0,this.Hh=yn[14]|0,this.Hl=yn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:a,Dh:o,Dl:f,Eh:d,El:p,Fh:y,Fl:B,Gh:x,Gl:M,Hh:I,Hl:R}=this;return[e,n,r,s,i,a,o,f,d,p,y,B,x,M,I,R]}set(e,n,r,s,i,a,o,f,d,p,y,B,x,M,I,R){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=f|0,this.Eh=d|0,this.El=p|0,this.Fh=y|0,this.Fl=B|0,this.Gh=x|0,this.Gl=M|0,this.Hh=I|0,this.Hl=R|0}process(e,n){for(let U=0;U<16;U++,n+=4)di[U]=e.getUint32(n),hi[U]=e.getUint32(n+=4);for(let U=16;U<80;U++){const K=di[U-15]|0,j=hi[U-15]|0,J=zs(K,j,1)^zs(K,j,8)^cp(K,j,7),ne=Vs(K,j,1)^Vs(K,j,8)^up(K,j,7),X=di[U-2]|0,Z=hi[U-2]|0,G=zs(X,Z,19)^Pc(X,Z,61)^cp(X,Z,6),W=Vs(X,Z,19)^Nc(X,Z,61)^up(X,Z,6),z=P_(ne,W,hi[U-7],hi[U-16]),_=N_(z,J,G,di[U-7],di[U-16]);di[U]=_|0,hi[U]=z|0}let{Ah:r,Al:s,Bh:i,Bl:a,Ch:o,Cl:f,Dh:d,Dl:p,Eh:y,El:B,Fh:x,Fl:M,Gh:I,Gl:R,Hh:N,Hl:D}=this;for(let U=0;U<80;U++){const K=zs(y,B,14)^zs(y,B,18)^Pc(y,B,41),j=Vs(y,B,14)^Vs(y,B,18)^Nc(y,B,41),J=y&x^~y&I,ne=B&M^~B&R,X=L_(D,j,ne,H_[U],hi[U]),Z=O_(X,N,K,J,U_[U],di[U]),G=X|0,W=zs(r,s,28)^Pc(r,s,34)^Pc(r,s,39),z=Vs(r,s,28)^Nc(r,s,34)^Nc(r,s,39),_=r&i^r&o^i&o,l=s&a^s&f^a&f;N=I|0,D=R|0,I=x|0,R=M|0,x=y|0,M=B|0,{h:y,l:B}=Nr(d|0,p|0,Z|0,G|0),d=o|0,p=f|0,o=i|0,f=a|0,i=r|0,a=s|0;const m=M_(G,z,l);r=C_(m,Z,W,_),s=m|0}({h:r,l:s}=Nr(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:a}=Nr(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:f}=Nr(this.Ch|0,this.Cl|0,o|0,f|0),{h:d,l:p}=Nr(this.Dh|0,this.Dl|0,d|0,p|0),{h:y,l:B}=Nr(this.Eh|0,this.El|0,y|0,B|0),{h:x,l:M}=Nr(this.Fh|0,this.Fl|0,x|0,M|0),{h:I,l:R}=Nr(this.Gh|0,this.Gl|0,I|0,R|0),{h:N,l:D}=Nr(this.Hh|0,this.Hl|0,N|0,D|0),this.set(r,s,i,a,o,f,d,p,y,B,x,M,I,R,N,D)}roundClean(){_o(di,hi)}destroy(){_o(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ug=Og(()=>new D_),G_=Og(()=>new $_);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ph=BigInt(0),pd=BigInt(1);function Si(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Gn(t,e,n=""){const r=Oa(t),s=t?.length,i=e!==void 0;if(!r||i&&s!==e){const a=n&&`"${n}"`,o=i?` of length ${e}`:"",f=r?`length=${s}`:`type=${typeof t}`;throw new Error(a+"expected Uint8Array"+o+", got "+f)}return t}function Lc(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Hg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?ph:BigInt("0x"+t)}function bl(t){return Hg(ys(t))}function Fa(t){return Os(t),Hg(ys(Uint8Array.from(t).reverse()))}function mh(t,e){return uu(t.toString(16).padStart(e*2,"0"))}function _l(t,e){return mh(t,e).reverse()}function Xt(t,e,n){let r;if(typeof e=="string")try{r=uu(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Oa(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function lp(t){return Uint8Array.from(t)}const uf=t=>typeof t=="bigint"&&ph<=t;function q_(t,e,n){return uf(t)&&uf(e)&&uf(n)&&e<=t&&t<n}function io(t,e,n,r){if(!q_(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function $g(t){let e;for(e=0;t>ph;t>>=pd,e+=1);return e}const hc=t=>(pd<<BigInt(t))-pd;function j_(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=x=>new Uint8Array(x),s=x=>Uint8Array.of(x);let i=r(t),a=r(t),o=0;const f=()=>{i.fill(1),a.fill(0),o=0},d=(...x)=>n(a,i,...x),p=(x=r(0))=>{a=d(s(0),x),i=d(),x.length!==0&&(a=d(s(1),x),i=d())},y=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let x=0;const M=[];for(;x<e;){i=d();const I=i.slice();M.push(I),x+=i.length}return _r(...M)};return(x,M)=>{f(),p(x);let I;for(;!(I=M(y()));)p();return f(),I}}function pc(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,a){const o=t[s];if(a&&o===void 0)return;const f=typeof o;if(f!==i||o===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${f}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function lu(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dn=BigInt(0),mn=BigInt(1),us=BigInt(2),Gg=BigInt(3),qg=BigInt(4),jg=BigInt(5),z_=BigInt(7),zg=BigInt(8),V_=BigInt(9),Vg=BigInt(16);function sn(t,e){const n=t%e;return n>=Dn?n:e+n}function Kt(t,e,n){let r=t;for(;e-- >Dn;)r*=r,r%=n;return r}function fp(t,e){if(t===Dn)throw new Error("invert: expected non-zero number");if(e<=Dn)throw new Error("invert: expected positive modulus, got "+e);let n=sn(t,e),r=e,s=Dn,i=mn;for(;n!==Dn;){const o=r/n,f=r%n,d=s-i*o;r=n,n=f,s=i,i=d}if(r!==mn)throw new Error("invert: does not exist");return sn(s,e)}function gh(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function Wg(t,e){const n=(t.ORDER+mn)/qg,r=t.pow(e,n);return gh(t,r,e),r}function W_(t,e){const n=(t.ORDER-jg)/zg,r=t.mul(e,us),s=t.pow(r,n),i=t.mul(e,s),a=t.mul(t.mul(i,us),s),o=t.mul(i,t.sub(a,t.ONE));return gh(t,o,e),o}function K_(t){const e=Fs(t),n=Kg(t),r=n(e,e.neg(e.ONE)),s=n(e,r),i=n(e,e.neg(r)),a=(t+z_)/Vg;return(o,f)=>{let d=o.pow(f,a),p=o.mul(d,r);const y=o.mul(d,s),B=o.mul(d,i),x=o.eql(o.sqr(p),f),M=o.eql(o.sqr(y),f);d=o.cmov(d,p,x),p=o.cmov(B,y,M);const I=o.eql(o.sqr(p),f),R=o.cmov(d,p,I);return gh(o,R,f),R}}function Kg(t){if(t<Gg)throw new Error("sqrt is not defined for small field");let e=t-mn,n=0;for(;e%us===Dn;)e/=us,n++;let r=us;const s=Fs(t);for(;dp(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Wg;let i=s.pow(r,e);const a=(e+mn)/us;return function(f,d){if(f.is0(d))return d;if(dp(f,d)!==1)throw new Error("Cannot find square root");let p=n,y=f.mul(f.ONE,i),B=f.pow(d,e),x=f.pow(d,a);for(;!f.eql(B,f.ONE);){if(f.is0(B))return f.ZERO;let M=1,I=f.sqr(B);for(;!f.eql(I,f.ONE);)if(M++,I=f.sqr(I),M===p)throw new Error("Cannot find square root");const R=mn<<BigInt(p-M-1),N=f.pow(y,R);p=M,y=f.sqr(N),B=f.mul(B,y),x=f.mul(x,N)}return x}}function Q_(t){return t%qg===Gg?Wg:t%zg===jg?W_:t%Vg===V_?K_(t):Kg(t)}const Z_=(t,e)=>(sn(t,e)&mn)===mn,Y_=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function J_(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Y_.reduce((r,s)=>(r[s]="function",r),e);return pc(t,n),t}function X_(t,e,n){if(n<Dn)throw new Error("invalid exponent, negatives unsupported");if(n===Dn)return t.ONE;if(n===mn)return e;let r=t.ONE,s=e;for(;n>Dn;)n&mn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=mn;return r}function Qg(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((a,o,f)=>t.is0(o)?a:(r[f]=a,t.mul(a,o)),t.ONE),i=t.inv(s);return e.reduceRight((a,o,f)=>t.is0(o)?a:(r[f]=t.mul(a,r[f]),t.mul(a,o)),i),r}function dp(t,e){const n=(t.ORDER-mn)/us,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!a)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Zg(t,e){e!==void 0&&hd(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Fs(t,e,n=!1,r={}){if(t<=Dn)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i,a=!1,o;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const B=e;B.BITS&&(s=B.BITS),B.sqrt&&(i=B.sqrt),typeof B.isLE=="boolean"&&(n=B.isLE),typeof B.modFromBytes=="boolean"&&(a=B.modFromBytes),o=B.allowedLengths}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:f,nByteLength:d}=Zg(t,s);if(d>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let p;const y=Object.freeze({ORDER:t,isLE:n,BITS:f,BYTES:d,MASK:hc(f),ZERO:Dn,ONE:mn,allowedLengths:o,create:B=>sn(B,t),isValid:B=>{if(typeof B!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof B);return Dn<=B&&B<t},is0:B=>B===Dn,isValidNot0:B=>!y.is0(B)&&y.isValid(B),isOdd:B=>(B&mn)===mn,neg:B=>sn(-B,t),eql:(B,x)=>B===x,sqr:B=>sn(B*B,t),add:(B,x)=>sn(B+x,t),sub:(B,x)=>sn(B-x,t),mul:(B,x)=>sn(B*x,t),pow:(B,x)=>X_(y,B,x),div:(B,x)=>sn(B*fp(x,t),t),sqrN:B=>B*B,addN:(B,x)=>B+x,subN:(B,x)=>B-x,mulN:(B,x)=>B*x,inv:B=>fp(B,t),sqrt:i||(B=>(p||(p=Q_(t)),p(y,B))),toBytes:B=>n?_l(B,d):mh(B,d),fromBytes:(B,x=!0)=>{if(o){if(!o.includes(B.length)||B.length>d)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+B.length);const I=new Uint8Array(d);I.set(B,n?0:I.length-B.length),B=I}if(B.length!==d)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+B.length);let M=n?Fa(B):bl(B);if(a&&(M=sn(M,t)),!x&&!y.isValid(M))throw new Error("invalid field element: outside of range 0..ORDER");return M},invertBatch:B=>Qg(y,B),cmov:(B,x,M)=>M?x:B});return Object.freeze(y)}function Yg(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Jg(t){const e=Yg(t);return e+Math.ceil(e/2)}function eA(t,e,n=!1){const r=t.length,s=Yg(e),i=Jg(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const a=n?Fa(t):bl(t),o=sn(a,e-mn)+mn;return n?_l(o,s):mh(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ao=BigInt(0),ls=BigInt(1);function fu(t,e){const n=e.negate();return t?n:e}function fs(t,e){const n=Qg(t.Fp,e.map(r=>r.Z));return e.map((r,s)=>t.fromAffine(r.toAffine(n[s])))}function Xg(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function lf(t,e){Xg(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=hc(t),a=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:a}}function hp(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:a}=n;let o=Number(t&s),f=t>>a;o>r&&(o-=i,f+=ls);const d=e*r,p=d+Math.abs(o)-1,y=o===0,B=o<0,x=e%2!==0;return{nextN:f,offset:p,isZero:y,isNeg:B,isNegF:x,offsetF:d}}function tA(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function nA(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const ff=new WeakMap,ey=new WeakMap;function df(t){return ey.get(t)||1}function pp(t){if(t!==Ao)throw new Error("invalid wNAF")}let ty=class{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let s=e;for(;n>Ao;)n&ls&&(r=r.add(s)),s=s.double(),n>>=ls;return r}precomputeWindow(e,n){const{windows:r,windowSize:s}=lf(n,this.bits),i=[];let a=e,o=a;for(let f=0;f<r;f++){o=a,i.push(o);for(let d=1;d<s;d++)o=o.add(a),i.push(o);a=o.double()}return i}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const a=lf(e,this.bits);for(let o=0;o<a.windows;o++){const{nextN:f,offset:d,isZero:p,isNeg:y,isNegF:B,offsetF:x}=hp(r,o,a);r=f,p?i=i.add(fu(B,n[x])):s=s.add(fu(y,n[d]))}return pp(r),{p:s,f:i}}wNAFUnsafe(e,n,r,s=this.ZERO){const i=lf(e,this.bits);for(let a=0;a<i.windows&&r!==Ao;a++){const{nextN:o,offset:f,isZero:d,isNeg:p}=hp(r,a,i);if(r=o,!d){const y=n[f];s=s.add(p?y.negate():y)}}return pp(r),s}getPrecomputes(e,n,r){let s=ff.get(n);return s||(s=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(s=r(s)),ff.set(n,s))),s}cached(e,n,r){const s=df(e);return this.wNAF(s,this.getPrecomputes(s,e,r),n)}unsafe(e,n,r,s){const i=df(e);return i===1?this._unsafeLadder(e,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),n,s)}createCache(e,n){Xg(n,this.bits),ey.set(e,n),ff.delete(e)}hasCache(e){return df(e)!==1}};function rA(t,e,n,r){let s=e,i=t.ZERO,a=t.ZERO;for(;n>Ao||r>Ao;)n&ls&&(i=i.add(s)),r&ls&&(a=a.add(s)),s=s.double(),n>>=ls,r>>=ls;return{p1:i,p2:a}}function ny(t,e,n,r){tA(n,t),nA(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=$g(BigInt(s));let f=1;o>12?f=o-3:o>4?f=o-2:o>0&&(f=2);const d=hc(f),p=new Array(Number(d)+1).fill(a),y=Math.floor((e.BITS-1)/f)*f;let B=a;for(let x=y;x>=0;x-=f){p.fill(a);for(let I=0;I<i;I++){const R=r[I],N=Number(R>>BigInt(x)&d);p[N]=p[N].add(n[I])}let M=a;for(let I=p.length-1,R=a;I>0;I--)R=R.add(p[I]),M=M.add(R);if(B=B.add(M),x!==0)for(let I=0;I<f;I++)B=B.double()}return B}function mp(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return J_(e),e}else return Fs(t,{isLE:n})}function ry(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const f of["p","n","h"]){const d=e[f];if(!(typeof d=="bigint"&&d>Ao))throw new Error(`CURVE.${f} must be positive bigint`)}const s=mp(e.p,n.Fp,r),i=mp(e.n,n.Fn,r),o=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const f of o)if(!s.isValid(e[f]))throw new Error(`CURVE.${f} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gr=BigInt(0),on=BigInt(1),hf=BigInt(2),iA=BigInt(8);function sA(t,e,n,r){const s=t.sqr(n),i=t.sqr(r),a=t.add(t.mul(e.a,s),i),o=t.add(t.ONE,t.mul(e.d,t.mul(s,i)));return t.eql(a,o)}function oA(t,e={}){const n=ry("edwards",t,e,e.FpFnLE),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:a,n:o}=i;pc(e,{},{uvRatio:"function"});const f=hf<<BigInt(s.BYTES*8)-on,d=N=>r.create(N),p=e.uvRatio||((N,D)=>{try{return{isValid:!0,value:r.sqrt(r.div(N,D))}}catch{return{isValid:!1,value:gr}}});if(!sA(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function y(N,D,U=!1){const K=U?on:gr;return io("coordinate "+N,D,K,f),D}function B(N){if(!(N instanceof I))throw new Error("ExtendedPoint expected")}const x=lu((N,D)=>{const{X:U,Y:K,Z:j}=N,J=N.is0();D==null&&(D=J?iA:r.inv(j));const ne=d(U*D),X=d(K*D),Z=r.mul(j,D);if(J)return{x:gr,y:on};if(Z!==on)throw new Error("invZ was invalid");return{x:ne,y:X}}),M=lu(N=>{const{a:D,d:U}=i;if(N.is0())throw new Error("bad point: ZERO");const{X:K,Y:j,Z:J,T:ne}=N,X=d(K*K),Z=d(j*j),G=d(J*J),W=d(G*G),z=d(X*D),_=d(G*d(z+Z)),l=d(W+d(U*d(X*Z)));if(_!==l)throw new Error("bad point: equation left != right (1)");const m=d(K*j),b=d(J*ne);if(m!==b)throw new Error("bad point: equation left != right (2)");return!0});class I{constructor(D,U,K,j){this.X=y("x",D),this.Y=y("y",U),this.Z=y("z",K,!0),this.T=y("t",j),Object.freeze(this)}static CURVE(){return i}static fromAffine(D){if(D instanceof I)throw new Error("extended point not allowed");const{x:U,y:K}=D||{};return y("x",U),y("y",K),new I(U,K,on,d(U*K))}static fromBytes(D,U=!1){const K=r.BYTES,{a:j,d:J}=i;D=lp(Gn(D,K,"point")),Si(U,"zip215");const ne=lp(D),X=D[K-1];ne[K-1]=X&-129;const Z=Fa(ne),G=U?f:r.ORDER;io("pointHex.y",Z,gr,G);const W=d(Z*Z),z=d(W-on),_=d(J*W-j);let{isValid:l,value:m}=p(z,_);if(!l)throw new Error("Point.fromHex: invalid y coordinate");const b=(m&on)===on,E=(X&128)!==0;if(!U&&m===gr&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==b&&(m=d(-m)),I.fromAffine({x:m,y:Z})}static fromHex(D,U=!1){return I.fromBytes(Xt("point",D),U)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(D=8,U=!0){return R.createCache(this,D),U||this.multiply(hf),this}assertValidity(){M(this)}equals(D){B(D);const{X:U,Y:K,Z:j}=this,{X:J,Y:ne,Z:X}=D,Z=d(U*X),G=d(J*j),W=d(K*X),z=d(ne*j);return Z===G&&W===z}is0(){return this.equals(I.ZERO)}negate(){return new I(d(-this.X),this.Y,this.Z,d(-this.T))}double(){const{a:D}=i,{X:U,Y:K,Z:j}=this,J=d(U*U),ne=d(K*K),X=d(hf*d(j*j)),Z=d(D*J),G=U+K,W=d(d(G*G)-J-ne),z=Z+ne,_=z-X,l=Z-ne,m=d(W*_),b=d(z*l),E=d(W*l),S=d(_*z);return new I(m,b,S,E)}add(D){B(D);const{a:U,d:K}=i,{X:j,Y:J,Z:ne,T:X}=this,{X:Z,Y:G,Z:W,T:z}=D,_=d(j*Z),l=d(J*G),m=d(X*K*z),b=d(ne*W),E=d((j+J)*(Z+G)-_-l),S=b-m,P=b+m,O=d(l-U*_),A=d(E*S),h=d(P*O),v=d(E*O),F=d(S*P);return new I(A,h,F,v)}subtract(D){return this.add(D.negate())}multiply(D){const U=D;io("scalar",U,on,o);const{p:K,f:j}=R.cached(this,U,J=>fs(I,J));return fs(I,[K,j])[0]}multiplyUnsafe(D,U=I.ZERO){const K=D;return io("scalar",K,gr,o),K===gr?I.ZERO:this.is0()||K===on?this:R.unsafe(this,K,j=>fs(I,j),U)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return R.unsafe(this,o).is0()}toAffine(D){return x(this,D)}clearCofactor(){return a===on?this:this.multiplyUnsafe(a)}toBytes(){const{x:D,y:U}=this.toAffine(),K=_l(U,r.BYTES);return K[K.length-1]|=D&on?128:0,K}toRawBytes(){return this.toBytes()}toHex(){return ys(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(D){return fs(I,D)}static msm(D,U){return ny(I,s,D,U)}_setWindowSize(D){this.precompute(D)}}I.BASE=new I(i.Gx,i.Gy,on,d(i.Gx*i.Gy)),I.ZERO=new I(gr,on,on,gr),I.Fp=r,I.Fn=s;const R=new ty(I,s.BYTES*8);return I}function aA(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');pc(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:s,Fp:i,Fn:a}=t,o=a.ORDER,f=n.randomBytes||hh,d=n.adjustScalarBytes||(W=>W),p=n.domain||((W,z,_)=>{if(Si(_,"phflag"),z.length||_)throw new Error("Contexts/pre-hash are not supported");return W});function y(W){return a.create(W)}function B(W){return y(Fa(W))}function x(W){const z=j.secret;W=Xt("private key",W,z);const _=Xt("hashed private key",e(W),2*z),l=d(_.slice(0,z)),m=_.slice(z,2*z),b=B(l);return{head:l,prefix:m,scalar:b}}function M(W){const{head:z,prefix:_,scalar:l}=x(W),m=s.multiply(l),b=m.toBytes();return{head:z,prefix:_,scalar:l,point:m,pointBytes:b}}function I(W){return M(W).pointBytes}function R(W=Uint8Array.of(),...z){const _=_r(...z);return B(e(p(_,Xt("context",W),!!r)))}function N(W,z,_={}){W=Xt("message",W),r&&(W=r(W));const{prefix:l,scalar:m,pointBytes:b}=M(z),E=R(_.context,l,W),S=s.multiply(E).toBytes(),P=R(_.context,S,b,W),O=y(E+P*m);io("signature.s",O,gr,o);const A=i.BYTES,h=_r(S,_l(O,A));return Xt("result",h,A*2)}const D={zip215:!0};function U(W,z,_,l=D){const{context:m,zip215:b}=l,E=j.signature;W=Xt("signature",W,E),z=Xt("message",z),_=Xt("publicKey",_,j.public),b!==void 0&&Si(b,"zip215"),r&&(z=r(z));const S=E/2,P=W.subarray(0,S),O=Fa(W.subarray(S,E));let A,h,v;try{A=t.fromBytes(_,b),h=t.fromBytes(P,b),v=s.multiplyUnsafe(O)}catch{return!1}if(!b&&A.isSmallOrder())return!1;const F=R(m,h.toBytes(),A.toBytes(),z);return h.add(A.multiplyUnsafe(F)).subtract(v).clearCofactor().is0()}s.precompute(8);const K=i.BYTES,j={secret:K,public:K,signature:2*K,seed:K};function J(W=f(j.seed)){return Gn(W,j.seed,"seed")}function ne(W){const z=G.randomSecretKey(W);return{secretKey:z,publicKey:I(z)}}function X(W){try{return!!a.fromBytes(W,!1)}catch{return!1}}function Z(W,z){try{return!!t.fromBytes(W,z)}catch{return!1}}const G={getExtendedPublicKey:M,randomSecretKey:J,isValidSecretKey:X,isValidPublicKey:Z,toMontgomery(W){const{y:z}=t.fromBytes(W),_=j.public,l=_===32;if(!l&&_!==57)throw new Error("only defined for 25519 and 448");const m=l?i.div(on+z,on-z):i.div(z-on,z+on);return i.toBytes(m)},toMontgomeryPriv(W){const z=j.secret;Gn(W,z);const _=e(W.subarray(0,z));return d(_).subarray(0,z)},randomPrivateKey:J,precompute(W=8,z=t.BASE){return z.precompute(W,!1)}};return Object.freeze({keygen:ne,getPublicKey:I,sign:N,verify:U,utils:G,Point:t,lengths:j})}function cA(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Fs(e.n,t.nBitLength,!0),s={Fp:n,Fn:r,uvRatio:t.uvRatio},i={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:s,hash:t.hash,eddsaOpts:i}}function uA(t,e){return Object.assign({},e,{ExtendedPoint:e.Point,CURVE:t})}function lA(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:s}=cA(t),i=oA(e,n),a=aA(i,r,s);return uA(t,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const fA=BigInt(1),gp=BigInt(2);BigInt(3);const dA=BigInt(5),hA=BigInt(8),yh=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),iy={p:yh,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:hA,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function pA(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=yh,o=t*t%i*t%i,f=Kt(o,gp,i)*o%i,d=Kt(f,fA,i)*t%i,p=Kt(d,dA,i)*d%i,y=Kt(p,e,i)*p%i,B=Kt(y,n,i)*y%i,x=Kt(B,r,i)*B%i,M=Kt(x,s,i)*x%i,I=Kt(M,s,i)*x%i,R=Kt(I,e,i)*p%i;return{pow_p_5_8:Kt(R,gp,i)*t%i,b2:o}}function mA(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const yp=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function gA(t,e){const n=yh,r=sn(e*e*e,n),s=sn(r*r*e,n),i=pA(t*s).pow_p_5_8;let a=sn(t*r*i,n);const o=sn(e*a*a,n),f=a,d=sn(a*yp,n),p=o===t,y=o===sn(-t,n),B=o===sn(-t*yp,n);return p&&(a=f),(y||B)&&(a=d),Z_(a,n)&&(a=sn(-a,n)),{isValid:p||y,value:a}}const yA=Fs(iy.p,{isLE:!0}),vA={...iy,Fp:yA,hash:G_,adjustScalarBytes:mA,uvRatio:gA},mc=lA(vA);var Kc={exports:{}};const wA={},bA=Object.freeze(Object.defineProperty({__proto__:null,default:wA},Symbol.toStringTag,{value:"Module"})),sy=fh(bA);var _A=Kc.exports,vp;function AA(){return vp||(vp=1,function(t){(function(e,n){function r(_,l){if(!_)throw new Error(l||"Assertion failed")}function s(_,l){_.super_=l;var m=function(){};m.prototype=l.prototype,_.prototype=new m,_.prototype.constructor=_}function i(_,l,m){if(i.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((l==="le"||l==="be")&&(m=l,l=10),this._init(_||0,l||10,m||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=sy.Buffer}catch{}i.isBN=function(l){return l instanceof i?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===i.wordSize&&Array.isArray(l.words)},i.max=function(l,m){return l.cmp(m)>0?l:m},i.min=function(l,m){return l.cmp(m)<0?l:m},i.prototype._init=function(l,m,b){if(typeof l=="number")return this._initNumber(l,m,b);if(typeof l=="object")return this._initArray(l,m,b);m==="hex"&&(m=16),r(m===(m|0)&&m>=2&&m<=36),l=l.toString().replace(/\s+/g,"");var E=0;l[0]==="-"&&(E++,this.negative=1),E<l.length&&(m===16?this._parseHex(l,E,b):(this._parseBase(l,m,E),b==="le"&&this._initArray(this.toArray(),m,b)))},i.prototype._initNumber=function(l,m,b){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(r(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),m,b)},i.prototype._initArray=function(l,m,b){if(r(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var S,P,O=0;if(b==="be")for(E=l.length-1,S=0;E>=0;E-=3)P=l[E]|l[E-1]<<8|l[E-2]<<16,this.words[S]|=P<<O&67108863,this.words[S+1]=P>>>26-O&67108863,O+=24,O>=26&&(O-=26,S++);else if(b==="le")for(E=0,S=0;E<l.length;E+=3)P=l[E]|l[E+1]<<8|l[E+2]<<16,this.words[S]|=P<<O&67108863,this.words[S+1]=P>>>26-O&67108863,O+=24,O>=26&&(O-=26,S++);return this._strip()};function o(_,l){var m=_.charCodeAt(l);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;r(!1,"Invalid character in "+_)}function f(_,l,m){var b=o(_,m);return m-1>=l&&(b|=o(_,m-1)<<4),b}i.prototype._parseHex=function(l,m,b){this.length=Math.ceil((l.length-m)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var S=0,P=0,O;if(b==="be")for(E=l.length-1;E>=m;E-=2)O=f(l,m,E)<<S,this.words[P]|=O&67108863,S>=18?(S-=18,P+=1,this.words[P]|=O>>>26):S+=8;else{var A=l.length-m;for(E=A%2===0?m+1:m;E<l.length;E+=2)O=f(l,m,E)<<S,this.words[P]|=O&67108863,S>=18?(S-=18,P+=1,this.words[P]|=O>>>26):S+=8}this._strip()};function d(_,l,m,b){for(var E=0,S=0,P=Math.min(_.length,m),O=l;O<P;O++){var A=_.charCodeAt(O)-48;E*=b,A>=49?S=A-49+10:A>=17?S=A-17+10:S=A,r(A>=0&&S<b,"Invalid character"),E+=S}return E}i.prototype._parseBase=function(l,m,b){this.words=[0],this.length=1;for(var E=0,S=1;S<=67108863;S*=m)E++;E--,S=S/m|0;for(var P=l.length-b,O=P%E,A=Math.min(P,P-O)+b,h=0,v=b;v<A;v+=E)h=d(l,v,v+E,m),this.imuln(S),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(O!==0){var F=1;for(h=d(l,v,l.length,m),v=0;v<O;v++)F*=m;this.imuln(F),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},i.prototype.copy=function(l){l.words=new Array(this.length);for(var m=0;m<this.length;m++)l.words[m]=this.words[m];l.length=this.length,l.negative=this.negative,l.red=this.red};function p(_,l){_.words=l.words,_.length=l.length,_.negative=l.negative,_.red=l.red}if(i.prototype._move=function(l){p(l,this)},i.prototype.clone=function(){var l=new i(null);return this.copy(l),l},i.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{i.prototype.inspect=y}else i.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(l,m){l=l||10,m=m|0||1;var b;if(l===16||l==="hex"){b="";for(var E=0,S=0,P=0;P<this.length;P++){var O=this.words[P],A=((O<<E|S)&16777215).toString(16);S=O>>>24-E&16777215,E+=2,E>=26&&(E-=26,P--),S!==0||P!==this.length-1?b=B[6-A.length]+A+b:b=A+b}for(S!==0&&(b=S.toString(16)+b);b.length%m!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(l===(l|0)&&l>=2&&l<=36){var h=x[l],v=M[l];b="";var F=this.clone();for(F.negative=0;!F.isZero();){var $=F.modrn(v).toString(l);F=F.idivn(v),F.isZero()?b=$+b:b=B[h-$.length]+$+b}for(this.isZero()&&(b="0"+b);b.length%m!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(l,m){return this.toArrayLike(a,l,m)}),i.prototype.toArray=function(l,m){return this.toArrayLike(Array,l,m)};var I=function(l,m){return l.allocUnsafe?l.allocUnsafe(m):new l(m)};i.prototype.toArrayLike=function(l,m,b){this._strip();var E=this.byteLength(),S=b||Math.max(1,E);r(E<=S,"byte array longer than desired length"),r(S>0,"Requested array length <= 0");var P=I(l,S),O=m==="le"?"LE":"BE";return this["_toArrayLike"+O](P,E),P},i.prototype._toArrayLikeLE=function(l,m){for(var b=0,E=0,S=0,P=0;S<this.length;S++){var O=this.words[S]<<P|E;l[b++]=O&255,b<l.length&&(l[b++]=O>>8&255),b<l.length&&(l[b++]=O>>16&255),P===6?(b<l.length&&(l[b++]=O>>24&255),E=0,P=0):(E=O>>>24,P+=2)}if(b<l.length)for(l[b++]=E;b<l.length;)l[b++]=0},i.prototype._toArrayLikeBE=function(l,m){for(var b=l.length-1,E=0,S=0,P=0;S<this.length;S++){var O=this.words[S]<<P|E;l[b--]=O&255,b>=0&&(l[b--]=O>>8&255),b>=0&&(l[b--]=O>>16&255),P===6?(b>=0&&(l[b--]=O>>24&255),E=0,P=0):(E=O>>>24,P+=2)}if(b>=0)for(l[b--]=E;b>=0;)l[b--]=0},Math.clz32?i.prototype._countBits=function(l){return 32-Math.clz32(l)}:i.prototype._countBits=function(l){var m=l,b=0;return m>=4096&&(b+=13,m>>>=13),m>=64&&(b+=7,m>>>=7),m>=8&&(b+=4,m>>>=4),m>=2&&(b+=2,m>>>=2),b+m},i.prototype._zeroBits=function(l){if(l===0)return 26;var m=l,b=0;return(m&8191)===0&&(b+=13,m>>>=13),(m&127)===0&&(b+=7,m>>>=7),(m&15)===0&&(b+=4,m>>>=4),(m&3)===0&&(b+=2,m>>>=2),(m&1)===0&&b++,b},i.prototype.bitLength=function(){var l=this.words[this.length-1],m=this._countBits(l);return(this.length-1)*26+m};function R(_){for(var l=new Array(_.bitLength()),m=0;m<l.length;m++){var b=m/26|0,E=m%26;l[m]=_.words[b]>>>E&1}return l}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,m=0;m<this.length;m++){var b=this._zeroBits(this.words[m]);if(l+=b,b!==26)break}return l},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},i.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]|l.words[m];return this._strip()},i.prototype.ior=function(l){return r((this.negative|l.negative)===0),this.iuor(l)},i.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},i.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},i.prototype.iuand=function(l){var m;this.length>l.length?m=l:m=this;for(var b=0;b<m.length;b++)this.words[b]=this.words[b]&l.words[b];return this.length=m.length,this._strip()},i.prototype.iand=function(l){return r((this.negative|l.negative)===0),this.iuand(l)},i.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},i.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},i.prototype.iuxor=function(l){var m,b;this.length>l.length?(m=this,b=l):(m=l,b=this);for(var E=0;E<b.length;E++)this.words[E]=m.words[E]^b.words[E];if(this!==m)for(;E<m.length;E++)this.words[E]=m.words[E];return this.length=m.length,this._strip()},i.prototype.ixor=function(l){return r((this.negative|l.negative)===0),this.iuxor(l)},i.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},i.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},i.prototype.inotn=function(l){r(typeof l=="number"&&l>=0);var m=Math.ceil(l/26)|0,b=l%26;this._expand(m),b>0&&m--;for(var E=0;E<m;E++)this.words[E]=~this.words[E]&67108863;return b>0&&(this.words[E]=~this.words[E]&67108863>>26-b),this._strip()},i.prototype.notn=function(l){return this.clone().inotn(l)},i.prototype.setn=function(l,m){r(typeof l=="number"&&l>=0);var b=l/26|0,E=l%26;return this._expand(b+1),m?this.words[b]=this.words[b]|1<<E:this.words[b]=this.words[b]&~(1<<E),this._strip()},i.prototype.iadd=function(l){var m;if(this.negative!==0&&l.negative===0)return this.negative=0,m=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,m=this.isub(l),l.negative=1,m._normSign();var b,E;this.length>l.length?(b=this,E=l):(b=l,E=this);for(var S=0,P=0;P<E.length;P++)m=(b.words[P]|0)+(E.words[P]|0)+S,this.words[P]=m&67108863,S=m>>>26;for(;S!==0&&P<b.length;P++)m=(b.words[P]|0)+S,this.words[P]=m&67108863,S=m>>>26;if(this.length=b.length,S!==0)this.words[this.length]=S,this.length++;else if(b!==this)for(;P<b.length;P++)this.words[P]=b.words[P];return this},i.prototype.add=function(l){var m;return l.negative!==0&&this.negative===0?(l.negative=0,m=this.sub(l),l.negative^=1,m):l.negative===0&&this.negative!==0?(this.negative=0,m=l.sub(this),this.negative=1,m):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},i.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var m=this.iadd(l);return l.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var b=this.cmp(l);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,S;b>0?(E=this,S=l):(E=l,S=this);for(var P=0,O=0;O<S.length;O++)m=(E.words[O]|0)-(S.words[O]|0)+P,P=m>>26,this.words[O]=m&67108863;for(;P!==0&&O<E.length;O++)m=(E.words[O]|0)+P,P=m>>26,this.words[O]=m&67108863;if(P===0&&O<E.length&&E!==this)for(;O<E.length;O++)this.words[O]=E.words[O];return this.length=Math.max(this.length,O),E!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(l){return this.clone().isub(l)};function N(_,l,m){m.negative=l.negative^_.negative;var b=_.length+l.length|0;m.length=b,b=b-1|0;var E=_.words[0]|0,S=l.words[0]|0,P=E*S,O=P&67108863,A=P/67108864|0;m.words[0]=O;for(var h=1;h<b;h++){for(var v=A>>>26,F=A&67108863,$=Math.min(h,l.length-1),Y=Math.max(0,h-_.length+1);Y<=$;Y++){var se=h-Y|0;E=_.words[se]|0,S=l.words[Y]|0,P=E*S+F,v+=P/67108864|0,F=P&67108863}m.words[h]=F|0,A=v|0}return A!==0?m.words[h]=A|0:m.length--,m._strip()}var D=function(l,m,b){var E=l.words,S=m.words,P=b.words,O=0,A,h,v,F=E[0]|0,$=F&8191,Y=F>>>13,se=E[1]|0,fe=se&8191,re=se>>>13,xe=E[2]|0,ye=xe&8191,ke=xe>>>13,Ze=E[3]|0,Ne=Ze&8191,$e=Ze>>>13,V=E[4]|0,T=V&8191,C=V>>>13,Q=E[5]|0,te=Q&8191,ae=Q>>>13,de=E[6]|0,Ae=de&8191,_e=de>>>13,ie=E[7]|0,ce=ie&8191,g=ie>>>13,c=E[8]|0,u=c&8191,w=c>>>13,k=E[9]|0,L=k&8191,H=k>>>13,pe=S[0]|0,ge=pe&8191,me=pe>>>13,Ce=S[1]|0,he=Ce&8191,et=Ce>>>13,ea=S[2]|0,tt=ea&8191,nt=ea>>>13,ta=S[3]|0,rt=ta&8191,it=ta>>>13,na=S[4]|0,st=na&8191,ot=na>>>13,ra=S[5]|0,at=ra&8191,ct=ra>>>13,ia=S[6]|0,ut=ia&8191,lt=ia>>>13,sa=S[7]|0,ft=sa&8191,dt=sa>>>13,oa=S[8]|0,ht=oa&8191,pt=oa>>>13,aa=S[9]|0,mt=aa&8191,gt=aa>>>13;b.negative=l.negative^m.negative,b.length=19,A=Math.imul($,ge),h=Math.imul($,me),h=h+Math.imul(Y,ge)|0,v=Math.imul(Y,me);var Di=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Di>>>26)|0,Di&=67108863,A=Math.imul(fe,ge),h=Math.imul(fe,me),h=h+Math.imul(re,ge)|0,v=Math.imul(re,me),A=A+Math.imul($,he)|0,h=h+Math.imul($,et)|0,h=h+Math.imul(Y,he)|0,v=v+Math.imul(Y,et)|0;var Ui=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,A=Math.imul(ye,ge),h=Math.imul(ye,me),h=h+Math.imul(ke,ge)|0,v=Math.imul(ke,me),A=A+Math.imul(fe,he)|0,h=h+Math.imul(fe,et)|0,h=h+Math.imul(re,he)|0,v=v+Math.imul(re,et)|0,A=A+Math.imul($,tt)|0,h=h+Math.imul($,nt)|0,h=h+Math.imul(Y,tt)|0,v=v+Math.imul(Y,nt)|0;var Hi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,A=Math.imul(Ne,ge),h=Math.imul(Ne,me),h=h+Math.imul($e,ge)|0,v=Math.imul($e,me),A=A+Math.imul(ye,he)|0,h=h+Math.imul(ye,et)|0,h=h+Math.imul(ke,he)|0,v=v+Math.imul(ke,et)|0,A=A+Math.imul(fe,tt)|0,h=h+Math.imul(fe,nt)|0,h=h+Math.imul(re,tt)|0,v=v+Math.imul(re,nt)|0,A=A+Math.imul($,rt)|0,h=h+Math.imul($,it)|0,h=h+Math.imul(Y,rt)|0,v=v+Math.imul(Y,it)|0;var $i=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+($i>>>26)|0,$i&=67108863,A=Math.imul(T,ge),h=Math.imul(T,me),h=h+Math.imul(C,ge)|0,v=Math.imul(C,me),A=A+Math.imul(Ne,he)|0,h=h+Math.imul(Ne,et)|0,h=h+Math.imul($e,he)|0,v=v+Math.imul($e,et)|0,A=A+Math.imul(ye,tt)|0,h=h+Math.imul(ye,nt)|0,h=h+Math.imul(ke,tt)|0,v=v+Math.imul(ke,nt)|0,A=A+Math.imul(fe,rt)|0,h=h+Math.imul(fe,it)|0,h=h+Math.imul(re,rt)|0,v=v+Math.imul(re,it)|0,A=A+Math.imul($,st)|0,h=h+Math.imul($,ot)|0,h=h+Math.imul(Y,st)|0,v=v+Math.imul(Y,ot)|0;var Gi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,A=Math.imul(te,ge),h=Math.imul(te,me),h=h+Math.imul(ae,ge)|0,v=Math.imul(ae,me),A=A+Math.imul(T,he)|0,h=h+Math.imul(T,et)|0,h=h+Math.imul(C,he)|0,v=v+Math.imul(C,et)|0,A=A+Math.imul(Ne,tt)|0,h=h+Math.imul(Ne,nt)|0,h=h+Math.imul($e,tt)|0,v=v+Math.imul($e,nt)|0,A=A+Math.imul(ye,rt)|0,h=h+Math.imul(ye,it)|0,h=h+Math.imul(ke,rt)|0,v=v+Math.imul(ke,it)|0,A=A+Math.imul(fe,st)|0,h=h+Math.imul(fe,ot)|0,h=h+Math.imul(re,st)|0,v=v+Math.imul(re,ot)|0,A=A+Math.imul($,at)|0,h=h+Math.imul($,ct)|0,h=h+Math.imul(Y,at)|0,v=v+Math.imul(Y,ct)|0;var qi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(qi>>>26)|0,qi&=67108863,A=Math.imul(Ae,ge),h=Math.imul(Ae,me),h=h+Math.imul(_e,ge)|0,v=Math.imul(_e,me),A=A+Math.imul(te,he)|0,h=h+Math.imul(te,et)|0,h=h+Math.imul(ae,he)|0,v=v+Math.imul(ae,et)|0,A=A+Math.imul(T,tt)|0,h=h+Math.imul(T,nt)|0,h=h+Math.imul(C,tt)|0,v=v+Math.imul(C,nt)|0,A=A+Math.imul(Ne,rt)|0,h=h+Math.imul(Ne,it)|0,h=h+Math.imul($e,rt)|0,v=v+Math.imul($e,it)|0,A=A+Math.imul(ye,st)|0,h=h+Math.imul(ye,ot)|0,h=h+Math.imul(ke,st)|0,v=v+Math.imul(ke,ot)|0,A=A+Math.imul(fe,at)|0,h=h+Math.imul(fe,ct)|0,h=h+Math.imul(re,at)|0,v=v+Math.imul(re,ct)|0,A=A+Math.imul($,ut)|0,h=h+Math.imul($,lt)|0,h=h+Math.imul(Y,ut)|0,v=v+Math.imul(Y,lt)|0;var ji=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(ji>>>26)|0,ji&=67108863,A=Math.imul(ce,ge),h=Math.imul(ce,me),h=h+Math.imul(g,ge)|0,v=Math.imul(g,me),A=A+Math.imul(Ae,he)|0,h=h+Math.imul(Ae,et)|0,h=h+Math.imul(_e,he)|0,v=v+Math.imul(_e,et)|0,A=A+Math.imul(te,tt)|0,h=h+Math.imul(te,nt)|0,h=h+Math.imul(ae,tt)|0,v=v+Math.imul(ae,nt)|0,A=A+Math.imul(T,rt)|0,h=h+Math.imul(T,it)|0,h=h+Math.imul(C,rt)|0,v=v+Math.imul(C,it)|0,A=A+Math.imul(Ne,st)|0,h=h+Math.imul(Ne,ot)|0,h=h+Math.imul($e,st)|0,v=v+Math.imul($e,ot)|0,A=A+Math.imul(ye,at)|0,h=h+Math.imul(ye,ct)|0,h=h+Math.imul(ke,at)|0,v=v+Math.imul(ke,ct)|0,A=A+Math.imul(fe,ut)|0,h=h+Math.imul(fe,lt)|0,h=h+Math.imul(re,ut)|0,v=v+Math.imul(re,lt)|0,A=A+Math.imul($,ft)|0,h=h+Math.imul($,dt)|0,h=h+Math.imul(Y,ft)|0,v=v+Math.imul(Y,dt)|0;var zi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(zi>>>26)|0,zi&=67108863,A=Math.imul(u,ge),h=Math.imul(u,me),h=h+Math.imul(w,ge)|0,v=Math.imul(w,me),A=A+Math.imul(ce,he)|0,h=h+Math.imul(ce,et)|0,h=h+Math.imul(g,he)|0,v=v+Math.imul(g,et)|0,A=A+Math.imul(Ae,tt)|0,h=h+Math.imul(Ae,nt)|0,h=h+Math.imul(_e,tt)|0,v=v+Math.imul(_e,nt)|0,A=A+Math.imul(te,rt)|0,h=h+Math.imul(te,it)|0,h=h+Math.imul(ae,rt)|0,v=v+Math.imul(ae,it)|0,A=A+Math.imul(T,st)|0,h=h+Math.imul(T,ot)|0,h=h+Math.imul(C,st)|0,v=v+Math.imul(C,ot)|0,A=A+Math.imul(Ne,at)|0,h=h+Math.imul(Ne,ct)|0,h=h+Math.imul($e,at)|0,v=v+Math.imul($e,ct)|0,A=A+Math.imul(ye,ut)|0,h=h+Math.imul(ye,lt)|0,h=h+Math.imul(ke,ut)|0,v=v+Math.imul(ke,lt)|0,A=A+Math.imul(fe,ft)|0,h=h+Math.imul(fe,dt)|0,h=h+Math.imul(re,ft)|0,v=v+Math.imul(re,dt)|0,A=A+Math.imul($,ht)|0,h=h+Math.imul($,pt)|0,h=h+Math.imul(Y,ht)|0,v=v+Math.imul(Y,pt)|0;var Vi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,A=Math.imul(L,ge),h=Math.imul(L,me),h=h+Math.imul(H,ge)|0,v=Math.imul(H,me),A=A+Math.imul(u,he)|0,h=h+Math.imul(u,et)|0,h=h+Math.imul(w,he)|0,v=v+Math.imul(w,et)|0,A=A+Math.imul(ce,tt)|0,h=h+Math.imul(ce,nt)|0,h=h+Math.imul(g,tt)|0,v=v+Math.imul(g,nt)|0,A=A+Math.imul(Ae,rt)|0,h=h+Math.imul(Ae,it)|0,h=h+Math.imul(_e,rt)|0,v=v+Math.imul(_e,it)|0,A=A+Math.imul(te,st)|0,h=h+Math.imul(te,ot)|0,h=h+Math.imul(ae,st)|0,v=v+Math.imul(ae,ot)|0,A=A+Math.imul(T,at)|0,h=h+Math.imul(T,ct)|0,h=h+Math.imul(C,at)|0,v=v+Math.imul(C,ct)|0,A=A+Math.imul(Ne,ut)|0,h=h+Math.imul(Ne,lt)|0,h=h+Math.imul($e,ut)|0,v=v+Math.imul($e,lt)|0,A=A+Math.imul(ye,ft)|0,h=h+Math.imul(ye,dt)|0,h=h+Math.imul(ke,ft)|0,v=v+Math.imul(ke,dt)|0,A=A+Math.imul(fe,ht)|0,h=h+Math.imul(fe,pt)|0,h=h+Math.imul(re,ht)|0,v=v+Math.imul(re,pt)|0,A=A+Math.imul($,mt)|0,h=h+Math.imul($,gt)|0,h=h+Math.imul(Y,mt)|0,v=v+Math.imul(Y,gt)|0;var Wi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,A=Math.imul(L,he),h=Math.imul(L,et),h=h+Math.imul(H,he)|0,v=Math.imul(H,et),A=A+Math.imul(u,tt)|0,h=h+Math.imul(u,nt)|0,h=h+Math.imul(w,tt)|0,v=v+Math.imul(w,nt)|0,A=A+Math.imul(ce,rt)|0,h=h+Math.imul(ce,it)|0,h=h+Math.imul(g,rt)|0,v=v+Math.imul(g,it)|0,A=A+Math.imul(Ae,st)|0,h=h+Math.imul(Ae,ot)|0,h=h+Math.imul(_e,st)|0,v=v+Math.imul(_e,ot)|0,A=A+Math.imul(te,at)|0,h=h+Math.imul(te,ct)|0,h=h+Math.imul(ae,at)|0,v=v+Math.imul(ae,ct)|0,A=A+Math.imul(T,ut)|0,h=h+Math.imul(T,lt)|0,h=h+Math.imul(C,ut)|0,v=v+Math.imul(C,lt)|0,A=A+Math.imul(Ne,ft)|0,h=h+Math.imul(Ne,dt)|0,h=h+Math.imul($e,ft)|0,v=v+Math.imul($e,dt)|0,A=A+Math.imul(ye,ht)|0,h=h+Math.imul(ye,pt)|0,h=h+Math.imul(ke,ht)|0,v=v+Math.imul(ke,pt)|0,A=A+Math.imul(fe,mt)|0,h=h+Math.imul(fe,gt)|0,h=h+Math.imul(re,mt)|0,v=v+Math.imul(re,gt)|0;var Ki=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,A=Math.imul(L,tt),h=Math.imul(L,nt),h=h+Math.imul(H,tt)|0,v=Math.imul(H,nt),A=A+Math.imul(u,rt)|0,h=h+Math.imul(u,it)|0,h=h+Math.imul(w,rt)|0,v=v+Math.imul(w,it)|0,A=A+Math.imul(ce,st)|0,h=h+Math.imul(ce,ot)|0,h=h+Math.imul(g,st)|0,v=v+Math.imul(g,ot)|0,A=A+Math.imul(Ae,at)|0,h=h+Math.imul(Ae,ct)|0,h=h+Math.imul(_e,at)|0,v=v+Math.imul(_e,ct)|0,A=A+Math.imul(te,ut)|0,h=h+Math.imul(te,lt)|0,h=h+Math.imul(ae,ut)|0,v=v+Math.imul(ae,lt)|0,A=A+Math.imul(T,ft)|0,h=h+Math.imul(T,dt)|0,h=h+Math.imul(C,ft)|0,v=v+Math.imul(C,dt)|0,A=A+Math.imul(Ne,ht)|0,h=h+Math.imul(Ne,pt)|0,h=h+Math.imul($e,ht)|0,v=v+Math.imul($e,pt)|0,A=A+Math.imul(ye,mt)|0,h=h+Math.imul(ye,gt)|0,h=h+Math.imul(ke,mt)|0,v=v+Math.imul(ke,gt)|0;var Qi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,A=Math.imul(L,rt),h=Math.imul(L,it),h=h+Math.imul(H,rt)|0,v=Math.imul(H,it),A=A+Math.imul(u,st)|0,h=h+Math.imul(u,ot)|0,h=h+Math.imul(w,st)|0,v=v+Math.imul(w,ot)|0,A=A+Math.imul(ce,at)|0,h=h+Math.imul(ce,ct)|0,h=h+Math.imul(g,at)|0,v=v+Math.imul(g,ct)|0,A=A+Math.imul(Ae,ut)|0,h=h+Math.imul(Ae,lt)|0,h=h+Math.imul(_e,ut)|0,v=v+Math.imul(_e,lt)|0,A=A+Math.imul(te,ft)|0,h=h+Math.imul(te,dt)|0,h=h+Math.imul(ae,ft)|0,v=v+Math.imul(ae,dt)|0,A=A+Math.imul(T,ht)|0,h=h+Math.imul(T,pt)|0,h=h+Math.imul(C,ht)|0,v=v+Math.imul(C,pt)|0,A=A+Math.imul(Ne,mt)|0,h=h+Math.imul(Ne,gt)|0,h=h+Math.imul($e,mt)|0,v=v+Math.imul($e,gt)|0;var Zi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,A=Math.imul(L,st),h=Math.imul(L,ot),h=h+Math.imul(H,st)|0,v=Math.imul(H,ot),A=A+Math.imul(u,at)|0,h=h+Math.imul(u,ct)|0,h=h+Math.imul(w,at)|0,v=v+Math.imul(w,ct)|0,A=A+Math.imul(ce,ut)|0,h=h+Math.imul(ce,lt)|0,h=h+Math.imul(g,ut)|0,v=v+Math.imul(g,lt)|0,A=A+Math.imul(Ae,ft)|0,h=h+Math.imul(Ae,dt)|0,h=h+Math.imul(_e,ft)|0,v=v+Math.imul(_e,dt)|0,A=A+Math.imul(te,ht)|0,h=h+Math.imul(te,pt)|0,h=h+Math.imul(ae,ht)|0,v=v+Math.imul(ae,pt)|0,A=A+Math.imul(T,mt)|0,h=h+Math.imul(T,gt)|0,h=h+Math.imul(C,mt)|0,v=v+Math.imul(C,gt)|0;var Yi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,A=Math.imul(L,at),h=Math.imul(L,ct),h=h+Math.imul(H,at)|0,v=Math.imul(H,ct),A=A+Math.imul(u,ut)|0,h=h+Math.imul(u,lt)|0,h=h+Math.imul(w,ut)|0,v=v+Math.imul(w,lt)|0,A=A+Math.imul(ce,ft)|0,h=h+Math.imul(ce,dt)|0,h=h+Math.imul(g,ft)|0,v=v+Math.imul(g,dt)|0,A=A+Math.imul(Ae,ht)|0,h=h+Math.imul(Ae,pt)|0,h=h+Math.imul(_e,ht)|0,v=v+Math.imul(_e,pt)|0,A=A+Math.imul(te,mt)|0,h=h+Math.imul(te,gt)|0,h=h+Math.imul(ae,mt)|0,v=v+Math.imul(ae,gt)|0;var Ji=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,A=Math.imul(L,ut),h=Math.imul(L,lt),h=h+Math.imul(H,ut)|0,v=Math.imul(H,lt),A=A+Math.imul(u,ft)|0,h=h+Math.imul(u,dt)|0,h=h+Math.imul(w,ft)|0,v=v+Math.imul(w,dt)|0,A=A+Math.imul(ce,ht)|0,h=h+Math.imul(ce,pt)|0,h=h+Math.imul(g,ht)|0,v=v+Math.imul(g,pt)|0,A=A+Math.imul(Ae,mt)|0,h=h+Math.imul(Ae,gt)|0,h=h+Math.imul(_e,mt)|0,v=v+Math.imul(_e,gt)|0;var Xi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,A=Math.imul(L,ft),h=Math.imul(L,dt),h=h+Math.imul(H,ft)|0,v=Math.imul(H,dt),A=A+Math.imul(u,ht)|0,h=h+Math.imul(u,pt)|0,h=h+Math.imul(w,ht)|0,v=v+Math.imul(w,pt)|0,A=A+Math.imul(ce,mt)|0,h=h+Math.imul(ce,gt)|0,h=h+Math.imul(g,mt)|0,v=v+Math.imul(g,gt)|0;var es=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(es>>>26)|0,es&=67108863,A=Math.imul(L,ht),h=Math.imul(L,pt),h=h+Math.imul(H,ht)|0,v=Math.imul(H,pt),A=A+Math.imul(u,mt)|0,h=h+Math.imul(u,gt)|0,h=h+Math.imul(w,mt)|0,v=v+Math.imul(w,gt)|0;var ts=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(ts>>>26)|0,ts&=67108863,A=Math.imul(L,mt),h=Math.imul(L,gt),h=h+Math.imul(H,mt)|0,v=Math.imul(H,gt);var ns=(O+A|0)+((h&8191)<<13)|0;return O=(v+(h>>>13)|0)+(ns>>>26)|0,ns&=67108863,P[0]=Di,P[1]=Ui,P[2]=Hi,P[3]=$i,P[4]=Gi,P[5]=qi,P[6]=ji,P[7]=zi,P[8]=Vi,P[9]=Wi,P[10]=Ki,P[11]=Qi,P[12]=Zi,P[13]=Yi,P[14]=Ji,P[15]=Xi,P[16]=es,P[17]=ts,P[18]=ns,O!==0&&(P[19]=O,b.length++),b};Math.imul||(D=N);function U(_,l,m){m.negative=l.negative^_.negative,m.length=_.length+l.length;for(var b=0,E=0,S=0;S<m.length-1;S++){var P=E;E=0;for(var O=b&67108863,A=Math.min(S,l.length-1),h=Math.max(0,S-_.length+1);h<=A;h++){var v=S-h,F=_.words[v]|0,$=l.words[h]|0,Y=F*$,se=Y&67108863;P=P+(Y/67108864|0)|0,se=se+O|0,O=se&67108863,P=P+(se>>>26)|0,E+=P>>>26,P&=67108863}m.words[S]=O,b=P,P=E}return b!==0?m.words[S]=b:m.length--,m._strip()}function K(_,l,m){return U(_,l,m)}i.prototype.mulTo=function(l,m){var b,E=this.length+l.length;return this.length===10&&l.length===10?b=D(this,l,m):E<63?b=N(this,l,m):E<1024?b=U(this,l,m):b=K(this,l,m),b},i.prototype.mul=function(l){var m=new i(null);return m.words=new Array(this.length+l.length),this.mulTo(l,m)},i.prototype.mulf=function(l){var m=new i(null);return m.words=new Array(this.length+l.length),K(this,l,m)},i.prototype.imul=function(l){return this.clone().mulTo(l,this)},i.prototype.imuln=function(l){var m=l<0;m&&(l=-l),r(typeof l=="number"),r(l<67108864);for(var b=0,E=0;E<this.length;E++){var S=(this.words[E]|0)*l,P=(S&67108863)+(b&67108863);b>>=26,b+=S/67108864|0,b+=P>>>26,this.words[E]=P&67108863}return b!==0&&(this.words[E]=b,this.length++),this.length=l===0?1:this.length,m?this.ineg():this},i.prototype.muln=function(l){return this.clone().imuln(l)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(l){var m=R(l);if(m.length===0)return new i(1);for(var b=this,E=0;E<m.length&&m[E]===0;E++,b=b.sqr());if(++E<m.length)for(var S=b.sqr();E<m.length;E++,S=S.sqr())m[E]!==0&&(b=b.mul(S));return b},i.prototype.iushln=function(l){r(typeof l=="number"&&l>=0);var m=l%26,b=(l-m)/26,E=67108863>>>26-m<<26-m,S;if(m!==0){var P=0;for(S=0;S<this.length;S++){var O=this.words[S]&E,A=(this.words[S]|0)-O<<m;this.words[S]=A|P,P=O>>>26-m}P&&(this.words[S]=P,this.length++)}if(b!==0){for(S=this.length-1;S>=0;S--)this.words[S+b]=this.words[S];for(S=0;S<b;S++)this.words[S]=0;this.length+=b}return this._strip()},i.prototype.ishln=function(l){return r(this.negative===0),this.iushln(l)},i.prototype.iushrn=function(l,m,b){r(typeof l=="number"&&l>=0);var E;m?E=(m-m%26)/26:E=0;var S=l%26,P=Math.min((l-S)/26,this.length),O=67108863^67108863>>>S<<S,A=b;if(E-=P,E=Math.max(0,E),A){for(var h=0;h<P;h++)A.words[h]=this.words[h];A.length=P}if(P!==0)if(this.length>P)for(this.length-=P,h=0;h<this.length;h++)this.words[h]=this.words[h+P];else this.words[0]=0,this.length=1;var v=0;for(h=this.length-1;h>=0&&(v!==0||h>=E);h--){var F=this.words[h]|0;this.words[h]=v<<26-S|F>>>S,v=F&O}return A&&v!==0&&(A.words[A.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(l,m,b){return r(this.negative===0),this.iushrn(l,m,b)},i.prototype.shln=function(l){return this.clone().ishln(l)},i.prototype.ushln=function(l){return this.clone().iushln(l)},i.prototype.shrn=function(l){return this.clone().ishrn(l)},i.prototype.ushrn=function(l){return this.clone().iushrn(l)},i.prototype.testn=function(l){r(typeof l=="number"&&l>=0);var m=l%26,b=(l-m)/26,E=1<<m;if(this.length<=b)return!1;var S=this.words[b];return!!(S&E)},i.prototype.imaskn=function(l){r(typeof l=="number"&&l>=0);var m=l%26,b=(l-m)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(m!==0&&b++,this.length=Math.min(b,this.length),m!==0){var E=67108863^67108863>>>m<<m;this.words[this.length-1]&=E}return this._strip()},i.prototype.maskn=function(l){return this.clone().imaskn(l)},i.prototype.iaddn=function(l){return r(typeof l=="number"),r(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},i.prototype._iaddn=function(l){this.words[0]+=l;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},i.prototype.isubn=function(l){if(r(typeof l=="number"),r(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},i.prototype.addn=function(l){return this.clone().iaddn(l)},i.prototype.subn=function(l){return this.clone().isubn(l)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(l,m,b){var E=l.length+b,S;this._expand(E);var P,O=0;for(S=0;S<l.length;S++){P=(this.words[S+b]|0)+O;var A=(l.words[S]|0)*m;P-=A&67108863,O=(P>>26)-(A/67108864|0),this.words[S+b]=P&67108863}for(;S<this.length-b;S++)P=(this.words[S+b]|0)+O,O=P>>26,this.words[S+b]=P&67108863;if(O===0)return this._strip();for(r(O===-1),O=0,S=0;S<this.length;S++)P=-(this.words[S]|0)+O,O=P>>26,this.words[S]=P&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(l,m){var b=this.length-l.length,E=this.clone(),S=l,P=S.words[S.length-1]|0,O=this._countBits(P);b=26-O,b!==0&&(S=S.ushln(b),E.iushln(b),P=S.words[S.length-1]|0);var A=E.length-S.length,h;if(m!=="mod"){h=new i(null),h.length=A+1,h.words=new Array(h.length);for(var v=0;v<h.length;v++)h.words[v]=0}var F=E.clone()._ishlnsubmul(S,1,A);F.negative===0&&(E=F,h&&(h.words[A]=1));for(var $=A-1;$>=0;$--){var Y=(E.words[S.length+$]|0)*67108864+(E.words[S.length+$-1]|0);for(Y=Math.min(Y/P|0,67108863),E._ishlnsubmul(S,Y,$);E.negative!==0;)Y--,E.negative=0,E._ishlnsubmul(S,1,$),E.isZero()||(E.negative^=1);h&&(h.words[$]=Y)}return h&&h._strip(),E._strip(),m!=="div"&&b!==0&&E.iushrn(b),{div:h||null,mod:E}},i.prototype.divmod=function(l,m,b){if(r(!l.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var E,S,P;return this.negative!==0&&l.negative===0?(P=this.neg().divmod(l,m),m!=="mod"&&(E=P.div.neg()),m!=="div"&&(S=P.mod.neg(),b&&S.negative!==0&&S.iadd(l)),{div:E,mod:S}):this.negative===0&&l.negative!==0?(P=this.divmod(l.neg(),m),m!=="mod"&&(E=P.div.neg()),{div:E,mod:P.mod}):(this.negative&l.negative)!==0?(P=this.neg().divmod(l.neg(),m),m!=="div"&&(S=P.mod.neg(),b&&S.negative!==0&&S.isub(l)),{div:P.div,mod:S}):l.length>this.length||this.cmp(l)<0?{div:new i(0),mod:this}:l.length===1?m==="div"?{div:this.divn(l.words[0]),mod:null}:m==="mod"?{div:null,mod:new i(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new i(this.modrn(l.words[0]))}:this._wordDiv(l,m)},i.prototype.div=function(l){return this.divmod(l,"div",!1).div},i.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},i.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},i.prototype.divRound=function(l){var m=this.divmod(l);if(m.mod.isZero())return m.div;var b=m.div.negative!==0?m.mod.isub(l):m.mod,E=l.ushrn(1),S=l.andln(1),P=b.cmp(E);return P<0||S===1&&P===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},i.prototype.modrn=function(l){var m=l<0;m&&(l=-l),r(l<=67108863);for(var b=(1<<26)%l,E=0,S=this.length-1;S>=0;S--)E=(b*E+(this.words[S]|0))%l;return m?-E:E},i.prototype.modn=function(l){return this.modrn(l)},i.prototype.idivn=function(l){var m=l<0;m&&(l=-l),r(l<=67108863);for(var b=0,E=this.length-1;E>=0;E--){var S=(this.words[E]|0)+b*67108864;this.words[E]=S/l|0,b=S%l}return this._strip(),m?this.ineg():this},i.prototype.divn=function(l){return this.clone().idivn(l)},i.prototype.egcd=function(l){r(l.negative===0),r(!l.isZero());var m=this,b=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var E=new i(1),S=new i(0),P=new i(0),O=new i(1),A=0;m.isEven()&&b.isEven();)m.iushrn(1),b.iushrn(1),++A;for(var h=b.clone(),v=m.clone();!m.isZero();){for(var F=0,$=1;(m.words[0]&$)===0&&F<26;++F,$<<=1);if(F>0)for(m.iushrn(F);F-- >0;)(E.isOdd()||S.isOdd())&&(E.iadd(h),S.isub(v)),E.iushrn(1),S.iushrn(1);for(var Y=0,se=1;(b.words[0]&se)===0&&Y<26;++Y,se<<=1);if(Y>0)for(b.iushrn(Y);Y-- >0;)(P.isOdd()||O.isOdd())&&(P.iadd(h),O.isub(v)),P.iushrn(1),O.iushrn(1);m.cmp(b)>=0?(m.isub(b),E.isub(P),S.isub(O)):(b.isub(m),P.isub(E),O.isub(S))}return{a:P,b:O,gcd:b.iushln(A)}},i.prototype._invmp=function(l){r(l.negative===0),r(!l.isZero());var m=this,b=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var E=new i(1),S=new i(0),P=b.clone();m.cmpn(1)>0&&b.cmpn(1)>0;){for(var O=0,A=1;(m.words[0]&A)===0&&O<26;++O,A<<=1);if(O>0)for(m.iushrn(O);O-- >0;)E.isOdd()&&E.iadd(P),E.iushrn(1);for(var h=0,v=1;(b.words[0]&v)===0&&h<26;++h,v<<=1);if(h>0)for(b.iushrn(h);h-- >0;)S.isOdd()&&S.iadd(P),S.iushrn(1);m.cmp(b)>=0?(m.isub(b),E.isub(S)):(b.isub(m),S.isub(E))}var F;return m.cmpn(1)===0?F=E:F=S,F.cmpn(0)<0&&F.iadd(l),F},i.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var m=this.clone(),b=l.clone();m.negative=0,b.negative=0;for(var E=0;m.isEven()&&b.isEven();E++)m.iushrn(1),b.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;b.isEven();)b.iushrn(1);var S=m.cmp(b);if(S<0){var P=m;m=b,b=P}else if(S===0||b.cmpn(1)===0)break;m.isub(b)}while(!0);return b.iushln(E)},i.prototype.invm=function(l){return this.egcd(l).a.umod(l)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(l){return this.words[0]&l},i.prototype.bincn=function(l){r(typeof l=="number");var m=l%26,b=(l-m)/26,E=1<<m;if(this.length<=b)return this._expand(b+1),this.words[b]|=E,this;for(var S=E,P=b;S!==0&&P<this.length;P++){var O=this.words[P]|0;O+=S,S=O>>>26,O&=67108863,this.words[P]=O}return S!==0&&(this.words[P]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(l){var m=l<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var b;if(this.length>1)b=1;else{m&&(l=-l),r(l<=67108863,"Number is too big");var E=this.words[0]|0;b=E===l?0:E<l?-1:1}return this.negative!==0?-b|0:b},i.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var m=this.ucmp(l);return this.negative!==0?-m|0:m},i.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var m=0,b=this.length-1;b>=0;b--){var E=this.words[b]|0,S=l.words[b]|0;if(E!==S){E<S?m=-1:E>S&&(m=1);break}}return m},i.prototype.gtn=function(l){return this.cmpn(l)===1},i.prototype.gt=function(l){return this.cmp(l)===1},i.prototype.gten=function(l){return this.cmpn(l)>=0},i.prototype.gte=function(l){return this.cmp(l)>=0},i.prototype.ltn=function(l){return this.cmpn(l)===-1},i.prototype.lt=function(l){return this.cmp(l)===-1},i.prototype.lten=function(l){return this.cmpn(l)<=0},i.prototype.lte=function(l){return this.cmp(l)<=0},i.prototype.eqn=function(l){return this.cmpn(l)===0},i.prototype.eq=function(l){return this.cmp(l)===0},i.red=function(l){return new W(l)},i.prototype.toRed=function(l){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(l){return this.red=l,this},i.prototype.forceRed=function(l){return r(!this.red,"Already a number in reduction context"),this._forceRed(l)},i.prototype.redAdd=function(l){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},i.prototype.redIAdd=function(l){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},i.prototype.redSub=function(l){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},i.prototype.redISub=function(l){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},i.prototype.redShl=function(l){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},i.prototype.redMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},i.prototype.redIMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(l){return r(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var j={k256:null,p224:null,p192:null,p25519:null};function J(_,l){this.name=_,this.p=new i(l,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}J.prototype._tmp=function(){var l=new i(null);return l.words=new Array(Math.ceil(this.n/13)),l},J.prototype.ireduce=function(l){var m=l,b;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),b=m.bitLength();while(b>this.n);var E=b<this.n?-1:m.ucmp(this.p);return E===0?(m.words[0]=0,m.length=1):E>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},J.prototype.split=function(l,m){l.iushrn(this.n,0,m)},J.prototype.imulK=function(l){return l.imul(this.k)};function ne(){J.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(ne,J),ne.prototype.split=function(l,m){for(var b=4194303,E=Math.min(l.length,9),S=0;S<E;S++)m.words[S]=l.words[S];if(m.length=E,l.length<=9){l.words[0]=0,l.length=1;return}var P=l.words[9];for(m.words[m.length++]=P&b,S=10;S<l.length;S++){var O=l.words[S]|0;l.words[S-10]=(O&b)<<4|P>>>22,P=O}P>>>=22,l.words[S-10]=P,P===0&&l.length>10?l.length-=10:l.length-=9},ne.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var m=0,b=0;b<l.length;b++){var E=l.words[b]|0;m+=E*977,l.words[b]=m&67108863,m=E*64+(m/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function X(){J.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(X,J);function Z(){J.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(Z,J);function G(){J.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(G,J),G.prototype.imulK=function(l){for(var m=0,b=0;b<l.length;b++){var E=(l.words[b]|0)*19+m,S=E&67108863;E>>>=26,l.words[b]=S,m=E}return m!==0&&(l.words[l.length++]=m),l},i._prime=function(l){if(j[l])return j[l];var m;if(l==="k256")m=new ne;else if(l==="p224")m=new X;else if(l==="p192")m=new Z;else if(l==="p25519")m=new G;else throw new Error("Unknown prime "+l);return j[l]=m,m};function W(_){if(typeof _=="string"){var l=i._prime(_);this.m=l.p,this.prime=l}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}W.prototype._verify1=function(l){r(l.negative===0,"red works only with positives"),r(l.red,"red works only with red numbers")},W.prototype._verify2=function(l,m){r((l.negative|m.negative)===0,"red works only with positives"),r(l.red&&l.red===m.red,"red works only with red numbers")},W.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(p(l,l.umod(this.m)._forceRed(this)),l)},W.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},W.prototype.add=function(l,m){this._verify2(l,m);var b=l.add(m);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},W.prototype.iadd=function(l,m){this._verify2(l,m);var b=l.iadd(m);return b.cmp(this.m)>=0&&b.isub(this.m),b},W.prototype.sub=function(l,m){this._verify2(l,m);var b=l.sub(m);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},W.prototype.isub=function(l,m){this._verify2(l,m);var b=l.isub(m);return b.cmpn(0)<0&&b.iadd(this.m),b},W.prototype.shl=function(l,m){return this._verify1(l),this.imod(l.ushln(m))},W.prototype.imul=function(l,m){return this._verify2(l,m),this.imod(l.imul(m))},W.prototype.mul=function(l,m){return this._verify2(l,m),this.imod(l.mul(m))},W.prototype.isqr=function(l){return this.imul(l,l.clone())},W.prototype.sqr=function(l){return this.mul(l,l)},W.prototype.sqrt=function(l){if(l.isZero())return l.clone();var m=this.m.andln(3);if(r(m%2===1),m===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(l,b)}for(var E=this.m.subn(1),S=0;!E.isZero()&&E.andln(1)===0;)S++,E.iushrn(1);r(!E.isZero());var P=new i(1).toRed(this),O=P.redNeg(),A=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);this.pow(h,A).cmp(O)!==0;)h.redIAdd(O);for(var v=this.pow(h,E),F=this.pow(l,E.addn(1).iushrn(1)),$=this.pow(l,E),Y=S;$.cmp(P)!==0;){for(var se=$,fe=0;se.cmp(P)!==0;fe++)se=se.redSqr();r(fe<Y);var re=this.pow(v,new i(1).iushln(Y-fe-1));F=F.redMul(re),v=re.redSqr(),$=$.redMul(v),Y=fe}return F},W.prototype.invm=function(l){var m=l._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},W.prototype.pow=function(l,m){if(m.isZero())return new i(1).toRed(this);if(m.cmpn(1)===0)return l.clone();var b=4,E=new Array(1<<b);E[0]=new i(1).toRed(this),E[1]=l;for(var S=2;S<E.length;S++)E[S]=this.mul(E[S-1],l);var P=E[0],O=0,A=0,h=m.bitLength()%26;for(h===0&&(h=26),S=m.length-1;S>=0;S--){for(var v=m.words[S],F=h-1;F>=0;F--){var $=v>>F&1;if(P!==E[0]&&(P=this.sqr(P)),$===0&&O===0){A=0;continue}O<<=1,O|=$,A++,!(A!==b&&(S!==0||F!==0))&&(P=this.mul(P,E[O]),A=0,O=0)}h=26}return P},W.prototype.convertTo=function(l){var m=l.umod(this.m);return m===l?m.clone():m},W.prototype.convertFrom=function(l){var m=l.clone();return m.red=null,m},i.mont=function(l){return new z(l)};function z(_){W.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(z,W),z.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},z.prototype.convertFrom=function(l){var m=this.imod(l.mul(this.rinv));return m.red=null,m},z.prototype.imul=function(l,m){if(l.isZero()||m.isZero())return l.words[0]=0,l.length=1,l;var b=l.imul(m),E=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=b.isub(E).iushrn(this.shift),P=S;return S.cmp(this.m)>=0?P=S.isub(this.m):S.cmpn(0)<0&&(P=S.iadd(this.m)),P._forceRed(this)},z.prototype.mul=function(l,m){if(l.isZero()||m.isZero())return new i(0)._forceRed(this);var b=l.mul(m),E=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=b.isub(E).iushrn(this.shift),P=S;return S.cmp(this.m)>=0?P=S.isub(this.m):S.cmpn(0)<0&&(P=S.iadd(this.m)),P._forceRed(this)},z.prototype.invm=function(l){var m=this.imod(l._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,_A)}(Kc)),Kc.exports}var EA=AA();const wp=Ni(EA);var Oc={exports:{}},pf={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var bp;function xA(){return bp||(bp=1,function(t){var e=vl(),n=wl(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=D,t.INSPECT_MAX_BYTES=50;var s=2147483647;t.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var V=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(V,T),V.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(V){if(V>s)throw new RangeError('The value "'+V+'" is invalid for option "size"');var T=new Uint8Array(V);return Object.setPrototypeOf(T,o.prototype),T}function o(V,T,C){if(typeof V=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(V)}return f(V,T,C)}o.poolSize=8192;function f(V,T,C){if(typeof V=="string")return B(V,T);if(ArrayBuffer.isView(V))return M(V);if(V==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(Ze(V,ArrayBuffer)||V&&Ze(V.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ze(V,SharedArrayBuffer)||V&&Ze(V.buffer,SharedArrayBuffer)))return I(V,T,C);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=V.valueOf&&V.valueOf();if(Q!=null&&Q!==V)return o.from(Q,T,C);var te=R(V);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return o.from(V[Symbol.toPrimitive]("string"),T,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}o.from=function(V,T,C){return f(V,T,C)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function d(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function p(V,T,C){return d(V),V<=0?a(V):T!==void 0?typeof C=="string"?a(V).fill(T,C):a(V).fill(T):a(V)}o.alloc=function(V,T,C){return p(V,T,C)};function y(V){return d(V),a(V<0?0:N(V)|0)}o.allocUnsafe=function(V){return y(V)},o.allocUnsafeSlow=function(V){return y(V)};function B(V,T){if((typeof T!="string"||T==="")&&(T="utf8"),!o.isEncoding(T))throw new TypeError("Unknown encoding: "+T);var C=U(V,T)|0,Q=a(C),te=Q.write(V,T);return te!==C&&(Q=Q.slice(0,te)),Q}function x(V){for(var T=V.length<0?0:N(V.length)|0,C=a(T),Q=0;Q<T;Q+=1)C[Q]=V[Q]&255;return C}function M(V){if(Ze(V,Uint8Array)){var T=new Uint8Array(V);return I(T.buffer,T.byteOffset,T.byteLength)}return x(V)}function I(V,T,C){if(T<0||V.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(V.byteLength<T+(C||0))throw new RangeError('"length" is outside of buffer bounds');var Q;return T===void 0&&C===void 0?Q=new Uint8Array(V):C===void 0?Q=new Uint8Array(V,T):Q=new Uint8Array(V,T,C),Object.setPrototypeOf(Q,o.prototype),Q}function R(V){if(o.isBuffer(V)){var T=N(V.length)|0,C=a(T);return C.length===0||V.copy(C,0,0,T),C}if(V.length!==void 0)return typeof V.length!="number"||Ne(V.length)?a(0):x(V);if(V.type==="Buffer"&&Array.isArray(V.data))return x(V.data)}function N(V){if(V>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return V|0}function D(V){return+V!=V&&(V=0),o.alloc(+V)}o.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==o.prototype},o.compare=function(T,C){if(Ze(T,Uint8Array)&&(T=o.from(T,T.offset,T.byteLength)),Ze(C,Uint8Array)&&(C=o.from(C,C.offset,C.byteLength)),!o.isBuffer(T)||!o.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===C)return 0;for(var Q=T.length,te=C.length,ae=0,de=Math.min(Q,te);ae<de;++ae)if(T[ae]!==C[ae]){Q=T[ae],te=C[ae];break}return Q<te?-1:te<Q?1:0},o.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(T,C){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return o.alloc(0);var Q;if(C===void 0)for(C=0,Q=0;Q<T.length;++Q)C+=T[Q].length;var te=o.allocUnsafe(C),ae=0;for(Q=0;Q<T.length;++Q){var de=T[Q];if(Ze(de,Uint8Array))ae+de.length>te.length?o.from(de).copy(te,ae):Uint8Array.prototype.set.call(te,de,ae);else if(o.isBuffer(de))de.copy(te,ae);else throw new TypeError('"list" argument must be an Array of Buffers');ae+=de.length}return te};function U(V,T){if(o.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||Ze(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);var C=V.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&C===0)return 0;for(var te=!1;;)switch(T){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return fe(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return ye(V).length;default:if(te)return Q?-1:fe(V).length;T=(""+T).toLowerCase(),te=!0}}o.byteLength=U;function K(V,T,C){var Q=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,T>>>=0,C<=T))return"";for(V||(V="utf8");;)switch(V){case"hex":return P(this,T,C);case"utf8":case"utf-8":return l(this,T,C);case"ascii":return E(this,T,C);case"latin1":case"binary":return S(this,T,C);case"base64":return _(this,T,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,T,C);default:if(Q)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),Q=!0}}o.prototype._isBuffer=!0;function j(V,T,C){var Q=V[T];V[T]=V[C],V[C]=Q}o.prototype.swap16=function(){var T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<T;C+=2)j(this,C,C+1);return this},o.prototype.swap32=function(){var T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var C=0;C<T;C+=4)j(this,C,C+3),j(this,C+1,C+2);return this},o.prototype.swap64=function(){var T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<T;C+=8)j(this,C,C+7),j(this,C+1,C+6),j(this,C+2,C+5),j(this,C+3,C+4);return this},o.prototype.toString=function(){var T=this.length;return T===0?"":arguments.length===0?l(this,0,T):K.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(T){if(!o.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:o.compare(this,T)===0},o.prototype.inspect=function(){var T="",C=t.INSPECT_MAX_BYTES;return T=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(T+=" ... "),"<Buffer "+T+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(T,C,Q,te,ae){if(Ze(T,Uint8Array)&&(T=o.from(T,T.offset,T.byteLength)),!o.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(C===void 0&&(C=0),Q===void 0&&(Q=T?T.length:0),te===void 0&&(te=0),ae===void 0&&(ae=this.length),C<0||Q>T.length||te<0||ae>this.length)throw new RangeError("out of range index");if(te>=ae&&C>=Q)return 0;if(te>=ae)return-1;if(C>=Q)return 1;if(C>>>=0,Q>>>=0,te>>>=0,ae>>>=0,this===T)return 0;for(var de=ae-te,Ae=Q-C,_e=Math.min(de,Ae),ie=this.slice(te,ae),ce=T.slice(C,Q),g=0;g<_e;++g)if(ie[g]!==ce[g]){de=ie[g],Ae=ce[g];break}return de<Ae?-1:Ae<de?1:0};function J(V,T,C,Q,te){if(V.length===0)return-1;if(typeof C=="string"?(Q=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,Ne(C)&&(C=te?0:V.length-1),C<0&&(C=V.length+C),C>=V.length){if(te)return-1;C=V.length-1}else if(C<0)if(te)C=0;else return-1;if(typeof T=="string"&&(T=o.from(T,Q)),o.isBuffer(T))return T.length===0?-1:ne(V,T,C,Q,te);if(typeof T=="number")return T=T&255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(V,T,C):Uint8Array.prototype.lastIndexOf.call(V,T,C):ne(V,[T],C,Q,te);throw new TypeError("val must be string, number or Buffer")}function ne(V,T,C,Q,te){var ae=1,de=V.length,Ae=T.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(V.length<2||T.length<2)return-1;ae=2,de/=2,Ae/=2,C/=2}function _e(u,w){return ae===1?u[w]:u.readUInt16BE(w*ae)}var ie;if(te){var ce=-1;for(ie=C;ie<de;ie++)if(_e(V,ie)===_e(T,ce===-1?0:ie-ce)){if(ce===-1&&(ce=ie),ie-ce+1===Ae)return ce*ae}else ce!==-1&&(ie-=ie-ce),ce=-1}else for(C+Ae>de&&(C=de-Ae),ie=C;ie>=0;ie--){for(var g=!0,c=0;c<Ae;c++)if(_e(V,ie+c)!==_e(T,c)){g=!1;break}if(g)return ie}return-1}o.prototype.includes=function(T,C,Q){return this.indexOf(T,C,Q)!==-1},o.prototype.indexOf=function(T,C,Q){return J(this,T,C,Q,!0)},o.prototype.lastIndexOf=function(T,C,Q){return J(this,T,C,Q,!1)};function X(V,T,C,Q){C=Number(C)||0;var te=V.length-C;Q?(Q=Number(Q),Q>te&&(Q=te)):Q=te;var ae=T.length;Q>ae/2&&(Q=ae/2);for(var de=0;de<Q;++de){var Ae=parseInt(T.substr(de*2,2),16);if(Ne(Ae))return de;V[C+de]=Ae}return de}function Z(V,T,C,Q){return ke(fe(T,V.length-C),V,C,Q)}function G(V,T,C,Q){return ke(re(T),V,C,Q)}function W(V,T,C,Q){return ke(ye(T),V,C,Q)}function z(V,T,C,Q){return ke(xe(T,V.length-C),V,C,Q)}o.prototype.write=function(T,C,Q,te){if(C===void 0)te="utf8",Q=this.length,C=0;else if(Q===void 0&&typeof C=="string")te=C,Q=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(Q)?(Q=Q>>>0,te===void 0&&(te="utf8")):(te=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ae=this.length-C;if((Q===void 0||Q>ae)&&(Q=ae),T.length>0&&(Q<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");for(var de=!1;;)switch(te){case"hex":return X(this,T,C,Q);case"utf8":case"utf-8":return Z(this,T,C,Q);case"ascii":case"latin1":case"binary":return G(this,T,C,Q);case"base64":return W(this,T,C,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,T,C,Q);default:if(de)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),de=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(V,T,C){return T===0&&C===V.length?e.fromByteArray(V):e.fromByteArray(V.slice(T,C))}function l(V,T,C){C=Math.min(V.length,C);for(var Q=[],te=T;te<C;){var ae=V[te],de=null,Ae=ae>239?4:ae>223?3:ae>191?2:1;if(te+Ae<=C){var _e,ie,ce,g;switch(Ae){case 1:ae<128&&(de=ae);break;case 2:_e=V[te+1],(_e&192)===128&&(g=(ae&31)<<6|_e&63,g>127&&(de=g));break;case 3:_e=V[te+1],ie=V[te+2],(_e&192)===128&&(ie&192)===128&&(g=(ae&15)<<12|(_e&63)<<6|ie&63,g>2047&&(g<55296||g>57343)&&(de=g));break;case 4:_e=V[te+1],ie=V[te+2],ce=V[te+3],(_e&192)===128&&(ie&192)===128&&(ce&192)===128&&(g=(ae&15)<<18|(_e&63)<<12|(ie&63)<<6|ce&63,g>65535&&g<1114112&&(de=g))}}de===null?(de=65533,Ae=1):de>65535&&(de-=65536,Q.push(de>>>10&1023|55296),de=56320|de&1023),Q.push(de),te+=Ae}return b(Q)}var m=4096;function b(V){var T=V.length;if(T<=m)return String.fromCharCode.apply(String,V);for(var C="",Q=0;Q<T;)C+=String.fromCharCode.apply(String,V.slice(Q,Q+=m));return C}function E(V,T,C){var Q="";C=Math.min(V.length,C);for(var te=T;te<C;++te)Q+=String.fromCharCode(V[te]&127);return Q}function S(V,T,C){var Q="";C=Math.min(V.length,C);for(var te=T;te<C;++te)Q+=String.fromCharCode(V[te]);return Q}function P(V,T,C){var Q=V.length;(!T||T<0)&&(T=0),(!C||C<0||C>Q)&&(C=Q);for(var te="",ae=T;ae<C;++ae)te+=$e[V[ae]];return te}function O(V,T,C){for(var Q=V.slice(T,C),te="",ae=0;ae<Q.length-1;ae+=2)te+=String.fromCharCode(Q[ae]+Q[ae+1]*256);return te}o.prototype.slice=function(T,C){var Q=this.length;T=~~T,C=C===void 0?Q:~~C,T<0?(T+=Q,T<0&&(T=0)):T>Q&&(T=Q),C<0?(C+=Q,C<0&&(C=0)):C>Q&&(C=Q),C<T&&(C=T);var te=this.subarray(T,C);return Object.setPrototypeOf(te,o.prototype),te};function A(V,T,C){if(V%1!==0||V<0)throw new RangeError("offset is not uint");if(V+T>C)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(T,C,Q){T=T>>>0,C=C>>>0,Q||A(T,C,this.length);for(var te=this[T],ae=1,de=0;++de<C&&(ae*=256);)te+=this[T+de]*ae;return te},o.prototype.readUintBE=o.prototype.readUIntBE=function(T,C,Q){T=T>>>0,C=C>>>0,Q||A(T,C,this.length);for(var te=this[T+--C],ae=1;C>0&&(ae*=256);)te+=this[T+--C]*ae;return te},o.prototype.readUint8=o.prototype.readUInt8=function(T,C){return T=T>>>0,C||A(T,1,this.length),this[T]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(T,C){return T=T>>>0,C||A(T,2,this.length),this[T]|this[T+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(T,C){return T=T>>>0,C||A(T,2,this.length),this[T]<<8|this[T+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(T,C){return T=T>>>0,C||A(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(T,C){return T=T>>>0,C||A(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},o.prototype.readIntLE=function(T,C,Q){T=T>>>0,C=C>>>0,Q||A(T,C,this.length);for(var te=this[T],ae=1,de=0;++de<C&&(ae*=256);)te+=this[T+de]*ae;return ae*=128,te>=ae&&(te-=Math.pow(2,8*C)),te},o.prototype.readIntBE=function(T,C,Q){T=T>>>0,C=C>>>0,Q||A(T,C,this.length);for(var te=C,ae=1,de=this[T+--te];te>0&&(ae*=256);)de+=this[T+--te]*ae;return ae*=128,de>=ae&&(de-=Math.pow(2,8*C)),de},o.prototype.readInt8=function(T,C){return T=T>>>0,C||A(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},o.prototype.readInt16LE=function(T,C){T=T>>>0,C||A(T,2,this.length);var Q=this[T]|this[T+1]<<8;return Q&32768?Q|4294901760:Q},o.prototype.readInt16BE=function(T,C){T=T>>>0,C||A(T,2,this.length);var Q=this[T+1]|this[T]<<8;return Q&32768?Q|4294901760:Q},o.prototype.readInt32LE=function(T,C){return T=T>>>0,C||A(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},o.prototype.readInt32BE=function(T,C){return T=T>>>0,C||A(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},o.prototype.readFloatLE=function(T,C){return T=T>>>0,C||A(T,4,this.length),n.read(this,T,!0,23,4)},o.prototype.readFloatBE=function(T,C){return T=T>>>0,C||A(T,4,this.length),n.read(this,T,!1,23,4)},o.prototype.readDoubleLE=function(T,C){return T=T>>>0,C||A(T,8,this.length),n.read(this,T,!0,52,8)},o.prototype.readDoubleBE=function(T,C){return T=T>>>0,C||A(T,8,this.length),n.read(this,T,!1,52,8)};function h(V,T,C,Q,te,ae){if(!o.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>te||T<ae)throw new RangeError('"value" argument is out of bounds');if(C+Q>V.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(T,C,Q,te){if(T=+T,C=C>>>0,Q=Q>>>0,!te){var ae=Math.pow(2,8*Q)-1;h(this,T,C,Q,ae,0)}var de=1,Ae=0;for(this[C]=T&255;++Ae<Q&&(de*=256);)this[C+Ae]=T/de&255;return C+Q},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(T,C,Q,te){if(T=+T,C=C>>>0,Q=Q>>>0,!te){var ae=Math.pow(2,8*Q)-1;h(this,T,C,Q,ae,0)}var de=Q-1,Ae=1;for(this[C+de]=T&255;--de>=0&&(Ae*=256);)this[C+de]=T/Ae&255;return C+Q},o.prototype.writeUint8=o.prototype.writeUInt8=function(T,C,Q){return T=+T,C=C>>>0,Q||h(this,T,C,1,255,0),this[C]=T&255,C+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(T,C,Q){return T=+T,C=C>>>0,Q||h(this,T,C,2,65535,0),this[C]=T&255,this[C+1]=T>>>8,C+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(T,C,Q){return T=+T,C=C>>>0,Q||h(this,T,C,2,65535,0),this[C]=T>>>8,this[C+1]=T&255,C+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(T,C,Q){return T=+T,C=C>>>0,Q||h(this,T,C,4,4294967295,0),this[C+3]=T>>>24,this[C+2]=T>>>16,this[C+1]=T>>>8,this[C]=T&255,C+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(T,C,Q){return T=+T,C=C>>>0,Q||h(this,T,C,4,4294967295,0),this[C]=T>>>24,this[C+1]=T>>>16,this[C+2]=T>>>8,this[C+3]=T&255,C+4},o.prototype.writeIntLE=function(T,C,Q,te){if(T=+T,C=C>>>0,!te){var ae=Math.pow(2,8*Q-1);h(this,T,C,Q,ae-1,-ae)}var de=0,Ae=1,_e=0;for(this[C]=T&255;++de<Q&&(Ae*=256);)T<0&&_e===0&&this[C+de-1]!==0&&(_e=1),this[C+de]=(T/Ae>>0)-_e&255;return C+Q},o.prototype.writeIntBE=function(T,C,Q,te){if(T=+T,C=C>>>0,!te){var ae=Math.pow(2,8*Q-1);h(this,T,C,Q,ae-1,-ae)}var de=Q-1,Ae=1,_e=0;for(this[C+de]=T&255;--de>=0&&(Ae*=256);)T<0&&_e===0&&this[C+de+1]!==0&&(_e=1),this[C+de]=(T/Ae>>0)-_e&255;return C+Q},o.prototype.writeInt8=function(T,C,Q){return T=+T,C=C>>>0,Q||h(this,T,C,1,127,-128),T<0&&(T=255+T+1),this[C]=T&255,C+1},o.prototype.writeInt16LE=function(T,C,Q){return T=+T,C=C>>>0,Q||h(this,T,C,2,32767,-32768),this[C]=T&255,this[C+1]=T>>>8,C+2},o.prototype.writeInt16BE=function(T,C,Q){return T=+T,C=C>>>0,Q||h(this,T,C,2,32767,-32768),this[C]=T>>>8,this[C+1]=T&255,C+2},o.prototype.writeInt32LE=function(T,C,Q){return T=+T,C=C>>>0,Q||h(this,T,C,4,2147483647,-2147483648),this[C]=T&255,this[C+1]=T>>>8,this[C+2]=T>>>16,this[C+3]=T>>>24,C+4},o.prototype.writeInt32BE=function(T,C,Q){return T=+T,C=C>>>0,Q||h(this,T,C,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[C]=T>>>24,this[C+1]=T>>>16,this[C+2]=T>>>8,this[C+3]=T&255,C+4};function v(V,T,C,Q,te,ae){if(C+Q>V.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function F(V,T,C,Q,te){return T=+T,C=C>>>0,te||v(V,T,C,4),n.write(V,T,C,Q,23,4),C+4}o.prototype.writeFloatLE=function(T,C,Q){return F(this,T,C,!0,Q)},o.prototype.writeFloatBE=function(T,C,Q){return F(this,T,C,!1,Q)};function $(V,T,C,Q,te){return T=+T,C=C>>>0,te||v(V,T,C,8),n.write(V,T,C,Q,52,8),C+8}o.prototype.writeDoubleLE=function(T,C,Q){return $(this,T,C,!0,Q)},o.prototype.writeDoubleBE=function(T,C,Q){return $(this,T,C,!1,Q)},o.prototype.copy=function(T,C,Q,te){if(!o.isBuffer(T))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!te&&te!==0&&(te=this.length),C>=T.length&&(C=T.length),C||(C=0),te>0&&te<Q&&(te=Q),te===Q||T.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),T.length-C<te-Q&&(te=T.length-C+Q);var ae=te-Q;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,Q,te):Uint8Array.prototype.set.call(T,this.subarray(Q,te),C),ae},o.prototype.fill=function(T,C,Q,te){if(typeof T=="string"){if(typeof C=="string"?(te=C,C=0,Q=this.length):typeof Q=="string"&&(te=Q,Q=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!o.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(T.length===1){var ae=T.charCodeAt(0);(te==="utf8"&&ae<128||te==="latin1")&&(T=ae)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(C<0||this.length<C||this.length<Q)throw new RangeError("Out of range index");if(Q<=C)return this;C=C>>>0,Q=Q===void 0?this.length:Q>>>0,T||(T=0);var de;if(typeof T=="number")for(de=C;de<Q;++de)this[de]=T;else{var Ae=o.isBuffer(T)?T:o.from(T,te),_e=Ae.length;if(_e===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(de=0;de<Q-C;++de)this[de+C]=Ae[de%_e]}return this};var Y=/[^+/0-9A-Za-z-_]/g;function se(V){if(V=V.split("=")[0],V=V.trim().replace(Y,""),V.length<2)return"";for(;V.length%4!==0;)V=V+"=";return V}function fe(V,T){T=T||1/0;for(var C,Q=V.length,te=null,ae=[],de=0;de<Q;++de){if(C=V.charCodeAt(de),C>55295&&C<57344){if(!te){if(C>56319){(T-=3)>-1&&ae.push(239,191,189);continue}else if(de+1===Q){(T-=3)>-1&&ae.push(239,191,189);continue}te=C;continue}if(C<56320){(T-=3)>-1&&ae.push(239,191,189),te=C;continue}C=(te-55296<<10|C-56320)+65536}else te&&(T-=3)>-1&&ae.push(239,191,189);if(te=null,C<128){if((T-=1)<0)break;ae.push(C)}else if(C<2048){if((T-=2)<0)break;ae.push(C>>6|192,C&63|128)}else if(C<65536){if((T-=3)<0)break;ae.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((T-=4)<0)break;ae.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return ae}function re(V){for(var T=[],C=0;C<V.length;++C)T.push(V.charCodeAt(C)&255);return T}function xe(V,T){for(var C,Q,te,ae=[],de=0;de<V.length&&!((T-=2)<0);++de)C=V.charCodeAt(de),Q=C>>8,te=C%256,ae.push(te),ae.push(Q);return ae}function ye(V){return e.toByteArray(se(V))}function ke(V,T,C,Q){for(var te=0;te<Q&&!(te+C>=T.length||te>=V.length);++te)T[te+C]=V[te];return te}function Ze(V,T){return V instanceof T||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===T.name}function Ne(V){return V!==V}var $e=function(){for(var V="0123456789abcdef",T=new Array(256),C=0;C<16;++C)for(var Q=C*16,te=0;te<16;++te)T[Q+te]=V[C]+V[te];return T}()}(pf)),pf}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var _p;function IA(){return _p||(_p=1,function(t,e){var n=xA(),r=n.Buffer;function s(a,o){for(var f in a)o[f]=a[f]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=i);function i(a,o,f){return r(a,o,f)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(a,o,f){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,o,f)},i.alloc=function(a,o,f){if(typeof a!="number")throw new TypeError("Argument must be a number");var d=r(a);return o!==void 0?typeof f=="string"?d.fill(o,f):d.fill(o):d.fill(0),d},i.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},i.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}}(Oc,Oc.exports)),Oc.exports}var mf,Ap;function SA(){if(Ap)return mf;Ap=1;var t=IA().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),s=0;s<r.length;s++)r[s]=255;for(var i=0;i<n.length;i++){var a=n.charAt(i),o=a.charCodeAt(0);if(r[o]!==255)throw new TypeError(a+" is ambiguous");r[o]=i}var f=n.length,d=n.charAt(0),p=Math.log(f)/Math.log(256),y=Math.log(256)/Math.log(f);function B(I){if((Array.isArray(I)||I instanceof Uint8Array)&&(I=t.from(I)),!t.isBuffer(I))throw new TypeError("Expected Buffer");if(I.length===0)return"";for(var R=0,N=0,D=0,U=I.length;D!==U&&I[D]===0;)D++,R++;for(var K=(U-D)*y+1>>>0,j=new Uint8Array(K);D!==U;){for(var J=I[D],ne=0,X=K-1;(J!==0||ne<N)&&X!==-1;X--,ne++)J+=256*j[X]>>>0,j[X]=J%f>>>0,J=J/f>>>0;if(J!==0)throw new Error("Non-zero carry");N=ne,D++}for(var Z=K-N;Z!==K&&j[Z]===0;)Z++;for(var G=d.repeat(R);Z<K;++Z)G+=n.charAt(j[Z]);return G}function x(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return t.alloc(0);for(var R=0,N=0,D=0;I[R]===d;)N++,R++;for(var U=(I.length-R)*p+1>>>0,K=new Uint8Array(U);R<I.length;){var j=I.charCodeAt(R);if(j>255)return;var J=r[j];if(J===255)return;for(var ne=0,X=U-1;(J!==0||ne<D)&&X!==-1;X--,ne++)J+=f*K[X]>>>0,K[X]=J%256>>>0,J=J/256>>>0;if(J!==0)throw new Error("Non-zero carry");D=ne,R++}for(var Z=U-D;Z!==U&&K[Z]===0;)Z++;var G=t.allocUnsafe(N+(U-Z));G.fill(0,0,N);for(var W=N;Z!==U;)G[W++]=K[Z++];return G}function M(I){var R=x(I);if(R)return R;throw new Error("Non-base"+f+" character")}return{encode:B,decodeUnsafe:x,decode:M}}return mf=e,mf}var gf,Ep;function oy(){if(Ep)return gf;Ep=1;var t=SA(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return gf=t(e),gf}var BA=oy();const pn=Ni(BA),xp=Ug;var Nt={},Qc={exports:{}},kA=Qc.exports,Ip;function TA(){return Ip||(Ip=1,function(t){(function(e,n){function r(_,l){if(!_)throw new Error(l||"Assertion failed")}function s(_,l){_.super_=l;var m=function(){};m.prototype=l.prototype,_.prototype=new m,_.prototype.constructor=_}function i(_,l,m){if(i.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((l==="le"||l==="be")&&(m=l,l=10),this._init(_||0,l||10,m||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=sy.Buffer}catch{}i.isBN=function(l){return l instanceof i?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===i.wordSize&&Array.isArray(l.words)},i.max=function(l,m){return l.cmp(m)>0?l:m},i.min=function(l,m){return l.cmp(m)<0?l:m},i.prototype._init=function(l,m,b){if(typeof l=="number")return this._initNumber(l,m,b);if(typeof l=="object")return this._initArray(l,m,b);m==="hex"&&(m=16),r(m===(m|0)&&m>=2&&m<=36),l=l.toString().replace(/\s+/g,"");var E=0;l[0]==="-"&&(E++,this.negative=1),E<l.length&&(m===16?this._parseHex(l,E,b):(this._parseBase(l,m,E),b==="le"&&this._initArray(this.toArray(),m,b)))},i.prototype._initNumber=function(l,m,b){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(r(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),m,b)},i.prototype._initArray=function(l,m,b){if(r(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var S,P,O=0;if(b==="be")for(E=l.length-1,S=0;E>=0;E-=3)P=l[E]|l[E-1]<<8|l[E-2]<<16,this.words[S]|=P<<O&67108863,this.words[S+1]=P>>>26-O&67108863,O+=24,O>=26&&(O-=26,S++);else if(b==="le")for(E=0,S=0;E<l.length;E+=3)P=l[E]|l[E+1]<<8|l[E+2]<<16,this.words[S]|=P<<O&67108863,this.words[S+1]=P>>>26-O&67108863,O+=24,O>=26&&(O-=26,S++);return this._strip()};function o(_,l){var m=_.charCodeAt(l);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;r(!1,"Invalid character in "+_)}function f(_,l,m){var b=o(_,m);return m-1>=l&&(b|=o(_,m-1)<<4),b}i.prototype._parseHex=function(l,m,b){this.length=Math.ceil((l.length-m)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var S=0,P=0,O;if(b==="be")for(E=l.length-1;E>=m;E-=2)O=f(l,m,E)<<S,this.words[P]|=O&67108863,S>=18?(S-=18,P+=1,this.words[P]|=O>>>26):S+=8;else{var A=l.length-m;for(E=A%2===0?m+1:m;E<l.length;E+=2)O=f(l,m,E)<<S,this.words[P]|=O&67108863,S>=18?(S-=18,P+=1,this.words[P]|=O>>>26):S+=8}this._strip()};function d(_,l,m,b){for(var E=0,S=0,P=Math.min(_.length,m),O=l;O<P;O++){var A=_.charCodeAt(O)-48;E*=b,A>=49?S=A-49+10:A>=17?S=A-17+10:S=A,r(A>=0&&S<b,"Invalid character"),E+=S}return E}i.prototype._parseBase=function(l,m,b){this.words=[0],this.length=1;for(var E=0,S=1;S<=67108863;S*=m)E++;E--,S=S/m|0;for(var P=l.length-b,O=P%E,A=Math.min(P,P-O)+b,h=0,v=b;v<A;v+=E)h=d(l,v,v+E,m),this.imuln(S),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(O!==0){var F=1;for(h=d(l,v,l.length,m),v=0;v<O;v++)F*=m;this.imuln(F),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},i.prototype.copy=function(l){l.words=new Array(this.length);for(var m=0;m<this.length;m++)l.words[m]=this.words[m];l.length=this.length,l.negative=this.negative,l.red=this.red};function p(_,l){_.words=l.words,_.length=l.length,_.negative=l.negative,_.red=l.red}if(i.prototype._move=function(l){p(l,this)},i.prototype.clone=function(){var l=new i(null);return this.copy(l),l},i.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{i.prototype.inspect=y}else i.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(l,m){l=l||10,m=m|0||1;var b;if(l===16||l==="hex"){b="";for(var E=0,S=0,P=0;P<this.length;P++){var O=this.words[P],A=((O<<E|S)&16777215).toString(16);S=O>>>24-E&16777215,E+=2,E>=26&&(E-=26,P--),S!==0||P!==this.length-1?b=B[6-A.length]+A+b:b=A+b}for(S!==0&&(b=S.toString(16)+b);b.length%m!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(l===(l|0)&&l>=2&&l<=36){var h=x[l],v=M[l];b="";var F=this.clone();for(F.negative=0;!F.isZero();){var $=F.modrn(v).toString(l);F=F.idivn(v),F.isZero()?b=$+b:b=B[h-$.length]+$+b}for(this.isZero()&&(b="0"+b);b.length%m!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(l,m){return this.toArrayLike(a,l,m)}),i.prototype.toArray=function(l,m){return this.toArrayLike(Array,l,m)};var I=function(l,m){return l.allocUnsafe?l.allocUnsafe(m):new l(m)};i.prototype.toArrayLike=function(l,m,b){this._strip();var E=this.byteLength(),S=b||Math.max(1,E);r(E<=S,"byte array longer than desired length"),r(S>0,"Requested array length <= 0");var P=I(l,S),O=m==="le"?"LE":"BE";return this["_toArrayLike"+O](P,E),P},i.prototype._toArrayLikeLE=function(l,m){for(var b=0,E=0,S=0,P=0;S<this.length;S++){var O=this.words[S]<<P|E;l[b++]=O&255,b<l.length&&(l[b++]=O>>8&255),b<l.length&&(l[b++]=O>>16&255),P===6?(b<l.length&&(l[b++]=O>>24&255),E=0,P=0):(E=O>>>24,P+=2)}if(b<l.length)for(l[b++]=E;b<l.length;)l[b++]=0},i.prototype._toArrayLikeBE=function(l,m){for(var b=l.length-1,E=0,S=0,P=0;S<this.length;S++){var O=this.words[S]<<P|E;l[b--]=O&255,b>=0&&(l[b--]=O>>8&255),b>=0&&(l[b--]=O>>16&255),P===6?(b>=0&&(l[b--]=O>>24&255),E=0,P=0):(E=O>>>24,P+=2)}if(b>=0)for(l[b--]=E;b>=0;)l[b--]=0},Math.clz32?i.prototype._countBits=function(l){return 32-Math.clz32(l)}:i.prototype._countBits=function(l){var m=l,b=0;return m>=4096&&(b+=13,m>>>=13),m>=64&&(b+=7,m>>>=7),m>=8&&(b+=4,m>>>=4),m>=2&&(b+=2,m>>>=2),b+m},i.prototype._zeroBits=function(l){if(l===0)return 26;var m=l,b=0;return(m&8191)===0&&(b+=13,m>>>=13),(m&127)===0&&(b+=7,m>>>=7),(m&15)===0&&(b+=4,m>>>=4),(m&3)===0&&(b+=2,m>>>=2),(m&1)===0&&b++,b},i.prototype.bitLength=function(){var l=this.words[this.length-1],m=this._countBits(l);return(this.length-1)*26+m};function R(_){for(var l=new Array(_.bitLength()),m=0;m<l.length;m++){var b=m/26|0,E=m%26;l[m]=_.words[b]>>>E&1}return l}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,m=0;m<this.length;m++){var b=this._zeroBits(this.words[m]);if(l+=b,b!==26)break}return l},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},i.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]|l.words[m];return this._strip()},i.prototype.ior=function(l){return r((this.negative|l.negative)===0),this.iuor(l)},i.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},i.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},i.prototype.iuand=function(l){var m;this.length>l.length?m=l:m=this;for(var b=0;b<m.length;b++)this.words[b]=this.words[b]&l.words[b];return this.length=m.length,this._strip()},i.prototype.iand=function(l){return r((this.negative|l.negative)===0),this.iuand(l)},i.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},i.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},i.prototype.iuxor=function(l){var m,b;this.length>l.length?(m=this,b=l):(m=l,b=this);for(var E=0;E<b.length;E++)this.words[E]=m.words[E]^b.words[E];if(this!==m)for(;E<m.length;E++)this.words[E]=m.words[E];return this.length=m.length,this._strip()},i.prototype.ixor=function(l){return r((this.negative|l.negative)===0),this.iuxor(l)},i.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},i.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},i.prototype.inotn=function(l){r(typeof l=="number"&&l>=0);var m=Math.ceil(l/26)|0,b=l%26;this._expand(m),b>0&&m--;for(var E=0;E<m;E++)this.words[E]=~this.words[E]&67108863;return b>0&&(this.words[E]=~this.words[E]&67108863>>26-b),this._strip()},i.prototype.notn=function(l){return this.clone().inotn(l)},i.prototype.setn=function(l,m){r(typeof l=="number"&&l>=0);var b=l/26|0,E=l%26;return this._expand(b+1),m?this.words[b]=this.words[b]|1<<E:this.words[b]=this.words[b]&~(1<<E),this._strip()},i.prototype.iadd=function(l){var m;if(this.negative!==0&&l.negative===0)return this.negative=0,m=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,m=this.isub(l),l.negative=1,m._normSign();var b,E;this.length>l.length?(b=this,E=l):(b=l,E=this);for(var S=0,P=0;P<E.length;P++)m=(b.words[P]|0)+(E.words[P]|0)+S,this.words[P]=m&67108863,S=m>>>26;for(;S!==0&&P<b.length;P++)m=(b.words[P]|0)+S,this.words[P]=m&67108863,S=m>>>26;if(this.length=b.length,S!==0)this.words[this.length]=S,this.length++;else if(b!==this)for(;P<b.length;P++)this.words[P]=b.words[P];return this},i.prototype.add=function(l){var m;return l.negative!==0&&this.negative===0?(l.negative=0,m=this.sub(l),l.negative^=1,m):l.negative===0&&this.negative!==0?(this.negative=0,m=l.sub(this),this.negative=1,m):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},i.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var m=this.iadd(l);return l.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var b=this.cmp(l);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,S;b>0?(E=this,S=l):(E=l,S=this);for(var P=0,O=0;O<S.length;O++)m=(E.words[O]|0)-(S.words[O]|0)+P,P=m>>26,this.words[O]=m&67108863;for(;P!==0&&O<E.length;O++)m=(E.words[O]|0)+P,P=m>>26,this.words[O]=m&67108863;if(P===0&&O<E.length&&E!==this)for(;O<E.length;O++)this.words[O]=E.words[O];return this.length=Math.max(this.length,O),E!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(l){return this.clone().isub(l)};function N(_,l,m){m.negative=l.negative^_.negative;var b=_.length+l.length|0;m.length=b,b=b-1|0;var E=_.words[0]|0,S=l.words[0]|0,P=E*S,O=P&67108863,A=P/67108864|0;m.words[0]=O;for(var h=1;h<b;h++){for(var v=A>>>26,F=A&67108863,$=Math.min(h,l.length-1),Y=Math.max(0,h-_.length+1);Y<=$;Y++){var se=h-Y|0;E=_.words[se]|0,S=l.words[Y]|0,P=E*S+F,v+=P/67108864|0,F=P&67108863}m.words[h]=F|0,A=v|0}return A!==0?m.words[h]=A|0:m.length--,m._strip()}var D=function(l,m,b){var E=l.words,S=m.words,P=b.words,O=0,A,h,v,F=E[0]|0,$=F&8191,Y=F>>>13,se=E[1]|0,fe=se&8191,re=se>>>13,xe=E[2]|0,ye=xe&8191,ke=xe>>>13,Ze=E[3]|0,Ne=Ze&8191,$e=Ze>>>13,V=E[4]|0,T=V&8191,C=V>>>13,Q=E[5]|0,te=Q&8191,ae=Q>>>13,de=E[6]|0,Ae=de&8191,_e=de>>>13,ie=E[7]|0,ce=ie&8191,g=ie>>>13,c=E[8]|0,u=c&8191,w=c>>>13,k=E[9]|0,L=k&8191,H=k>>>13,pe=S[0]|0,ge=pe&8191,me=pe>>>13,Ce=S[1]|0,he=Ce&8191,et=Ce>>>13,ea=S[2]|0,tt=ea&8191,nt=ea>>>13,ta=S[3]|0,rt=ta&8191,it=ta>>>13,na=S[4]|0,st=na&8191,ot=na>>>13,ra=S[5]|0,at=ra&8191,ct=ra>>>13,ia=S[6]|0,ut=ia&8191,lt=ia>>>13,sa=S[7]|0,ft=sa&8191,dt=sa>>>13,oa=S[8]|0,ht=oa&8191,pt=oa>>>13,aa=S[9]|0,mt=aa&8191,gt=aa>>>13;b.negative=l.negative^m.negative,b.length=19,A=Math.imul($,ge),h=Math.imul($,me),h=h+Math.imul(Y,ge)|0,v=Math.imul(Y,me);var Di=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Di>>>26)|0,Di&=67108863,A=Math.imul(fe,ge),h=Math.imul(fe,me),h=h+Math.imul(re,ge)|0,v=Math.imul(re,me),A=A+Math.imul($,he)|0,h=h+Math.imul($,et)|0,h=h+Math.imul(Y,he)|0,v=v+Math.imul(Y,et)|0;var Ui=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,A=Math.imul(ye,ge),h=Math.imul(ye,me),h=h+Math.imul(ke,ge)|0,v=Math.imul(ke,me),A=A+Math.imul(fe,he)|0,h=h+Math.imul(fe,et)|0,h=h+Math.imul(re,he)|0,v=v+Math.imul(re,et)|0,A=A+Math.imul($,tt)|0,h=h+Math.imul($,nt)|0,h=h+Math.imul(Y,tt)|0,v=v+Math.imul(Y,nt)|0;var Hi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,A=Math.imul(Ne,ge),h=Math.imul(Ne,me),h=h+Math.imul($e,ge)|0,v=Math.imul($e,me),A=A+Math.imul(ye,he)|0,h=h+Math.imul(ye,et)|0,h=h+Math.imul(ke,he)|0,v=v+Math.imul(ke,et)|0,A=A+Math.imul(fe,tt)|0,h=h+Math.imul(fe,nt)|0,h=h+Math.imul(re,tt)|0,v=v+Math.imul(re,nt)|0,A=A+Math.imul($,rt)|0,h=h+Math.imul($,it)|0,h=h+Math.imul(Y,rt)|0,v=v+Math.imul(Y,it)|0;var $i=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+($i>>>26)|0,$i&=67108863,A=Math.imul(T,ge),h=Math.imul(T,me),h=h+Math.imul(C,ge)|0,v=Math.imul(C,me),A=A+Math.imul(Ne,he)|0,h=h+Math.imul(Ne,et)|0,h=h+Math.imul($e,he)|0,v=v+Math.imul($e,et)|0,A=A+Math.imul(ye,tt)|0,h=h+Math.imul(ye,nt)|0,h=h+Math.imul(ke,tt)|0,v=v+Math.imul(ke,nt)|0,A=A+Math.imul(fe,rt)|0,h=h+Math.imul(fe,it)|0,h=h+Math.imul(re,rt)|0,v=v+Math.imul(re,it)|0,A=A+Math.imul($,st)|0,h=h+Math.imul($,ot)|0,h=h+Math.imul(Y,st)|0,v=v+Math.imul(Y,ot)|0;var Gi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,A=Math.imul(te,ge),h=Math.imul(te,me),h=h+Math.imul(ae,ge)|0,v=Math.imul(ae,me),A=A+Math.imul(T,he)|0,h=h+Math.imul(T,et)|0,h=h+Math.imul(C,he)|0,v=v+Math.imul(C,et)|0,A=A+Math.imul(Ne,tt)|0,h=h+Math.imul(Ne,nt)|0,h=h+Math.imul($e,tt)|0,v=v+Math.imul($e,nt)|0,A=A+Math.imul(ye,rt)|0,h=h+Math.imul(ye,it)|0,h=h+Math.imul(ke,rt)|0,v=v+Math.imul(ke,it)|0,A=A+Math.imul(fe,st)|0,h=h+Math.imul(fe,ot)|0,h=h+Math.imul(re,st)|0,v=v+Math.imul(re,ot)|0,A=A+Math.imul($,at)|0,h=h+Math.imul($,ct)|0,h=h+Math.imul(Y,at)|0,v=v+Math.imul(Y,ct)|0;var qi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(qi>>>26)|0,qi&=67108863,A=Math.imul(Ae,ge),h=Math.imul(Ae,me),h=h+Math.imul(_e,ge)|0,v=Math.imul(_e,me),A=A+Math.imul(te,he)|0,h=h+Math.imul(te,et)|0,h=h+Math.imul(ae,he)|0,v=v+Math.imul(ae,et)|0,A=A+Math.imul(T,tt)|0,h=h+Math.imul(T,nt)|0,h=h+Math.imul(C,tt)|0,v=v+Math.imul(C,nt)|0,A=A+Math.imul(Ne,rt)|0,h=h+Math.imul(Ne,it)|0,h=h+Math.imul($e,rt)|0,v=v+Math.imul($e,it)|0,A=A+Math.imul(ye,st)|0,h=h+Math.imul(ye,ot)|0,h=h+Math.imul(ke,st)|0,v=v+Math.imul(ke,ot)|0,A=A+Math.imul(fe,at)|0,h=h+Math.imul(fe,ct)|0,h=h+Math.imul(re,at)|0,v=v+Math.imul(re,ct)|0,A=A+Math.imul($,ut)|0,h=h+Math.imul($,lt)|0,h=h+Math.imul(Y,ut)|0,v=v+Math.imul(Y,lt)|0;var ji=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(ji>>>26)|0,ji&=67108863,A=Math.imul(ce,ge),h=Math.imul(ce,me),h=h+Math.imul(g,ge)|0,v=Math.imul(g,me),A=A+Math.imul(Ae,he)|0,h=h+Math.imul(Ae,et)|0,h=h+Math.imul(_e,he)|0,v=v+Math.imul(_e,et)|0,A=A+Math.imul(te,tt)|0,h=h+Math.imul(te,nt)|0,h=h+Math.imul(ae,tt)|0,v=v+Math.imul(ae,nt)|0,A=A+Math.imul(T,rt)|0,h=h+Math.imul(T,it)|0,h=h+Math.imul(C,rt)|0,v=v+Math.imul(C,it)|0,A=A+Math.imul(Ne,st)|0,h=h+Math.imul(Ne,ot)|0,h=h+Math.imul($e,st)|0,v=v+Math.imul($e,ot)|0,A=A+Math.imul(ye,at)|0,h=h+Math.imul(ye,ct)|0,h=h+Math.imul(ke,at)|0,v=v+Math.imul(ke,ct)|0,A=A+Math.imul(fe,ut)|0,h=h+Math.imul(fe,lt)|0,h=h+Math.imul(re,ut)|0,v=v+Math.imul(re,lt)|0,A=A+Math.imul($,ft)|0,h=h+Math.imul($,dt)|0,h=h+Math.imul(Y,ft)|0,v=v+Math.imul(Y,dt)|0;var zi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(zi>>>26)|0,zi&=67108863,A=Math.imul(u,ge),h=Math.imul(u,me),h=h+Math.imul(w,ge)|0,v=Math.imul(w,me),A=A+Math.imul(ce,he)|0,h=h+Math.imul(ce,et)|0,h=h+Math.imul(g,he)|0,v=v+Math.imul(g,et)|0,A=A+Math.imul(Ae,tt)|0,h=h+Math.imul(Ae,nt)|0,h=h+Math.imul(_e,tt)|0,v=v+Math.imul(_e,nt)|0,A=A+Math.imul(te,rt)|0,h=h+Math.imul(te,it)|0,h=h+Math.imul(ae,rt)|0,v=v+Math.imul(ae,it)|0,A=A+Math.imul(T,st)|0,h=h+Math.imul(T,ot)|0,h=h+Math.imul(C,st)|0,v=v+Math.imul(C,ot)|0,A=A+Math.imul(Ne,at)|0,h=h+Math.imul(Ne,ct)|0,h=h+Math.imul($e,at)|0,v=v+Math.imul($e,ct)|0,A=A+Math.imul(ye,ut)|0,h=h+Math.imul(ye,lt)|0,h=h+Math.imul(ke,ut)|0,v=v+Math.imul(ke,lt)|0,A=A+Math.imul(fe,ft)|0,h=h+Math.imul(fe,dt)|0,h=h+Math.imul(re,ft)|0,v=v+Math.imul(re,dt)|0,A=A+Math.imul($,ht)|0,h=h+Math.imul($,pt)|0,h=h+Math.imul(Y,ht)|0,v=v+Math.imul(Y,pt)|0;var Vi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,A=Math.imul(L,ge),h=Math.imul(L,me),h=h+Math.imul(H,ge)|0,v=Math.imul(H,me),A=A+Math.imul(u,he)|0,h=h+Math.imul(u,et)|0,h=h+Math.imul(w,he)|0,v=v+Math.imul(w,et)|0,A=A+Math.imul(ce,tt)|0,h=h+Math.imul(ce,nt)|0,h=h+Math.imul(g,tt)|0,v=v+Math.imul(g,nt)|0,A=A+Math.imul(Ae,rt)|0,h=h+Math.imul(Ae,it)|0,h=h+Math.imul(_e,rt)|0,v=v+Math.imul(_e,it)|0,A=A+Math.imul(te,st)|0,h=h+Math.imul(te,ot)|0,h=h+Math.imul(ae,st)|0,v=v+Math.imul(ae,ot)|0,A=A+Math.imul(T,at)|0,h=h+Math.imul(T,ct)|0,h=h+Math.imul(C,at)|0,v=v+Math.imul(C,ct)|0,A=A+Math.imul(Ne,ut)|0,h=h+Math.imul(Ne,lt)|0,h=h+Math.imul($e,ut)|0,v=v+Math.imul($e,lt)|0,A=A+Math.imul(ye,ft)|0,h=h+Math.imul(ye,dt)|0,h=h+Math.imul(ke,ft)|0,v=v+Math.imul(ke,dt)|0,A=A+Math.imul(fe,ht)|0,h=h+Math.imul(fe,pt)|0,h=h+Math.imul(re,ht)|0,v=v+Math.imul(re,pt)|0,A=A+Math.imul($,mt)|0,h=h+Math.imul($,gt)|0,h=h+Math.imul(Y,mt)|0,v=v+Math.imul(Y,gt)|0;var Wi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,A=Math.imul(L,he),h=Math.imul(L,et),h=h+Math.imul(H,he)|0,v=Math.imul(H,et),A=A+Math.imul(u,tt)|0,h=h+Math.imul(u,nt)|0,h=h+Math.imul(w,tt)|0,v=v+Math.imul(w,nt)|0,A=A+Math.imul(ce,rt)|0,h=h+Math.imul(ce,it)|0,h=h+Math.imul(g,rt)|0,v=v+Math.imul(g,it)|0,A=A+Math.imul(Ae,st)|0,h=h+Math.imul(Ae,ot)|0,h=h+Math.imul(_e,st)|0,v=v+Math.imul(_e,ot)|0,A=A+Math.imul(te,at)|0,h=h+Math.imul(te,ct)|0,h=h+Math.imul(ae,at)|0,v=v+Math.imul(ae,ct)|0,A=A+Math.imul(T,ut)|0,h=h+Math.imul(T,lt)|0,h=h+Math.imul(C,ut)|0,v=v+Math.imul(C,lt)|0,A=A+Math.imul(Ne,ft)|0,h=h+Math.imul(Ne,dt)|0,h=h+Math.imul($e,ft)|0,v=v+Math.imul($e,dt)|0,A=A+Math.imul(ye,ht)|0,h=h+Math.imul(ye,pt)|0,h=h+Math.imul(ke,ht)|0,v=v+Math.imul(ke,pt)|0,A=A+Math.imul(fe,mt)|0,h=h+Math.imul(fe,gt)|0,h=h+Math.imul(re,mt)|0,v=v+Math.imul(re,gt)|0;var Ki=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,A=Math.imul(L,tt),h=Math.imul(L,nt),h=h+Math.imul(H,tt)|0,v=Math.imul(H,nt),A=A+Math.imul(u,rt)|0,h=h+Math.imul(u,it)|0,h=h+Math.imul(w,rt)|0,v=v+Math.imul(w,it)|0,A=A+Math.imul(ce,st)|0,h=h+Math.imul(ce,ot)|0,h=h+Math.imul(g,st)|0,v=v+Math.imul(g,ot)|0,A=A+Math.imul(Ae,at)|0,h=h+Math.imul(Ae,ct)|0,h=h+Math.imul(_e,at)|0,v=v+Math.imul(_e,ct)|0,A=A+Math.imul(te,ut)|0,h=h+Math.imul(te,lt)|0,h=h+Math.imul(ae,ut)|0,v=v+Math.imul(ae,lt)|0,A=A+Math.imul(T,ft)|0,h=h+Math.imul(T,dt)|0,h=h+Math.imul(C,ft)|0,v=v+Math.imul(C,dt)|0,A=A+Math.imul(Ne,ht)|0,h=h+Math.imul(Ne,pt)|0,h=h+Math.imul($e,ht)|0,v=v+Math.imul($e,pt)|0,A=A+Math.imul(ye,mt)|0,h=h+Math.imul(ye,gt)|0,h=h+Math.imul(ke,mt)|0,v=v+Math.imul(ke,gt)|0;var Qi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,A=Math.imul(L,rt),h=Math.imul(L,it),h=h+Math.imul(H,rt)|0,v=Math.imul(H,it),A=A+Math.imul(u,st)|0,h=h+Math.imul(u,ot)|0,h=h+Math.imul(w,st)|0,v=v+Math.imul(w,ot)|0,A=A+Math.imul(ce,at)|0,h=h+Math.imul(ce,ct)|0,h=h+Math.imul(g,at)|0,v=v+Math.imul(g,ct)|0,A=A+Math.imul(Ae,ut)|0,h=h+Math.imul(Ae,lt)|0,h=h+Math.imul(_e,ut)|0,v=v+Math.imul(_e,lt)|0,A=A+Math.imul(te,ft)|0,h=h+Math.imul(te,dt)|0,h=h+Math.imul(ae,ft)|0,v=v+Math.imul(ae,dt)|0,A=A+Math.imul(T,ht)|0,h=h+Math.imul(T,pt)|0,h=h+Math.imul(C,ht)|0,v=v+Math.imul(C,pt)|0,A=A+Math.imul(Ne,mt)|0,h=h+Math.imul(Ne,gt)|0,h=h+Math.imul($e,mt)|0,v=v+Math.imul($e,gt)|0;var Zi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,A=Math.imul(L,st),h=Math.imul(L,ot),h=h+Math.imul(H,st)|0,v=Math.imul(H,ot),A=A+Math.imul(u,at)|0,h=h+Math.imul(u,ct)|0,h=h+Math.imul(w,at)|0,v=v+Math.imul(w,ct)|0,A=A+Math.imul(ce,ut)|0,h=h+Math.imul(ce,lt)|0,h=h+Math.imul(g,ut)|0,v=v+Math.imul(g,lt)|0,A=A+Math.imul(Ae,ft)|0,h=h+Math.imul(Ae,dt)|0,h=h+Math.imul(_e,ft)|0,v=v+Math.imul(_e,dt)|0,A=A+Math.imul(te,ht)|0,h=h+Math.imul(te,pt)|0,h=h+Math.imul(ae,ht)|0,v=v+Math.imul(ae,pt)|0,A=A+Math.imul(T,mt)|0,h=h+Math.imul(T,gt)|0,h=h+Math.imul(C,mt)|0,v=v+Math.imul(C,gt)|0;var Yi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,A=Math.imul(L,at),h=Math.imul(L,ct),h=h+Math.imul(H,at)|0,v=Math.imul(H,ct),A=A+Math.imul(u,ut)|0,h=h+Math.imul(u,lt)|0,h=h+Math.imul(w,ut)|0,v=v+Math.imul(w,lt)|0,A=A+Math.imul(ce,ft)|0,h=h+Math.imul(ce,dt)|0,h=h+Math.imul(g,ft)|0,v=v+Math.imul(g,dt)|0,A=A+Math.imul(Ae,ht)|0,h=h+Math.imul(Ae,pt)|0,h=h+Math.imul(_e,ht)|0,v=v+Math.imul(_e,pt)|0,A=A+Math.imul(te,mt)|0,h=h+Math.imul(te,gt)|0,h=h+Math.imul(ae,mt)|0,v=v+Math.imul(ae,gt)|0;var Ji=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,A=Math.imul(L,ut),h=Math.imul(L,lt),h=h+Math.imul(H,ut)|0,v=Math.imul(H,lt),A=A+Math.imul(u,ft)|0,h=h+Math.imul(u,dt)|0,h=h+Math.imul(w,ft)|0,v=v+Math.imul(w,dt)|0,A=A+Math.imul(ce,ht)|0,h=h+Math.imul(ce,pt)|0,h=h+Math.imul(g,ht)|0,v=v+Math.imul(g,pt)|0,A=A+Math.imul(Ae,mt)|0,h=h+Math.imul(Ae,gt)|0,h=h+Math.imul(_e,mt)|0,v=v+Math.imul(_e,gt)|0;var Xi=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,A=Math.imul(L,ft),h=Math.imul(L,dt),h=h+Math.imul(H,ft)|0,v=Math.imul(H,dt),A=A+Math.imul(u,ht)|0,h=h+Math.imul(u,pt)|0,h=h+Math.imul(w,ht)|0,v=v+Math.imul(w,pt)|0,A=A+Math.imul(ce,mt)|0,h=h+Math.imul(ce,gt)|0,h=h+Math.imul(g,mt)|0,v=v+Math.imul(g,gt)|0;var es=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(es>>>26)|0,es&=67108863,A=Math.imul(L,ht),h=Math.imul(L,pt),h=h+Math.imul(H,ht)|0,v=Math.imul(H,pt),A=A+Math.imul(u,mt)|0,h=h+Math.imul(u,gt)|0,h=h+Math.imul(w,mt)|0,v=v+Math.imul(w,gt)|0;var ts=(O+A|0)+((h&8191)<<13)|0;O=(v+(h>>>13)|0)+(ts>>>26)|0,ts&=67108863,A=Math.imul(L,mt),h=Math.imul(L,gt),h=h+Math.imul(H,mt)|0,v=Math.imul(H,gt);var ns=(O+A|0)+((h&8191)<<13)|0;return O=(v+(h>>>13)|0)+(ns>>>26)|0,ns&=67108863,P[0]=Di,P[1]=Ui,P[2]=Hi,P[3]=$i,P[4]=Gi,P[5]=qi,P[6]=ji,P[7]=zi,P[8]=Vi,P[9]=Wi,P[10]=Ki,P[11]=Qi,P[12]=Zi,P[13]=Yi,P[14]=Ji,P[15]=Xi,P[16]=es,P[17]=ts,P[18]=ns,O!==0&&(P[19]=O,b.length++),b};Math.imul||(D=N);function U(_,l,m){m.negative=l.negative^_.negative,m.length=_.length+l.length;for(var b=0,E=0,S=0;S<m.length-1;S++){var P=E;E=0;for(var O=b&67108863,A=Math.min(S,l.length-1),h=Math.max(0,S-_.length+1);h<=A;h++){var v=S-h,F=_.words[v]|0,$=l.words[h]|0,Y=F*$,se=Y&67108863;P=P+(Y/67108864|0)|0,se=se+O|0,O=se&67108863,P=P+(se>>>26)|0,E+=P>>>26,P&=67108863}m.words[S]=O,b=P,P=E}return b!==0?m.words[S]=b:m.length--,m._strip()}function K(_,l,m){return U(_,l,m)}i.prototype.mulTo=function(l,m){var b,E=this.length+l.length;return this.length===10&&l.length===10?b=D(this,l,m):E<63?b=N(this,l,m):E<1024?b=U(this,l,m):b=K(this,l,m),b},i.prototype.mul=function(l){var m=new i(null);return m.words=new Array(this.length+l.length),this.mulTo(l,m)},i.prototype.mulf=function(l){var m=new i(null);return m.words=new Array(this.length+l.length),K(this,l,m)},i.prototype.imul=function(l){return this.clone().mulTo(l,this)},i.prototype.imuln=function(l){var m=l<0;m&&(l=-l),r(typeof l=="number"),r(l<67108864);for(var b=0,E=0;E<this.length;E++){var S=(this.words[E]|0)*l,P=(S&67108863)+(b&67108863);b>>=26,b+=S/67108864|0,b+=P>>>26,this.words[E]=P&67108863}return b!==0&&(this.words[E]=b,this.length++),this.length=l===0?1:this.length,m?this.ineg():this},i.prototype.muln=function(l){return this.clone().imuln(l)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(l){var m=R(l);if(m.length===0)return new i(1);for(var b=this,E=0;E<m.length&&m[E]===0;E++,b=b.sqr());if(++E<m.length)for(var S=b.sqr();E<m.length;E++,S=S.sqr())m[E]!==0&&(b=b.mul(S));return b},i.prototype.iushln=function(l){r(typeof l=="number"&&l>=0);var m=l%26,b=(l-m)/26,E=67108863>>>26-m<<26-m,S;if(m!==0){var P=0;for(S=0;S<this.length;S++){var O=this.words[S]&E,A=(this.words[S]|0)-O<<m;this.words[S]=A|P,P=O>>>26-m}P&&(this.words[S]=P,this.length++)}if(b!==0){for(S=this.length-1;S>=0;S--)this.words[S+b]=this.words[S];for(S=0;S<b;S++)this.words[S]=0;this.length+=b}return this._strip()},i.prototype.ishln=function(l){return r(this.negative===0),this.iushln(l)},i.prototype.iushrn=function(l,m,b){r(typeof l=="number"&&l>=0);var E;m?E=(m-m%26)/26:E=0;var S=l%26,P=Math.min((l-S)/26,this.length),O=67108863^67108863>>>S<<S,A=b;if(E-=P,E=Math.max(0,E),A){for(var h=0;h<P;h++)A.words[h]=this.words[h];A.length=P}if(P!==0)if(this.length>P)for(this.length-=P,h=0;h<this.length;h++)this.words[h]=this.words[h+P];else this.words[0]=0,this.length=1;var v=0;for(h=this.length-1;h>=0&&(v!==0||h>=E);h--){var F=this.words[h]|0;this.words[h]=v<<26-S|F>>>S,v=F&O}return A&&v!==0&&(A.words[A.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(l,m,b){return r(this.negative===0),this.iushrn(l,m,b)},i.prototype.shln=function(l){return this.clone().ishln(l)},i.prototype.ushln=function(l){return this.clone().iushln(l)},i.prototype.shrn=function(l){return this.clone().ishrn(l)},i.prototype.ushrn=function(l){return this.clone().iushrn(l)},i.prototype.testn=function(l){r(typeof l=="number"&&l>=0);var m=l%26,b=(l-m)/26,E=1<<m;if(this.length<=b)return!1;var S=this.words[b];return!!(S&E)},i.prototype.imaskn=function(l){r(typeof l=="number"&&l>=0);var m=l%26,b=(l-m)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(m!==0&&b++,this.length=Math.min(b,this.length),m!==0){var E=67108863^67108863>>>m<<m;this.words[this.length-1]&=E}return this._strip()},i.prototype.maskn=function(l){return this.clone().imaskn(l)},i.prototype.iaddn=function(l){return r(typeof l=="number"),r(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},i.prototype._iaddn=function(l){this.words[0]+=l;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},i.prototype.isubn=function(l){if(r(typeof l=="number"),r(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},i.prototype.addn=function(l){return this.clone().iaddn(l)},i.prototype.subn=function(l){return this.clone().isubn(l)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(l,m,b){var E=l.length+b,S;this._expand(E);var P,O=0;for(S=0;S<l.length;S++){P=(this.words[S+b]|0)+O;var A=(l.words[S]|0)*m;P-=A&67108863,O=(P>>26)-(A/67108864|0),this.words[S+b]=P&67108863}for(;S<this.length-b;S++)P=(this.words[S+b]|0)+O,O=P>>26,this.words[S+b]=P&67108863;if(O===0)return this._strip();for(r(O===-1),O=0,S=0;S<this.length;S++)P=-(this.words[S]|0)+O,O=P>>26,this.words[S]=P&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(l,m){var b=this.length-l.length,E=this.clone(),S=l,P=S.words[S.length-1]|0,O=this._countBits(P);b=26-O,b!==0&&(S=S.ushln(b),E.iushln(b),P=S.words[S.length-1]|0);var A=E.length-S.length,h;if(m!=="mod"){h=new i(null),h.length=A+1,h.words=new Array(h.length);for(var v=0;v<h.length;v++)h.words[v]=0}var F=E.clone()._ishlnsubmul(S,1,A);F.negative===0&&(E=F,h&&(h.words[A]=1));for(var $=A-1;$>=0;$--){var Y=(E.words[S.length+$]|0)*67108864+(E.words[S.length+$-1]|0);for(Y=Math.min(Y/P|0,67108863),E._ishlnsubmul(S,Y,$);E.negative!==0;)Y--,E.negative=0,E._ishlnsubmul(S,1,$),E.isZero()||(E.negative^=1);h&&(h.words[$]=Y)}return h&&h._strip(),E._strip(),m!=="div"&&b!==0&&E.iushrn(b),{div:h||null,mod:E}},i.prototype.divmod=function(l,m,b){if(r(!l.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var E,S,P;return this.negative!==0&&l.negative===0?(P=this.neg().divmod(l,m),m!=="mod"&&(E=P.div.neg()),m!=="div"&&(S=P.mod.neg(),b&&S.negative!==0&&S.iadd(l)),{div:E,mod:S}):this.negative===0&&l.negative!==0?(P=this.divmod(l.neg(),m),m!=="mod"&&(E=P.div.neg()),{div:E,mod:P.mod}):(this.negative&l.negative)!==0?(P=this.neg().divmod(l.neg(),m),m!=="div"&&(S=P.mod.neg(),b&&S.negative!==0&&S.isub(l)),{div:P.div,mod:S}):l.length>this.length||this.cmp(l)<0?{div:new i(0),mod:this}:l.length===1?m==="div"?{div:this.divn(l.words[0]),mod:null}:m==="mod"?{div:null,mod:new i(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new i(this.modrn(l.words[0]))}:this._wordDiv(l,m)},i.prototype.div=function(l){return this.divmod(l,"div",!1).div},i.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},i.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},i.prototype.divRound=function(l){var m=this.divmod(l);if(m.mod.isZero())return m.div;var b=m.div.negative!==0?m.mod.isub(l):m.mod,E=l.ushrn(1),S=l.andln(1),P=b.cmp(E);return P<0||S===1&&P===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},i.prototype.modrn=function(l){var m=l<0;m&&(l=-l),r(l<=67108863);for(var b=(1<<26)%l,E=0,S=this.length-1;S>=0;S--)E=(b*E+(this.words[S]|0))%l;return m?-E:E},i.prototype.modn=function(l){return this.modrn(l)},i.prototype.idivn=function(l){var m=l<0;m&&(l=-l),r(l<=67108863);for(var b=0,E=this.length-1;E>=0;E--){var S=(this.words[E]|0)+b*67108864;this.words[E]=S/l|0,b=S%l}return this._strip(),m?this.ineg():this},i.prototype.divn=function(l){return this.clone().idivn(l)},i.prototype.egcd=function(l){r(l.negative===0),r(!l.isZero());var m=this,b=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var E=new i(1),S=new i(0),P=new i(0),O=new i(1),A=0;m.isEven()&&b.isEven();)m.iushrn(1),b.iushrn(1),++A;for(var h=b.clone(),v=m.clone();!m.isZero();){for(var F=0,$=1;(m.words[0]&$)===0&&F<26;++F,$<<=1);if(F>0)for(m.iushrn(F);F-- >0;)(E.isOdd()||S.isOdd())&&(E.iadd(h),S.isub(v)),E.iushrn(1),S.iushrn(1);for(var Y=0,se=1;(b.words[0]&se)===0&&Y<26;++Y,se<<=1);if(Y>0)for(b.iushrn(Y);Y-- >0;)(P.isOdd()||O.isOdd())&&(P.iadd(h),O.isub(v)),P.iushrn(1),O.iushrn(1);m.cmp(b)>=0?(m.isub(b),E.isub(P),S.isub(O)):(b.isub(m),P.isub(E),O.isub(S))}return{a:P,b:O,gcd:b.iushln(A)}},i.prototype._invmp=function(l){r(l.negative===0),r(!l.isZero());var m=this,b=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var E=new i(1),S=new i(0),P=b.clone();m.cmpn(1)>0&&b.cmpn(1)>0;){for(var O=0,A=1;(m.words[0]&A)===0&&O<26;++O,A<<=1);if(O>0)for(m.iushrn(O);O-- >0;)E.isOdd()&&E.iadd(P),E.iushrn(1);for(var h=0,v=1;(b.words[0]&v)===0&&h<26;++h,v<<=1);if(h>0)for(b.iushrn(h);h-- >0;)S.isOdd()&&S.iadd(P),S.iushrn(1);m.cmp(b)>=0?(m.isub(b),E.isub(S)):(b.isub(m),S.isub(E))}var F;return m.cmpn(1)===0?F=E:F=S,F.cmpn(0)<0&&F.iadd(l),F},i.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var m=this.clone(),b=l.clone();m.negative=0,b.negative=0;for(var E=0;m.isEven()&&b.isEven();E++)m.iushrn(1),b.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;b.isEven();)b.iushrn(1);var S=m.cmp(b);if(S<0){var P=m;m=b,b=P}else if(S===0||b.cmpn(1)===0)break;m.isub(b)}while(!0);return b.iushln(E)},i.prototype.invm=function(l){return this.egcd(l).a.umod(l)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(l){return this.words[0]&l},i.prototype.bincn=function(l){r(typeof l=="number");var m=l%26,b=(l-m)/26,E=1<<m;if(this.length<=b)return this._expand(b+1),this.words[b]|=E,this;for(var S=E,P=b;S!==0&&P<this.length;P++){var O=this.words[P]|0;O+=S,S=O>>>26,O&=67108863,this.words[P]=O}return S!==0&&(this.words[P]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(l){var m=l<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var b;if(this.length>1)b=1;else{m&&(l=-l),r(l<=67108863,"Number is too big");var E=this.words[0]|0;b=E===l?0:E<l?-1:1}return this.negative!==0?-b|0:b},i.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var m=this.ucmp(l);return this.negative!==0?-m|0:m},i.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var m=0,b=this.length-1;b>=0;b--){var E=this.words[b]|0,S=l.words[b]|0;if(E!==S){E<S?m=-1:E>S&&(m=1);break}}return m},i.prototype.gtn=function(l){return this.cmpn(l)===1},i.prototype.gt=function(l){return this.cmp(l)===1},i.prototype.gten=function(l){return this.cmpn(l)>=0},i.prototype.gte=function(l){return this.cmp(l)>=0},i.prototype.ltn=function(l){return this.cmpn(l)===-1},i.prototype.lt=function(l){return this.cmp(l)===-1},i.prototype.lten=function(l){return this.cmpn(l)<=0},i.prototype.lte=function(l){return this.cmp(l)<=0},i.prototype.eqn=function(l){return this.cmpn(l)===0},i.prototype.eq=function(l){return this.cmp(l)===0},i.red=function(l){return new W(l)},i.prototype.toRed=function(l){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(l){return this.red=l,this},i.prototype.forceRed=function(l){return r(!this.red,"Already a number in reduction context"),this._forceRed(l)},i.prototype.redAdd=function(l){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},i.prototype.redIAdd=function(l){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},i.prototype.redSub=function(l){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},i.prototype.redISub=function(l){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},i.prototype.redShl=function(l){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},i.prototype.redMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},i.prototype.redIMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(l){return r(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var j={k256:null,p224:null,p192:null,p25519:null};function J(_,l){this.name=_,this.p=new i(l,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}J.prototype._tmp=function(){var l=new i(null);return l.words=new Array(Math.ceil(this.n/13)),l},J.prototype.ireduce=function(l){var m=l,b;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),b=m.bitLength();while(b>this.n);var E=b<this.n?-1:m.ucmp(this.p);return E===0?(m.words[0]=0,m.length=1):E>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},J.prototype.split=function(l,m){l.iushrn(this.n,0,m)},J.prototype.imulK=function(l){return l.imul(this.k)};function ne(){J.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(ne,J),ne.prototype.split=function(l,m){for(var b=4194303,E=Math.min(l.length,9),S=0;S<E;S++)m.words[S]=l.words[S];if(m.length=E,l.length<=9){l.words[0]=0,l.length=1;return}var P=l.words[9];for(m.words[m.length++]=P&b,S=10;S<l.length;S++){var O=l.words[S]|0;l.words[S-10]=(O&b)<<4|P>>>22,P=O}P>>>=22,l.words[S-10]=P,P===0&&l.length>10?l.length-=10:l.length-=9},ne.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var m=0,b=0;b<l.length;b++){var E=l.words[b]|0;m+=E*977,l.words[b]=m&67108863,m=E*64+(m/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function X(){J.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(X,J);function Z(){J.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(Z,J);function G(){J.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(G,J),G.prototype.imulK=function(l){for(var m=0,b=0;b<l.length;b++){var E=(l.words[b]|0)*19+m,S=E&67108863;E>>>=26,l.words[b]=S,m=E}return m!==0&&(l.words[l.length++]=m),l},i._prime=function(l){if(j[l])return j[l];var m;if(l==="k256")m=new ne;else if(l==="p224")m=new X;else if(l==="p192")m=new Z;else if(l==="p25519")m=new G;else throw new Error("Unknown prime "+l);return j[l]=m,m};function W(_){if(typeof _=="string"){var l=i._prime(_);this.m=l.p,this.prime=l}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}W.prototype._verify1=function(l){r(l.negative===0,"red works only with positives"),r(l.red,"red works only with red numbers")},W.prototype._verify2=function(l,m){r((l.negative|m.negative)===0,"red works only with positives"),r(l.red&&l.red===m.red,"red works only with red numbers")},W.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(p(l,l.umod(this.m)._forceRed(this)),l)},W.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},W.prototype.add=function(l,m){this._verify2(l,m);var b=l.add(m);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},W.prototype.iadd=function(l,m){this._verify2(l,m);var b=l.iadd(m);return b.cmp(this.m)>=0&&b.isub(this.m),b},W.prototype.sub=function(l,m){this._verify2(l,m);var b=l.sub(m);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},W.prototype.isub=function(l,m){this._verify2(l,m);var b=l.isub(m);return b.cmpn(0)<0&&b.iadd(this.m),b},W.prototype.shl=function(l,m){return this._verify1(l),this.imod(l.ushln(m))},W.prototype.imul=function(l,m){return this._verify2(l,m),this.imod(l.imul(m))},W.prototype.mul=function(l,m){return this._verify2(l,m),this.imod(l.mul(m))},W.prototype.isqr=function(l){return this.imul(l,l.clone())},W.prototype.sqr=function(l){return this.mul(l,l)},W.prototype.sqrt=function(l){if(l.isZero())return l.clone();var m=this.m.andln(3);if(r(m%2===1),m===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(l,b)}for(var E=this.m.subn(1),S=0;!E.isZero()&&E.andln(1)===0;)S++,E.iushrn(1);r(!E.isZero());var P=new i(1).toRed(this),O=P.redNeg(),A=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);this.pow(h,A).cmp(O)!==0;)h.redIAdd(O);for(var v=this.pow(h,E),F=this.pow(l,E.addn(1).iushrn(1)),$=this.pow(l,E),Y=S;$.cmp(P)!==0;){for(var se=$,fe=0;se.cmp(P)!==0;fe++)se=se.redSqr();r(fe<Y);var re=this.pow(v,new i(1).iushln(Y-fe-1));F=F.redMul(re),v=re.redSqr(),$=$.redMul(v),Y=fe}return F},W.prototype.invm=function(l){var m=l._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},W.prototype.pow=function(l,m){if(m.isZero())return new i(1).toRed(this);if(m.cmpn(1)===0)return l.clone();var b=4,E=new Array(1<<b);E[0]=new i(1).toRed(this),E[1]=l;for(var S=2;S<E.length;S++)E[S]=this.mul(E[S-1],l);var P=E[0],O=0,A=0,h=m.bitLength()%26;for(h===0&&(h=26),S=m.length-1;S>=0;S--){for(var v=m.words[S],F=h-1;F>=0;F--){var $=v>>F&1;if(P!==E[0]&&(P=this.sqr(P)),$===0&&O===0){A=0;continue}O<<=1,O|=$,A++,!(A!==b&&(S!==0||F!==0))&&(P=this.mul(P,E[O]),A=0,O=0)}h=26}return P},W.prototype.convertTo=function(l){var m=l.umod(this.m);return m===l?m.clone():m},W.prototype.convertFrom=function(l){var m=l.clone();return m.red=null,m},i.mont=function(l){return new z(l)};function z(_){W.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(z,W),z.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},z.prototype.convertFrom=function(l){var m=this.imod(l.mul(this.rinv));return m.red=null,m},z.prototype.imul=function(l,m){if(l.isZero()||m.isZero())return l.words[0]=0,l.length=1,l;var b=l.imul(m),E=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=b.isub(E).iushrn(this.shift),P=S;return S.cmp(this.m)>=0?P=S.isub(this.m):S.cmpn(0)<0&&(P=S.iadd(this.m)),P._forceRed(this)},z.prototype.mul=function(l,m){if(l.isZero()||m.isZero())return new i(0)._forceRed(this);var b=l.mul(m),E=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=b.isub(E).iushrn(this.shift),P=S;return S.cmp(this.m)>=0?P=S.isub(this.m):S.cmpn(0)<0&&(P=S.iadd(this.m)),P._forceRed(this)},z.prototype.invm=function(l){var m=this.imod(l._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,kA)}(Qc)),Qc.exports}function Vr(t,e,n){return e<=t&&t<=n}function Al(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function RA(t){for(var e=String(t),n=e.length,r=0,s=[];r<n;){var i=e.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var a=t.charCodeAt(r+1);if(56320<=a&&a<=57343){var o=i&1023,f=a&1023;s.push(65536+(o<<10)+f),r+=1}else s.push(65533)}r+=1}return s}function MA(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var du=-1;function vh(t){this.tokens=[].slice.call(t)}vh.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():du},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Eo=-1;function yf(t,e){if(t)throw TypeError("Decoder error");return e||65533}var hu="utf-8";function pu(t,e){if(!(this instanceof pu))return new pu(t,e);if(t=t!==void 0?String(t).toLowerCase():hu,t!==hu)throw new Error("Encoding not supported. Only utf-8 is supported");e=Al(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}pu.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Al(n),this._streaming||(this._decoder=new CA({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new vh(r),i=[],a;!s.endOfStream()&&(a=this._decoder.handler(s,s.read()),a!==Eo);)a!==null&&(Array.isArray(a)?i.push.apply(i,a):i.push(a));if(!this._streaming){do{if(a=this._decoder.handler(s,s.read()),a===Eo)break;a!==null&&(Array.isArray(a)?i.push.apply(i,a):i.push(a))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),MA(i)}};function mu(t,e){if(!(this instanceof mu))return new mu(t,e);if(t=t!==void 0?String(t).toLowerCase():hu,t!==hu)throw new Error("Encoding not supported. Only utf-8 is supported");e=Al(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}mu.prototype={encode:function(e,n){e=e?String(e):"",n=Al(n),this._streaming||(this._encoder=new PA(this._options)),this._streaming=!!n.stream;for(var r=[],s=new vh(RA(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Eo);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Eo;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function CA(t){var e=t.fatal,n=0,r=0,s=0,i=128,a=191;this.handler=function(o,f){if(f===du&&s!==0)return s=0,yf(e);if(f===du)return Eo;if(s===0){if(Vr(f,0,127))return f;if(Vr(f,194,223))s=1,n=f-192;else if(Vr(f,224,239))f===224&&(i=160),f===237&&(a=159),s=2,n=f-224;else if(Vr(f,240,244))f===240&&(i=144),f===244&&(a=143),s=3,n=f-240;else return yf(e);return n=n<<6*s,null}if(!Vr(f,i,a))return n=s=r=0,i=128,a=191,o.prepend(f),yf(e);if(i=128,a=191,r+=1,n+=f-128<<6*(s-r),r!==s)return null;var d=n;return n=s=r=0,d}}function PA(t){t.fatal,this.handler=function(e,n){if(n===du)return Eo;if(Vr(n,0,127))return n;var r,s;Vr(n,128,2047)?(r=1,s=192):Vr(n,2048,65535)?(r=2,s=224):Vr(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var a=n>>6*(r-1);i.push(128|a&63),r-=1}return i}}const NA=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:pu,TextEncoder:mu},Symbol.toStringTag,{value:"Module"})),LA=fh(NA);var Sp;function OA(){if(Sp)return Nt;Sp=1;var t=Nt&&Nt.__createBinding||(Object.create?function(Z,G,W,z){z===void 0&&(z=W),Object.defineProperty(Z,z,{enumerable:!0,get:function(){return G[W]}})}:function(Z,G,W,z){z===void 0&&(z=W),Z[z]=G[W]}),e=Nt&&Nt.__setModuleDefault||(Object.create?function(Z,G){Object.defineProperty(Z,"default",{enumerable:!0,value:G})}:function(Z,G){Z.default=G}),n=Nt&&Nt.__decorate||function(Z,G,W,z){var _=arguments.length,l=_<3?G:z===null?z=Object.getOwnPropertyDescriptor(G,W):z,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(Z,G,W,z);else for(var b=Z.length-1;b>=0;b--)(m=Z[b])&&(l=(_<3?m(l):_>3?m(G,W,l):m(G,W))||l);return _>3&&l&&Object.defineProperty(G,W,l),l},r=Nt&&Nt.__importStar||function(Z){if(Z&&Z.__esModule)return Z;var G={};if(Z!=null)for(var W in Z)W!=="default"&&Object.hasOwnProperty.call(Z,W)&&t(G,Z,W);return e(G,Z),G},s=Nt&&Nt.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.deserializeUnchecked=Nt.deserialize=Nt.serialize=Nt.BinaryReader=Nt.BinaryWriter=Nt.BorshError=Nt.baseDecode=Nt.baseEncode=void 0;const i=s(TA()),a=s(oy()),o=r(LA),f=typeof TextDecoder!="function"?o.TextDecoder:TextDecoder,d=new f("utf-8",{fatal:!0});function p(Z){return typeof Z=="string"&&(Z=Buffer.from(Z,"utf8")),a.default.encode(Buffer.from(Z))}Nt.baseEncode=p;function y(Z){return Buffer.from(a.default.decode(Z))}Nt.baseDecode=y;const B=1024;class x extends Error{constructor(G){super(G),this.fieldPath=[],this.originalMessage=G}addToFieldPath(G){this.fieldPath.splice(0,0,G),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Nt.BorshError=x;class M{constructor(){this.buf=Buffer.alloc(B),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(B)]))}writeU8(G){this.maybeResize(),this.buf.writeUInt8(G,this.length),this.length+=1}writeU16(G){this.maybeResize(),this.buf.writeUInt16LE(G,this.length),this.length+=2}writeU32(G){this.maybeResize(),this.buf.writeUInt32LE(G,this.length),this.length+=4}writeU64(G){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(G).toArray("le",8)))}writeU128(G){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(G).toArray("le",16)))}writeU256(G){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(G).toArray("le",32)))}writeU512(G){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(G).toArray("le",64)))}writeBuffer(G){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),G,Buffer.alloc(B)]),this.length+=G.length}writeString(G){this.maybeResize();const W=Buffer.from(G,"utf8");this.writeU32(W.length),this.writeBuffer(W)}writeFixedArray(G){this.writeBuffer(Buffer.from(G))}writeArray(G,W){this.maybeResize(),this.writeU32(G.length);for(const z of G)this.maybeResize(),W(z)}toArray(){return this.buf.subarray(0,this.length)}}Nt.BinaryWriter=M;function I(Z,G,W){const z=W.value;W.value=function(..._){try{return z.apply(this,_)}catch(l){if(l instanceof RangeError){const m=l.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(m)>=0)throw new x("Reached the end of buffer when deserializing")}throw l}}}class R{constructor(G){this.buf=G,this.offset=0}readU8(){const G=this.buf.readUInt8(this.offset);return this.offset+=1,G}readU16(){const G=this.buf.readUInt16LE(this.offset);return this.offset+=2,G}readU32(){const G=this.buf.readUInt32LE(this.offset);return this.offset+=4,G}readU64(){const G=this.readBuffer(8);return new i.default(G,"le")}readU128(){const G=this.readBuffer(16);return new i.default(G,"le")}readU256(){const G=this.readBuffer(32);return new i.default(G,"le")}readU512(){const G=this.readBuffer(64);return new i.default(G,"le")}readBuffer(G){if(this.offset+G>this.buf.length)throw new x(`Expected buffer length ${G} isn't within bounds`);const W=this.buf.slice(this.offset,this.offset+G);return this.offset+=G,W}readString(){const G=this.readU32(),W=this.readBuffer(G);try{return d.decode(W)}catch(z){throw new x(`Error decoding UTF-8 string: ${z}`)}}readFixedArray(G){return new Uint8Array(this.readBuffer(G))}readArray(G){const W=this.readU32(),z=Array();for(let _=0;_<W;++_)z.push(G());return z}}n([I],R.prototype,"readU8",null),n([I],R.prototype,"readU16",null),n([I],R.prototype,"readU32",null),n([I],R.prototype,"readU64",null),n([I],R.prototype,"readU128",null),n([I],R.prototype,"readU256",null),n([I],R.prototype,"readU512",null),n([I],R.prototype,"readString",null),n([I],R.prototype,"readFixedArray",null),n([I],R.prototype,"readArray",null),Nt.BinaryReader=R;function N(Z){return Z.charAt(0).toUpperCase()+Z.slice(1)}function D(Z,G,W,z,_){try{if(typeof z=="string")_[`write${N(z)}`](W);else if(z instanceof Array)if(typeof z[0]=="number"){if(W.length!==z[0])throw new x(`Expecting byte array of length ${z[0]}, but got ${W.length} bytes`);_.writeFixedArray(W)}else if(z.length===2&&typeof z[1]=="number"){if(W.length!==z[1])throw new x(`Expecting byte array of length ${z[1]}, but got ${W.length} bytes`);for(let l=0;l<z[1];l++)D(Z,null,W[l],z[0],_)}else _.writeArray(W,l=>{D(Z,G,l,z[0],_)});else if(z.kind!==void 0)switch(z.kind){case"option":{W==null?_.writeU8(0):(_.writeU8(1),D(Z,G,W,z.type,_));break}case"map":{_.writeU32(W.size),W.forEach((l,m)=>{D(Z,G,m,z.key,_),D(Z,G,l,z.value,_)});break}default:throw new x(`FieldType ${z} unrecognized`)}else U(Z,W,_)}catch(l){throw l instanceof x&&l.addToFieldPath(G),l}}function U(Z,G,W){if(typeof G.borshSerialize=="function"){G.borshSerialize(W);return}const z=Z.get(G.constructor);if(!z)throw new x(`Class ${G.constructor.name} is missing in schema`);if(z.kind==="struct")z.fields.map(([_,l])=>{D(Z,_,G[_],l,W)});else if(z.kind==="enum"){const _=G[z.field];for(let l=0;l<z.values.length;++l){const[m,b]=z.values[l];if(m===_){W.writeU8(l),D(Z,m,G[m],b,W);break}}}else throw new x(`Unexpected schema kind: ${z.kind} for ${G.constructor.name}`)}function K(Z,G,W=M){const z=new W;return U(Z,G,z),z.toArray()}Nt.serialize=K;function j(Z,G,W,z){try{if(typeof W=="string")return z[`read${N(W)}`]();if(W instanceof Array){if(typeof W[0]=="number")return z.readFixedArray(W[0]);if(typeof W[1]=="number"){const _=[];for(let l=0;l<W[1];l++)_.push(j(Z,null,W[0],z));return _}else return z.readArray(()=>j(Z,G,W[0],z))}if(W.kind==="option")return z.readU8()?j(Z,G,W.type,z):void 0;if(W.kind==="map"){let _=new Map;const l=z.readU32();for(let m=0;m<l;m++){const b=j(Z,G,W.key,z),E=j(Z,G,W.value,z);_.set(b,E)}return _}return J(Z,W,z)}catch(_){throw _ instanceof x&&_.addToFieldPath(G),_}}function J(Z,G,W){if(typeof G.borshDeserialize=="function")return G.borshDeserialize(W);const z=Z.get(G);if(!z)throw new x(`Class ${G.name} is missing in schema`);if(z.kind==="struct"){const _={};for(const[l,m]of Z.get(G).fields)_[l]=j(Z,l,m,W);return new G(_)}if(z.kind==="enum"){const _=W.readU8();if(_>=z.values.length)throw new x(`Enum index: ${_} is out of range`);const[l,m]=z.values[_],b=j(Z,l,m,W);return new G({[l]:b})}throw new x(`Unexpected schema kind: ${z.kind} for ${G.constructor.name}`)}function ne(Z,G,W,z=R){const _=new z(W),l=J(Z,G,_);if(_.offset<W.length)throw new x(`Unexpected ${W.length-_.offset} bytes after deserialized data`);return l}Nt.deserialize=ne;function X(Z,G,W,z=R){const _=new z(W);return J(Z,G,_)}return Nt.deserializeUnchecked=X,Nt}var vf=OA(),ue={},wf={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Bp;function FA(){return Bp||(Bp=1,function(t){const e=vl(),n=wl(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=D,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const g=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(g,c),g.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(g){if(g>s)throw new RangeError('The value "'+g+'" is invalid for option "size"');const c=new Uint8Array(g);return Object.setPrototypeOf(c,o.prototype),c}function o(g,c,u){if(typeof g=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(g)}return f(g,c,u)}o.poolSize=8192;function f(g,c,u){if(typeof g=="string")return B(g,c);if(ArrayBuffer.isView(g))return M(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(de(g,ArrayBuffer)||g&&de(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(de(g,SharedArrayBuffer)||g&&de(g.buffer,SharedArrayBuffer)))return I(g,c,u);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const w=g.valueOf&&g.valueOf();if(w!=null&&w!==g)return o.from(w,c,u);const k=R(g);if(k)return k;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return o.from(g[Symbol.toPrimitive]("string"),c,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}o.from=function(g,c,u){return f(g,c,u)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function d(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function p(g,c,u){return d(g),g<=0?a(g):c!==void 0?typeof u=="string"?a(g).fill(c,u):a(g).fill(c):a(g)}o.alloc=function(g,c,u){return p(g,c,u)};function y(g){return d(g),a(g<0?0:N(g)|0)}o.allocUnsafe=function(g){return y(g)},o.allocUnsafeSlow=function(g){return y(g)};function B(g,c){if((typeof c!="string"||c==="")&&(c="utf8"),!o.isEncoding(c))throw new TypeError("Unknown encoding: "+c);const u=U(g,c)|0;let w=a(u);const k=w.write(g,c);return k!==u&&(w=w.slice(0,k)),w}function x(g){const c=g.length<0?0:N(g.length)|0,u=a(c);for(let w=0;w<c;w+=1)u[w]=g[w]&255;return u}function M(g){if(de(g,Uint8Array)){const c=new Uint8Array(g);return I(c.buffer,c.byteOffset,c.byteLength)}return x(g)}function I(g,c,u){if(c<0||g.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<c+(u||0))throw new RangeError('"length" is outside of buffer bounds');let w;return c===void 0&&u===void 0?w=new Uint8Array(g):u===void 0?w=new Uint8Array(g,c):w=new Uint8Array(g,c,u),Object.setPrototypeOf(w,o.prototype),w}function R(g){if(o.isBuffer(g)){const c=N(g.length)|0,u=a(c);return u.length===0||g.copy(u,0,0,c),u}if(g.length!==void 0)return typeof g.length!="number"||Ae(g.length)?a(0):x(g);if(g.type==="Buffer"&&Array.isArray(g.data))return x(g.data)}function N(g){if(g>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return g|0}function D(g){return+g!=g&&(g=0),o.alloc(+g)}o.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==o.prototype},o.compare=function(c,u){if(de(c,Uint8Array)&&(c=o.from(c,c.offset,c.byteLength)),de(u,Uint8Array)&&(u=o.from(u,u.offset,u.byteLength)),!o.isBuffer(c)||!o.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===u)return 0;let w=c.length,k=u.length;for(let L=0,H=Math.min(w,k);L<H;++L)if(c[L]!==u[L]){w=c[L],k=u[L];break}return w<k?-1:k<w?1:0},o.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(c,u){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return o.alloc(0);let w;if(u===void 0)for(u=0,w=0;w<c.length;++w)u+=c[w].length;const k=o.allocUnsafe(u);let L=0;for(w=0;w<c.length;++w){let H=c[w];if(de(H,Uint8Array))L+H.length>k.length?(o.isBuffer(H)||(H=o.from(H)),H.copy(k,L)):Uint8Array.prototype.set.call(k,H,L);else if(o.isBuffer(H))H.copy(k,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=H.length}return k};function U(g,c){if(o.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||de(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const u=g.length,w=arguments.length>2&&arguments[2]===!0;if(!w&&u===0)return 0;let k=!1;for(;;)switch(c){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return T(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return te(g).length;default:if(k)return w?-1:T(g).length;c=(""+c).toLowerCase(),k=!0}}o.byteLength=U;function K(g,c,u){let w=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,c>>>=0,u<=c))return"";for(g||(g="utf8");;)switch(g){case"hex":return P(this,c,u);case"utf8":case"utf-8":return l(this,c,u);case"ascii":return E(this,c,u);case"latin1":case"binary":return S(this,c,u);case"base64":return _(this,c,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,c,u);default:if(w)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),w=!0}}o.prototype._isBuffer=!0;function j(g,c,u){const w=g[c];g[c]=g[u],g[u]=w}o.prototype.swap16=function(){const c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<c;u+=2)j(this,u,u+1);return this},o.prototype.swap32=function(){const c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<c;u+=4)j(this,u,u+3),j(this,u+1,u+2);return this},o.prototype.swap64=function(){const c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<c;u+=8)j(this,u,u+7),j(this,u+1,u+6),j(this,u+2,u+5),j(this,u+3,u+4);return this},o.prototype.toString=function(){const c=this.length;return c===0?"":arguments.length===0?l(this,0,c):K.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(c){if(!o.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:o.compare(this,c)===0},o.prototype.inspect=function(){let c="";const u=t.INSPECT_MAX_BYTES;return c=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(c+=" ... "),"<Buffer "+c+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(c,u,w,k,L){if(de(c,Uint8Array)&&(c=o.from(c,c.offset,c.byteLength)),!o.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(u===void 0&&(u=0),w===void 0&&(w=c?c.length:0),k===void 0&&(k=0),L===void 0&&(L=this.length),u<0||w>c.length||k<0||L>this.length)throw new RangeError("out of range index");if(k>=L&&u>=w)return 0;if(k>=L)return-1;if(u>=w)return 1;if(u>>>=0,w>>>=0,k>>>=0,L>>>=0,this===c)return 0;let H=L-k,pe=w-u;const ge=Math.min(H,pe),me=this.slice(k,L),Ce=c.slice(u,w);for(let he=0;he<ge;++he)if(me[he]!==Ce[he]){H=me[he],pe=Ce[he];break}return H<pe?-1:pe<H?1:0};function J(g,c,u,w,k){if(g.length===0)return-1;if(typeof u=="string"?(w=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,Ae(u)&&(u=k?0:g.length-1),u<0&&(u=g.length+u),u>=g.length){if(k)return-1;u=g.length-1}else if(u<0)if(k)u=0;else return-1;if(typeof c=="string"&&(c=o.from(c,w)),o.isBuffer(c))return c.length===0?-1:ne(g,c,u,w,k);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(g,c,u):Uint8Array.prototype.lastIndexOf.call(g,c,u):ne(g,[c],u,w,k);throw new TypeError("val must be string, number or Buffer")}function ne(g,c,u,w,k){let L=1,H=g.length,pe=c.length;if(w!==void 0&&(w=String(w).toLowerCase(),w==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(g.length<2||c.length<2)return-1;L=2,H/=2,pe/=2,u/=2}function ge(Ce,he){return L===1?Ce[he]:Ce.readUInt16BE(he*L)}let me;if(k){let Ce=-1;for(me=u;me<H;me++)if(ge(g,me)===ge(c,Ce===-1?0:me-Ce)){if(Ce===-1&&(Ce=me),me-Ce+1===pe)return Ce*L}else Ce!==-1&&(me-=me-Ce),Ce=-1}else for(u+pe>H&&(u=H-pe),me=u;me>=0;me--){let Ce=!0;for(let he=0;he<pe;he++)if(ge(g,me+he)!==ge(c,he)){Ce=!1;break}if(Ce)return me}return-1}o.prototype.includes=function(c,u,w){return this.indexOf(c,u,w)!==-1},o.prototype.indexOf=function(c,u,w){return J(this,c,u,w,!0)},o.prototype.lastIndexOf=function(c,u,w){return J(this,c,u,w,!1)};function X(g,c,u,w){u=Number(u)||0;const k=g.length-u;w?(w=Number(w),w>k&&(w=k)):w=k;const L=c.length;w>L/2&&(w=L/2);let H;for(H=0;H<w;++H){const pe=parseInt(c.substr(H*2,2),16);if(Ae(pe))return H;g[u+H]=pe}return H}function Z(g,c,u,w){return ae(T(c,g.length-u),g,u,w)}function G(g,c,u,w){return ae(C(c),g,u,w)}function W(g,c,u,w){return ae(te(c),g,u,w)}function z(g,c,u,w){return ae(Q(c,g.length-u),g,u,w)}o.prototype.write=function(c,u,w,k){if(u===void 0)k="utf8",w=this.length,u=0;else if(w===void 0&&typeof u=="string")k=u,w=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(w)?(w=w>>>0,k===void 0&&(k="utf8")):(k=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const L=this.length-u;if((w===void 0||w>L)&&(w=L),c.length>0&&(w<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");let H=!1;for(;;)switch(k){case"hex":return X(this,c,u,w);case"utf8":case"utf-8":return Z(this,c,u,w);case"ascii":case"latin1":case"binary":return G(this,c,u,w);case"base64":return W(this,c,u,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,c,u,w);default:if(H)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),H=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(g,c,u){return c===0&&u===g.length?e.fromByteArray(g):e.fromByteArray(g.slice(c,u))}function l(g,c,u){u=Math.min(g.length,u);const w=[];let k=c;for(;k<u;){const L=g[k];let H=null,pe=L>239?4:L>223?3:L>191?2:1;if(k+pe<=u){let ge,me,Ce,he;switch(pe){case 1:L<128&&(H=L);break;case 2:ge=g[k+1],(ge&192)===128&&(he=(L&31)<<6|ge&63,he>127&&(H=he));break;case 3:ge=g[k+1],me=g[k+2],(ge&192)===128&&(me&192)===128&&(he=(L&15)<<12|(ge&63)<<6|me&63,he>2047&&(he<55296||he>57343)&&(H=he));break;case 4:ge=g[k+1],me=g[k+2],Ce=g[k+3],(ge&192)===128&&(me&192)===128&&(Ce&192)===128&&(he=(L&15)<<18|(ge&63)<<12|(me&63)<<6|Ce&63,he>65535&&he<1114112&&(H=he))}}H===null?(H=65533,pe=1):H>65535&&(H-=65536,w.push(H>>>10&1023|55296),H=56320|H&1023),w.push(H),k+=pe}return b(w)}const m=4096;function b(g){const c=g.length;if(c<=m)return String.fromCharCode.apply(String,g);let u="",w=0;for(;w<c;)u+=String.fromCharCode.apply(String,g.slice(w,w+=m));return u}function E(g,c,u){let w="";u=Math.min(g.length,u);for(let k=c;k<u;++k)w+=String.fromCharCode(g[k]&127);return w}function S(g,c,u){let w="";u=Math.min(g.length,u);for(let k=c;k<u;++k)w+=String.fromCharCode(g[k]);return w}function P(g,c,u){const w=g.length;(!c||c<0)&&(c=0),(!u||u<0||u>w)&&(u=w);let k="";for(let L=c;L<u;++L)k+=_e[g[L]];return k}function O(g,c,u){const w=g.slice(c,u);let k="";for(let L=0;L<w.length-1;L+=2)k+=String.fromCharCode(w[L]+w[L+1]*256);return k}o.prototype.slice=function(c,u){const w=this.length;c=~~c,u=u===void 0?w:~~u,c<0?(c+=w,c<0&&(c=0)):c>w&&(c=w),u<0?(u+=w,u<0&&(u=0)):u>w&&(u=w),u<c&&(u=c);const k=this.subarray(c,u);return Object.setPrototypeOf(k,o.prototype),k};function A(g,c,u){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+c>u)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(c,u,w){c=c>>>0,u=u>>>0,w||A(c,u,this.length);let k=this[c],L=1,H=0;for(;++H<u&&(L*=256);)k+=this[c+H]*L;return k},o.prototype.readUintBE=o.prototype.readUIntBE=function(c,u,w){c=c>>>0,u=u>>>0,w||A(c,u,this.length);let k=this[c+--u],L=1;for(;u>0&&(L*=256);)k+=this[c+--u]*L;return k},o.prototype.readUint8=o.prototype.readUInt8=function(c,u){return c=c>>>0,u||A(c,1,this.length),this[c]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(c,u){return c=c>>>0,u||A(c,2,this.length),this[c]|this[c+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(c,u){return c=c>>>0,u||A(c,2,this.length),this[c]<<8|this[c+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(c,u){return c=c>>>0,u||A(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(c,u){return c=c>>>0,u||A(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},o.prototype.readBigUInt64LE=ie(function(c){c=c>>>0,Ze(c,"offset");const u=this[c],w=this[c+7];(u===void 0||w===void 0)&&Ne(c,this.length-8);const k=u+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,L=this[++c]+this[++c]*2**8+this[++c]*2**16+w*2**24;return BigInt(k)+(BigInt(L)<<BigInt(32))}),o.prototype.readBigUInt64BE=ie(function(c){c=c>>>0,Ze(c,"offset");const u=this[c],w=this[c+7];(u===void 0||w===void 0)&&Ne(c,this.length-8);const k=u*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],L=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+w;return(BigInt(k)<<BigInt(32))+BigInt(L)}),o.prototype.readIntLE=function(c,u,w){c=c>>>0,u=u>>>0,w||A(c,u,this.length);let k=this[c],L=1,H=0;for(;++H<u&&(L*=256);)k+=this[c+H]*L;return L*=128,k>=L&&(k-=Math.pow(2,8*u)),k},o.prototype.readIntBE=function(c,u,w){c=c>>>0,u=u>>>0,w||A(c,u,this.length);let k=u,L=1,H=this[c+--k];for(;k>0&&(L*=256);)H+=this[c+--k]*L;return L*=128,H>=L&&(H-=Math.pow(2,8*u)),H},o.prototype.readInt8=function(c,u){return c=c>>>0,u||A(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},o.prototype.readInt16LE=function(c,u){c=c>>>0,u||A(c,2,this.length);const w=this[c]|this[c+1]<<8;return w&32768?w|4294901760:w},o.prototype.readInt16BE=function(c,u){c=c>>>0,u||A(c,2,this.length);const w=this[c+1]|this[c]<<8;return w&32768?w|4294901760:w},o.prototype.readInt32LE=function(c,u){return c=c>>>0,u||A(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},o.prototype.readInt32BE=function(c,u){return c=c>>>0,u||A(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},o.prototype.readBigInt64LE=ie(function(c){c=c>>>0,Ze(c,"offset");const u=this[c],w=this[c+7];(u===void 0||w===void 0)&&Ne(c,this.length-8);const k=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(w<<24);return(BigInt(k)<<BigInt(32))+BigInt(u+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)}),o.prototype.readBigInt64BE=ie(function(c){c=c>>>0,Ze(c,"offset");const u=this[c],w=this[c+7];(u===void 0||w===void 0)&&Ne(c,this.length-8);const k=(u<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt(k)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+w)}),o.prototype.readFloatLE=function(c,u){return c=c>>>0,u||A(c,4,this.length),n.read(this,c,!0,23,4)},o.prototype.readFloatBE=function(c,u){return c=c>>>0,u||A(c,4,this.length),n.read(this,c,!1,23,4)},o.prototype.readDoubleLE=function(c,u){return c=c>>>0,u||A(c,8,this.length),n.read(this,c,!0,52,8)},o.prototype.readDoubleBE=function(c,u){return c=c>>>0,u||A(c,8,this.length),n.read(this,c,!1,52,8)};function h(g,c,u,w,k,L){if(!o.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>k||c<L)throw new RangeError('"value" argument is out of bounds');if(u+w>g.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(c,u,w,k){if(c=+c,u=u>>>0,w=w>>>0,!k){const pe=Math.pow(2,8*w)-1;h(this,c,u,w,pe,0)}let L=1,H=0;for(this[u]=c&255;++H<w&&(L*=256);)this[u+H]=c/L&255;return u+w},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(c,u,w,k){if(c=+c,u=u>>>0,w=w>>>0,!k){const pe=Math.pow(2,8*w)-1;h(this,c,u,w,pe,0)}let L=w-1,H=1;for(this[u+L]=c&255;--L>=0&&(H*=256);)this[u+L]=c/H&255;return u+w},o.prototype.writeUint8=o.prototype.writeUInt8=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,1,255,0),this[u]=c&255,u+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,2,65535,0),this[u]=c&255,this[u+1]=c>>>8,u+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,2,65535,0),this[u]=c>>>8,this[u+1]=c&255,u+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,4,4294967295,0),this[u+3]=c>>>24,this[u+2]=c>>>16,this[u+1]=c>>>8,this[u]=c&255,u+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,4,4294967295,0),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4};function v(g,c,u,w,k){ke(c,w,k,g,u,7);let L=Number(c&BigInt(4294967295));g[u++]=L,L=L>>8,g[u++]=L,L=L>>8,g[u++]=L,L=L>>8,g[u++]=L;let H=Number(c>>BigInt(32)&BigInt(4294967295));return g[u++]=H,H=H>>8,g[u++]=H,H=H>>8,g[u++]=H,H=H>>8,g[u++]=H,u}function F(g,c,u,w,k){ke(c,w,k,g,u,7);let L=Number(c&BigInt(4294967295));g[u+7]=L,L=L>>8,g[u+6]=L,L=L>>8,g[u+5]=L,L=L>>8,g[u+4]=L;let H=Number(c>>BigInt(32)&BigInt(4294967295));return g[u+3]=H,H=H>>8,g[u+2]=H,H=H>>8,g[u+1]=H,H=H>>8,g[u]=H,u+8}o.prototype.writeBigUInt64LE=ie(function(c,u=0){return v(this,c,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ie(function(c,u=0){return F(this,c,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(c,u,w,k){if(c=+c,u=u>>>0,!k){const ge=Math.pow(2,8*w-1);h(this,c,u,w,ge-1,-ge)}let L=0,H=1,pe=0;for(this[u]=c&255;++L<w&&(H*=256);)c<0&&pe===0&&this[u+L-1]!==0&&(pe=1),this[u+L]=(c/H>>0)-pe&255;return u+w},o.prototype.writeIntBE=function(c,u,w,k){if(c=+c,u=u>>>0,!k){const ge=Math.pow(2,8*w-1);h(this,c,u,w,ge-1,-ge)}let L=w-1,H=1,pe=0;for(this[u+L]=c&255;--L>=0&&(H*=256);)c<0&&pe===0&&this[u+L+1]!==0&&(pe=1),this[u+L]=(c/H>>0)-pe&255;return u+w},o.prototype.writeInt8=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,1,127,-128),c<0&&(c=255+c+1),this[u]=c&255,u+1},o.prototype.writeInt16LE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,2,32767,-32768),this[u]=c&255,this[u+1]=c>>>8,u+2},o.prototype.writeInt16BE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,2,32767,-32768),this[u]=c>>>8,this[u+1]=c&255,u+2},o.prototype.writeInt32LE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,4,2147483647,-2147483648),this[u]=c&255,this[u+1]=c>>>8,this[u+2]=c>>>16,this[u+3]=c>>>24,u+4},o.prototype.writeInt32BE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4},o.prototype.writeBigInt64LE=ie(function(c,u=0){return v(this,c,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ie(function(c,u=0){return F(this,c,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(g,c,u,w,k,L){if(u+w>g.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function Y(g,c,u,w,k){return c=+c,u=u>>>0,k||$(g,c,u,4),n.write(g,c,u,w,23,4),u+4}o.prototype.writeFloatLE=function(c,u,w){return Y(this,c,u,!0,w)},o.prototype.writeFloatBE=function(c,u,w){return Y(this,c,u,!1,w)};function se(g,c,u,w,k){return c=+c,u=u>>>0,k||$(g,c,u,8),n.write(g,c,u,w,52,8),u+8}o.prototype.writeDoubleLE=function(c,u,w){return se(this,c,u,!0,w)},o.prototype.writeDoubleBE=function(c,u,w){return se(this,c,u,!1,w)},o.prototype.copy=function(c,u,w,k){if(!o.isBuffer(c))throw new TypeError("argument should be a Buffer");if(w||(w=0),!k&&k!==0&&(k=this.length),u>=c.length&&(u=c.length),u||(u=0),k>0&&k<w&&(k=w),k===w||c.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),c.length-u<k-w&&(k=c.length-u+w);const L=k-w;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,w,k):Uint8Array.prototype.set.call(c,this.subarray(w,k),u),L},o.prototype.fill=function(c,u,w,k){if(typeof c=="string"){if(typeof u=="string"?(k=u,u=0,w=this.length):typeof w=="string"&&(k=w,w=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!o.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(c.length===1){const H=c.charCodeAt(0);(k==="utf8"&&H<128||k==="latin1")&&(c=H)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(u<0||this.length<u||this.length<w)throw new RangeError("Out of range index");if(w<=u)return this;u=u>>>0,w=w===void 0?this.length:w>>>0,c||(c=0);let L;if(typeof c=="number")for(L=u;L<w;++L)this[L]=c;else{const H=o.isBuffer(c)?c:o.from(c,k),pe=H.length;if(pe===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(L=0;L<w-u;++L)this[L+u]=H[L%pe]}return this};const fe={};function re(g,c,u){fe[g]=class extends u{constructor(){super(),Object.defineProperty(this,"message",{value:c.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(k){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:k,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}re("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),re("ERR_INVALID_ARG_TYPE",function(g,c){return`The "${g}" argument must be of type number. Received type ${typeof c}`},TypeError),re("ERR_OUT_OF_RANGE",function(g,c,u){let w=`The value of "${g}" is out of range.`,k=u;return Number.isInteger(u)&&Math.abs(u)>2**32?k=xe(String(u)):typeof u=="bigint"&&(k=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(k=xe(k)),k+="n"),w+=` It must be ${c}. Received ${k}`,w},RangeError);function xe(g){let c="",u=g.length;const w=g[0]==="-"?1:0;for(;u>=w+4;u-=3)c=`_${g.slice(u-3,u)}${c}`;return`${g.slice(0,u)}${c}`}function ye(g,c,u){Ze(c,"offset"),(g[c]===void 0||g[c+u]===void 0)&&Ne(c,g.length-(u+1))}function ke(g,c,u,w,k,L){if(g>u||g<c){const H=typeof c=="bigint"?"n":"";let pe;throw c===0||c===BigInt(0)?pe=`>= 0${H} and < 2${H} ** ${(L+1)*8}${H}`:pe=`>= -(2${H} ** ${(L+1)*8-1}${H}) and < 2 ** ${(L+1)*8-1}${H}`,new fe.ERR_OUT_OF_RANGE("value",pe,g)}ye(w,k,L)}function Ze(g,c){if(typeof g!="number")throw new fe.ERR_INVALID_ARG_TYPE(c,"number",g)}function Ne(g,c,u){throw Math.floor(g)!==g?(Ze(g,u),new fe.ERR_OUT_OF_RANGE("offset","an integer",g)):c<0?new fe.ERR_BUFFER_OUT_OF_BOUNDS:new fe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${c}`,g)}const $e=/[^+/0-9A-Za-z-_]/g;function V(g){if(g=g.split("=")[0],g=g.trim().replace($e,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function T(g,c){c=c||1/0;let u;const w=g.length;let k=null;const L=[];for(let H=0;H<w;++H){if(u=g.charCodeAt(H),u>55295&&u<57344){if(!k){if(u>56319){(c-=3)>-1&&L.push(239,191,189);continue}else if(H+1===w){(c-=3)>-1&&L.push(239,191,189);continue}k=u;continue}if(u<56320){(c-=3)>-1&&L.push(239,191,189),k=u;continue}u=(k-55296<<10|u-56320)+65536}else k&&(c-=3)>-1&&L.push(239,191,189);if(k=null,u<128){if((c-=1)<0)break;L.push(u)}else if(u<2048){if((c-=2)<0)break;L.push(u>>6|192,u&63|128)}else if(u<65536){if((c-=3)<0)break;L.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((c-=4)<0)break;L.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return L}function C(g){const c=[];for(let u=0;u<g.length;++u)c.push(g.charCodeAt(u)&255);return c}function Q(g,c){let u,w,k;const L=[];for(let H=0;H<g.length&&!((c-=2)<0);++H)u=g.charCodeAt(H),w=u>>8,k=u%256,L.push(k),L.push(w);return L}function te(g){return e.toByteArray(V(g))}function ae(g,c,u,w){let k;for(k=0;k<w&&!(k+u>=c.length||k>=g.length);++k)c[k+u]=g[k];return k}function de(g,c){return g instanceof c||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===c.name}function Ae(g){return g!==g}const _e=function(){const g="0123456789abcdef",c=new Array(256);for(let u=0;u<16;++u){const w=u*16;for(let k=0;k<16;++k)c[w+k]=g[u]+g[k]}return c}();function ie(g){return typeof BigInt>"u"?ce:g}function ce(){throw new Error("BigInt not supported")}}(wf)),wf}var kp;function DA(){if(kp)return ue;kp=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.s16=ue.s8=ue.nu64be=ue.u48be=ue.u40be=ue.u32be=ue.u24be=ue.u16be=ue.nu64=ue.u48=ue.u40=ue.u32=ue.u24=ue.u16=ue.u8=ue.offset=ue.greedy=ue.Constant=ue.UTF8=ue.CString=ue.Blob=ue.Boolean=ue.BitField=ue.BitStructure=ue.VariantLayout=ue.Union=ue.UnionLayoutDiscriminator=ue.UnionDiscriminator=ue.Structure=ue.Sequence=ue.DoubleBE=ue.Double=ue.FloatBE=ue.Float=ue.NearInt64BE=ue.NearInt64=ue.NearUInt64BE=ue.NearUInt64=ue.IntBE=ue.Int=ue.UIntBE=ue.UInt=ue.OffsetLayout=ue.GreedyCount=ue.ExternalLayout=ue.bindConstructorLayout=ue.nameWithProperty=ue.Layout=ue.uint8ArrayToBuffer=ue.checkUint8Array=void 0,ue.constant=ue.utf8=ue.cstr=ue.blob=ue.unionLayoutDiscriminator=ue.union=ue.seq=ue.bits=ue.struct=ue.f64be=ue.f64=ue.f32be=ue.f32=ue.ns64be=ue.s48be=ue.s40be=ue.s32be=ue.s24be=ue.s16be=ue.ns64=ue.s48=ue.s40=ue.s32=ue.s24=void 0;const t=FA();function e(h){if(!(h instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ue.checkUint8Array=e;function n(h){return e(h),t.Buffer.from(h.buffer,h.byteOffset,h.length)}ue.uint8ArrayToBuffer=n;let r=class{constructor(v,F){if(!Number.isInteger(v))throw new TypeError("span must be an integer");this.span=v,this.property=F}makeDestinationObject(){return{}}getSpan(v,F){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(v){const F=Object.create(this.constructor.prototype);return Object.assign(F,this),F.property=v,F}fromArray(v){}};ue.Layout=r;function s(h,v){return v.property?h+"["+v.property+"]":h}ue.nameWithProperty=s;function i(h,v){if(typeof h!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(h,"layout_"))throw new Error("Class is already bound to a layout");if(!(v&&v instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(v,"boundConstructor_"))throw new Error("layout is already bound to a constructor");h.layout_=v,v.boundConstructor_=h,v.makeDestinationObject=()=>new h,Object.defineProperty(h.prototype,"encode",{value(F,$){return v.encode(this,F,$)},writable:!0}),Object.defineProperty(h,"decode",{value(F,$){return v.decode(F,$)},writable:!0})}ue.bindConstructorLayout=i;class a extends r{isCount(){throw new Error("ExternalLayout is abstract")}}ue.ExternalLayout=a;class o extends a{constructor(v=1,F){if(!Number.isInteger(v)||0>=v)throw new TypeError("elementSpan must be a (positive) integer");super(-1,F),this.elementSpan=v}isCount(){return!0}decode(v,F=0){e(v);const $=v.length-F;return Math.floor($/this.elementSpan)}encode(v,F,$){return 0}}ue.GreedyCount=o;class f extends a{constructor(v,F=0,$){if(!(v instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(F))throw new TypeError("offset must be integer or undefined");super(v.span,$||v.property),this.layout=v,this.offset=F}isCount(){return this.layout instanceof d||this.layout instanceof p}decode(v,F=0){return this.layout.decode(v,F+this.offset)}encode(v,F,$=0){return this.layout.encode(v,F,$+this.offset)}}ue.OffsetLayout=f;class d extends r{constructor(v,F){if(super(v,F),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,F=0){return n(v).readUIntLE(F,this.span)}encode(v,F,$=0){return n(F).writeUIntLE(v,$,this.span),this.span}}ue.UInt=d;class p extends r{constructor(v,F){if(super(v,F),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,F=0){return n(v).readUIntBE(F,this.span)}encode(v,F,$=0){return n(F).writeUIntBE(v,$,this.span),this.span}}ue.UIntBE=p;class y extends r{constructor(v,F){if(super(v,F),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,F=0){return n(v).readIntLE(F,this.span)}encode(v,F,$=0){return n(F).writeIntLE(v,$,this.span),this.span}}ue.Int=y;class B extends r{constructor(v,F){if(super(v,F),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,F=0){return n(v).readIntBE(F,this.span)}encode(v,F,$=0){return n(F).writeIntBE(v,$,this.span),this.span}}ue.IntBE=B;const x=Math.pow(2,32);function M(h){const v=Math.floor(h/x),F=h-v*x;return{hi32:v,lo32:F}}function I(h,v){return h*x+v}class R extends r{constructor(v){super(8,v)}decode(v,F=0){const $=n(v),Y=$.readUInt32LE(F),se=$.readUInt32LE(F+4);return I(se,Y)}encode(v,F,$=0){const Y=M(v),se=n(F);return se.writeUInt32LE(Y.lo32,$),se.writeUInt32LE(Y.hi32,$+4),8}}ue.NearUInt64=R;class N extends r{constructor(v){super(8,v)}decode(v,F=0){const $=n(v),Y=$.readUInt32BE(F),se=$.readUInt32BE(F+4);return I(Y,se)}encode(v,F,$=0){const Y=M(v),se=n(F);return se.writeUInt32BE(Y.hi32,$),se.writeUInt32BE(Y.lo32,$+4),8}}ue.NearUInt64BE=N;class D extends r{constructor(v){super(8,v)}decode(v,F=0){const $=n(v),Y=$.readUInt32LE(F),se=$.readInt32LE(F+4);return I(se,Y)}encode(v,F,$=0){const Y=M(v),se=n(F);return se.writeUInt32LE(Y.lo32,$),se.writeInt32LE(Y.hi32,$+4),8}}ue.NearInt64=D;class U extends r{constructor(v){super(8,v)}decode(v,F=0){const $=n(v),Y=$.readInt32BE(F),se=$.readUInt32BE(F+4);return I(Y,se)}encode(v,F,$=0){const Y=M(v),se=n(F);return se.writeInt32BE(Y.hi32,$),se.writeUInt32BE(Y.lo32,$+4),8}}ue.NearInt64BE=U;class K extends r{constructor(v){super(4,v)}decode(v,F=0){return n(v).readFloatLE(F)}encode(v,F,$=0){return n(F).writeFloatLE(v,$),4}}ue.Float=K;class j extends r{constructor(v){super(4,v)}decode(v,F=0){return n(v).readFloatBE(F)}encode(v,F,$=0){return n(F).writeFloatBE(v,$),4}}ue.FloatBE=j;class J extends r{constructor(v){super(8,v)}decode(v,F=0){return n(v).readDoubleLE(F)}encode(v,F,$=0){return n(F).writeDoubleLE(v,$),8}}ue.Double=J;class ne extends r{constructor(v){super(8,v)}decode(v,F=0){return n(v).readDoubleBE(F)}encode(v,F,$=0){return n(F).writeDoubleBE(v,$),8}}ue.DoubleBE=ne;class X extends r{constructor(v,F,$){if(!(v instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(F instanceof a&&F.isCount()||Number.isInteger(F)&&0<=F))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let Y=-1;!(F instanceof a)&&0<v.span&&(Y=F*v.span),super(Y,$),this.elementLayout=v,this.count=F}getSpan(v,F=0){if(0<=this.span)return this.span;let $=0,Y=this.count;if(Y instanceof a&&(Y=Y.decode(v,F)),0<this.elementLayout.span)$=Y*this.elementLayout.span;else{let se=0;for(;se<Y;)$+=this.elementLayout.getSpan(v,F+$),++se}return $}decode(v,F=0){const $=[];let Y=0,se=this.count;for(se instanceof a&&(se=se.decode(v,F));Y<se;)$.push(this.elementLayout.decode(v,F)),F+=this.elementLayout.getSpan(v,F),Y+=1;return $}encode(v,F,$=0){const Y=this.elementLayout,se=v.reduce((fe,re)=>fe+Y.encode(re,F,$+fe),0);return this.count instanceof a&&this.count.encode(v.length,F,$),se}}ue.Sequence=X;class Z extends r{constructor(v,F,$){if(!(Array.isArray(v)&&v.reduce((se,fe)=>se&&fe instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof F=="boolean"&&$===void 0&&($=F,F=void 0);for(const se of v)if(0>se.span&&se.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let Y=-1;try{Y=v.reduce((se,fe)=>se+fe.getSpan(),0)}catch{}super(Y,F),this.fields=v,this.decodePrefixes=!!$}getSpan(v,F=0){if(0<=this.span)return this.span;let $=0;try{$=this.fields.reduce((Y,se)=>{const fe=se.getSpan(v,F);return F+=fe,Y+fe},0)}catch{throw new RangeError("indeterminate span")}return $}decode(v,F=0){e(v);const $=this.makeDestinationObject();for(const Y of this.fields)if(Y.property!==void 0&&($[Y.property]=Y.decode(v,F)),F+=Y.getSpan(v,F),this.decodePrefixes&&v.length===F)break;return $}encode(v,F,$=0){const Y=$;let se=0,fe=0;for(const re of this.fields){let xe=re.span;if(fe=0<xe?xe:0,re.property!==void 0){const ye=v[re.property];ye!==void 0&&(fe=re.encode(ye,F,$),0>xe&&(xe=re.getSpan(F,$)))}se=$,$+=xe}return se+fe-Y}fromArray(v){const F=this.makeDestinationObject();for(const $ of this.fields)$.property!==void 0&&0<v.length&&(F[$.property]=v.shift());return F}layoutFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const F of this.fields)if(F.property===v)return F}offsetOf(v){if(typeof v!="string")throw new TypeError("property must be string");let F=0;for(const $ of this.fields){if($.property===v)return F;0>$.span?F=-1:0<=F&&(F+=$.span)}}}ue.Structure=Z;class G{constructor(v){this.property=v}decode(v,F){throw new Error("UnionDiscriminator is abstract")}encode(v,F,$){throw new Error("UnionDiscriminator is abstract")}}ue.UnionDiscriminator=G;class W extends G{constructor(v,F){if(!(v instanceof a&&v.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(F||v.property||"variant"),this.layout=v}decode(v,F){return this.layout.decode(v,F)}encode(v,F,$){return this.layout.encode(v,F,$)}}ue.UnionLayoutDiscriminator=W;class z extends r{constructor(v,F,$){let Y;if(v instanceof d||v instanceof p)Y=new W(new f(v));else if(v instanceof a&&v.isCount())Y=new W(v);else if(v instanceof G)Y=v;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(F===void 0&&(F=null),!(F===null||F instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(F!==null){if(0>F.span)throw new Error("defaultLayout must have constant span");F.property===void 0&&(F=F.replicate("content"))}let se=-1;F&&(se=F.span,0<=se&&(v instanceof d||v instanceof p)&&(se+=Y.layout.span)),super(se,$),this.discriminator=Y,this.usesPrefixDiscriminator=v instanceof d||v instanceof p,this.defaultLayout=F,this.registry={};let fe=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(re){return fe(re)},this.configGetSourceVariant=function(re){fe=re.bind(this)}}getSpan(v,F=0){if(0<=this.span)return this.span;const $=this.getVariant(v,F);if(!$)throw new Error("unable to determine span for unrecognized variant");return $.getSpan(v,F)}defaultGetSourceVariant(v){if(Object.prototype.hasOwnProperty.call(v,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(v,this.defaultLayout.property))return;const F=this.registry[v[this.discriminator.property]];if(F&&(!F.layout||F.property&&Object.prototype.hasOwnProperty.call(v,F.property)))return F}else for(const F in this.registry){const $=this.registry[F];if($.property&&Object.prototype.hasOwnProperty.call(v,$.property))return $}throw new Error("unable to infer src variant")}decode(v,F=0){let $;const Y=this.discriminator,se=Y.decode(v,F),fe=this.registry[se];if(fe===void 0){const re=this.defaultLayout;let xe=0;this.usesPrefixDiscriminator&&(xe=Y.layout.span),$=this.makeDestinationObject(),$[Y.property]=se,$[re.property]=re.decode(v,F+xe)}else $=fe.decode(v,F);return $}encode(v,F,$=0){const Y=this.getSourceVariant(v);if(Y===void 0){const se=this.discriminator,fe=this.defaultLayout;let re=0;return this.usesPrefixDiscriminator&&(re=se.layout.span),se.encode(v[se.property],F,$),re+fe.encode(v[fe.property],F,$+re)}return Y.encode(v,F,$)}addVariant(v,F,$){const Y=new _(this,v,F,$);return this.registry[v]=Y,Y}getVariant(v,F=0){let $;return v instanceof Uint8Array?$=this.discriminator.decode(v,F):$=v,this.registry[$]}}ue.Union=z;class _ extends r{constructor(v,F,$,Y){if(!(v instanceof z))throw new TypeError("union must be a Union");if(!Number.isInteger(F)||0>F)throw new TypeError("variant must be a (non-negative) integer");if(typeof $=="string"&&Y===void 0&&(Y=$,$=null),$){if(!($ instanceof r))throw new TypeError("layout must be a Layout");if(v.defaultLayout!==null&&0<=$.span&&$.span>v.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof Y!="string")throw new TypeError("variant must have a String property")}let se=v.span;0>v.span&&(se=$?$.span:0,0<=se&&v.usesPrefixDiscriminator&&(se+=v.discriminator.layout.span)),super(se,Y),this.union=v,this.variant=F,this.layout=$||null}getSpan(v,F=0){if(0<=this.span)return this.span;let $=0;this.union.usesPrefixDiscriminator&&($=this.union.discriminator.layout.span);let Y=0;return this.layout&&(Y=this.layout.getSpan(v,F+$)),$+Y}decode(v,F=0){const $=this.makeDestinationObject();if(this!==this.union.getVariant(v,F))throw new Error("variant mismatch");let Y=0;return this.union.usesPrefixDiscriminator&&(Y=this.union.discriminator.layout.span),this.layout?$[this.property]=this.layout.decode(v,F+Y):this.property?$[this.property]=!0:this.union.usesPrefixDiscriminator&&($[this.union.discriminator.property]=this.variant),$}encode(v,F,$=0){let Y=0;if(this.union.usesPrefixDiscriminator&&(Y=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(v,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,F,$);let se=Y;if(this.layout&&(this.layout.encode(v[this.property],F,$+Y),se+=this.layout.getSpan(F,$+Y),0<=this.union.span&&se>this.union.span))throw new Error("encoded variant overruns containing union");return se}fromArray(v){if(this.layout)return this.layout.fromArray(v)}}ue.VariantLayout=_;function l(h){return 0>h&&(h+=4294967296),h}class m extends r{constructor(v,F,$){if(!(v instanceof d||v instanceof p))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof F=="string"&&$===void 0&&($=F,F=!1),4<v.span)throw new RangeError("word cannot exceed 32 bits");super(v.span,$),this.word=v,this.msb=!!F,this.fields=[];let Y=0;this._packedSetValue=function(se){return Y=l(se),this},this._packedGetValue=function(){return Y}}decode(v,F=0){const $=this.makeDestinationObject(),Y=this.word.decode(v,F);this._packedSetValue(Y);for(const se of this.fields)se.property!==void 0&&($[se.property]=se.decode(v));return $}encode(v,F,$=0){const Y=this.word.decode(F,$);this._packedSetValue(Y);for(const se of this.fields)if(se.property!==void 0){const fe=v[se.property];fe!==void 0&&se.encode(fe)}return this.word.encode(this._packedGetValue(),F,$)}addField(v,F){const $=new b(this,v,F);return this.fields.push($),$}addBoolean(v){const F=new E(this,v);return this.fields.push(F),F}fieldFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const F of this.fields)if(F.property===v)return F}}ue.BitStructure=m;class b{constructor(v,F,$){if(!(v instanceof m))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(F)||0>=F)throw new TypeError("bits must be positive integer");const Y=8*v.span,se=v.fields.reduce((fe,re)=>fe+re.bits,0);if(F+se>Y)throw new Error("bits too long for span remainder ("+(Y-se)+" of "+Y+" remain)");this.container=v,this.bits=F,this.valueMask=(1<<F)-1,F===32&&(this.valueMask=4294967295),this.start=se,this.container.msb&&(this.start=Y-se-F),this.wordMask=l(this.valueMask<<this.start),this.property=$}decode(v,F){const $=this.container._packedGetValue();return l($&this.wordMask)>>>this.start}encode(v){if(typeof v!="number"||!Number.isInteger(v)||v!==l(v&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const F=this.container._packedGetValue(),$=l(v<<this.start);this.container._packedSetValue(l(F&~this.wordMask)|$)}}ue.BitField=b;class E extends b{constructor(v,F){super(v,1,F)}decode(v,F){return!!super.decode(v,F)}encode(v){typeof v=="boolean"&&(v=+v),super.encode(v)}}ue.Boolean=E;class S extends r{constructor(v,F){if(!(v instanceof a&&v.isCount()||Number.isInteger(v)&&0<=v))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let $=-1;v instanceof a||($=v),super($,F),this.length=v}getSpan(v,F){let $=this.span;return 0>$&&($=this.length.decode(v,F)),$}decode(v,F=0){let $=this.span;return 0>$&&($=this.length.decode(v,F)),n(v).slice(F,F+$)}encode(v,F,$){let Y=this.length;if(this.length instanceof a&&(Y=v.length),!(v instanceof Uint8Array&&Y===v.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+Y+") Uint8Array as src");if($+Y>F.length)throw new RangeError("encoding overruns Uint8Array");const se=n(v);return n(F).write(se.toString("hex"),$,Y,"hex"),this.length instanceof a&&this.length.encode(Y,F,$),Y}}ue.Blob=S;class P extends r{constructor(v){super(-1,v)}getSpan(v,F=0){e(v);let $=F;for(;$<v.length&&v[$]!==0;)$+=1;return 1+$-F}decode(v,F=0){const $=this.getSpan(v,F);return n(v).slice(F,F+$-1).toString("utf-8")}encode(v,F,$=0){typeof v!="string"&&(v=String(v));const Y=t.Buffer.from(v,"utf8"),se=Y.length;if($+se>F.length)throw new RangeError("encoding overruns Buffer");const fe=n(F);return Y.copy(fe,$),fe[$+se]=0,se+1}}ue.CString=P;class O extends r{constructor(v,F){if(typeof v=="string"&&F===void 0&&(F=v,v=void 0),v===void 0)v=-1;else if(!Number.isInteger(v))throw new TypeError("maxSpan must be an integer");super(-1,F),this.maxSpan=v}getSpan(v,F=0){return e(v),v.length-F}decode(v,F=0){const $=this.getSpan(v,F);if(0<=this.maxSpan&&this.maxSpan<$)throw new RangeError("text length exceeds maxSpan");return n(v).slice(F,F+$).toString("utf-8")}encode(v,F,$=0){typeof v!="string"&&(v=String(v));const Y=t.Buffer.from(v,"utf8"),se=Y.length;if(0<=this.maxSpan&&this.maxSpan<se)throw new RangeError("text length exceeds maxSpan");if($+se>F.length)throw new RangeError("encoding overruns Buffer");return Y.copy(n(F),$),se}}ue.UTF8=O;class A extends r{constructor(v,F){super(0,F),this.value=v}decode(v,F){return this.value}encode(v,F,$){return 0}}return ue.Constant=A,ue.greedy=(h,v)=>new o(h,v),ue.offset=(h,v,F)=>new f(h,v,F),ue.u8=h=>new d(1,h),ue.u16=h=>new d(2,h),ue.u24=h=>new d(3,h),ue.u32=h=>new d(4,h),ue.u40=h=>new d(5,h),ue.u48=h=>new d(6,h),ue.nu64=h=>new R(h),ue.u16be=h=>new p(2,h),ue.u24be=h=>new p(3,h),ue.u32be=h=>new p(4,h),ue.u40be=h=>new p(5,h),ue.u48be=h=>new p(6,h),ue.nu64be=h=>new N(h),ue.s8=h=>new y(1,h),ue.s16=h=>new y(2,h),ue.s24=h=>new y(3,h),ue.s32=h=>new y(4,h),ue.s40=h=>new y(5,h),ue.s48=h=>new y(6,h),ue.ns64=h=>new D(h),ue.s16be=h=>new B(2,h),ue.s24be=h=>new B(3,h),ue.s32be=h=>new B(4,h),ue.s40be=h=>new B(5,h),ue.s48be=h=>new B(6,h),ue.ns64be=h=>new U(h),ue.f32=h=>new K(h),ue.f32be=h=>new j(h),ue.f64=h=>new J(h),ue.f64be=h=>new ne(h),ue.struct=(h,v,F)=>new Z(h,v,F),ue.bits=(h,v,F)=>new m(h,v,F),ue.seq=(h,v,F)=>new X(h,v,F),ue.union=(h,v,F)=>new z(h,v,F),ue.unionLayoutDiscriminator=(h,v)=>new W(h,v),ue.blob=(h,v)=>new S(h,v),ue.cstr=h=>new P(h),ue.utf8=(h,v)=>new O(h,v),ue.constant=(h,v)=>new A(h,v),ue}var ee=DA(),UA=8078e3,HA=8078001,$A=8078004,GA=8078005,qA=8078006,jA=8078011;function ay(t){return Array.isArray(t)?"%5B"+t.map(ay).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function zA([t,e]){return`${t}=${ay(e)}`}function VA(t){const e=Object.entries(t).map(zA).join("&");return btoa(e)}function WA(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${VA(e)}'`),`${n}\``}}var po=class extends Error{cause=this.cause;context;constructor(...[t,e]){let n,r;if(e){const{cause:i,...a}=e;i&&(r={cause:i}),Object.keys(a).length>0&&(n=a)}const s=WA(t,n);super(s,r),this.context={__code:t,...n},this.name="SolanaError"}};function KA(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function QA(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(KA(e,t));return t.write(e,n,0),n}})}function ZA(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Ws(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function YA(t,e){if(Ws(t)!==Ws(e))throw new po($A);if(Ws(t)&&Ws(e)&&t.fixedSize!==e.fixedSize)throw new po(GA,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Ws(t)&&!Ws(e)&&t.maxSize!==e.maxSize)throw new po(qA,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function JA(t,e,n=0){if(e.length-n<=0)throw new po(UA,{codecDescription:t})}function XA(t,e,n,r=0){const s=n.length-r;if(s<e)throw new po(HA,{bytesLength:s,codecDescription:t,expected:e})}function eE(t,e,n,r){if(r<e||r>n)throw new po(jA,{codecDescription:t,max:n,min:e,value:r})}function cy(t){return t?.endian!==1}function tE(t){return QA({fixedSize:t.size,write(e,n,r){t.range&&eE(t.name,t.range[0],t.range[1],e);const s=new ArrayBuffer(t.size);return t.set(new DataView(s),e,cy(t.config)),n.set(new Uint8Array(s),r),r+t.size}})}function nE(t){return ZA({fixedSize:t.size,read(e,n=0){JA(t.name,e,n),XA(t.name,t.size,e,n);const r=new DataView(rE(e,n,t.size));return[t.get(r,cy(t.config)),n+t.size]}})}function rE(t,e,n){const r=t.byteOffset+(e??0),s=n??t.byteLength;return t.buffer.slice(r,r+s)}var iE=(t={})=>tE({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),sE=(t={})=>nE({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),oE=(t={})=>YA(iE(t),sE(t));class aE extends TypeError{constructor(e,n){let r;const{message:s,explanation:i,...a}=e,{path:o}=e,f=o.length===0?s:`At path: ${o.join(".")} -- ${s}`;super(i??f),i!=null&&(this.cause=f),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function cE(t){return gc(t)&&typeof t[Symbol.iterator]=="function"}function gc(t){return typeof t=="object"&&t!=null}function gu(t){return gc(t)&&!Array.isArray(t)}function ur(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function uE(t){const{done:e,value:n}=t.next();return e?void 0:n}function lE(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:i}=e,{type:a}=n,{refinement:o,message:f=`Expected a value of type \`${a}\`${o?` with refinement \`${o}\``:""}, but received: \`${ur(r)}\``}=t;return{value:r,type:a,refinement:o,key:s[s.length-1],path:s,branch:i,...t,message:f}}function*Tp(t,e,n,r){cE(t)||(t=[t]);for(const s of t){const i=lE(s,e,n,r);i&&(yield i)}}function*wh(t,e,n={}){const{path:r=[],branch:s=[t],coerce:i=!1,mask:a=!1}=n,o={path:r,branch:s,mask:a};i&&(t=e.coercer(t,o));let f="valid";for(const d of e.validator(t,o))d.explanation=n.message,f="not_valid",yield[d,void 0];for(let[d,p,y]of e.entries(t,o)){const B=wh(p,y,{path:d===void 0?r:[...r,d],branch:d===void 0?s:[...s,p],coerce:i,mask:a,message:n.message});for(const x of B)x[0]?(f=x[0].refinement!=null?"not_refined":"not_valid",yield[x[0],void 0]):i&&(p=x[1],d===void 0?t=p:t instanceof Map?t.set(d,p):t instanceof Set?t.add(p):gc(t)&&(p!==void 0||d in t)&&(t[d]=p))}if(f!=="not_valid")for(const d of e.refiner(t,o))d.explanation=n.message,f="not_refined",yield[d,void 0];f==="valid"&&(yield[void 0,t])}let Mr=class{constructor(e){const{type:n,schema:r,validator:s,refiner:i,coercer:a=f=>f,entries:o=function*(){}}=e;this.type=n,this.schema=r,this.entries=o,this.coercer=a,s?this.validator=(f,d)=>{const p=s(f,d);return Tp(p,d,this,f)}:this.validator=()=>[],i?this.refiner=(f,d)=>{const p=i(f,d);return Tp(p,d,this,f)}:this.refiner=()=>[]}assert(e,n){return fE(e,this,n)}create(e,n){return Se(e,this,n)}is(e){return uy(e,this)}mask(e,n){return dE(e,this,n)}validate(e,n={}){return yc(e,this,n)}};function fE(t,e,n){const r=yc(t,e,{message:n});if(r[0])throw r[0]}function Se(t,e,n){const r=yc(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function dE(t,e,n){const r=yc(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function uy(t,e){return!yc(t,e)[0]}function yc(t,e,n={}){const r=wh(t,e,n),s=uE(r);return s[0]?[new aE(s[0],function*(){for(const a of r)a[0]&&(yield a[0])}),void 0]:[void 0,s[1]]}function Ds(t,e){return new Mr({type:t,schema:null,validator:e})}function hE(){return Ds("any",()=>!0)}function Me(t){return new Mr({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ur(e)}`}})}function Br(){return Ds("boolean",t=>typeof t=="boolean")}function bh(t){return Ds("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ur(e)}`)}function Vt(t){const e=ur(t),n=typeof t;return new Mr({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${ur(r)}`}})}function pE(){return Ds("never",()=>!1)}function Pe(t){return new Mr({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function oe(){return Ds("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ur(t)}`)}function qe(t){return new Mr({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function ly(t,e){return new Mr({type:"record",schema:null,*entries(n){if(gc(n))for(const r in n){const s=n[r];yield[r,r,t],yield[r,s,e]}},validator(n){return gu(n)||`Expected an object, but received: ${ur(n)}`},coercer(n){return gu(n)?{...n}:n}})}function Ie(){return Ds("string",t=>typeof t=="string"||`Expected a string, but received: ${ur(t)}`)}function _h(t){const e=pE();return new Mr({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],t[s]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${ur(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function ve(t){const e=Object.keys(t);return new Mr({type:"type",schema:t,*entries(n){if(gc(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return gu(n)||`Expected an object, but received: ${ur(n)}`},coercer(n){return gu(n)?{...n}:n}})}function Rn(t){const e=t.map(n=>n.type).join(" | ");return new Mr({type:"union",schema:null,coercer(n,r){for(const s of t){const[i,a]=s.validate(n,{coerce:!0,mask:r.mask});if(!i)return a}return n},validator(n,r){const s=[];for(const i of t){const[...a]=wh(n,i,r),[o]=a;if(o[0])for(const[f]of a)f&&s.push(f);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ur(n)}`,...s]}})}function zo(){return Ds("unknown",()=>!0)}function vc(t,e,n){return new Mr({...t,coercer:(r,s)=>uy(r,e)?t.coercer(n(r,s),s):t.coercer(r,s)})}var Fc,mE=new Uint8Array(16);function fy(){if(!Fc&&(Fc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Fc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fc(mE)}const gE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function El(t){return typeof t=="string"&&gE.test(t)}var hn=[];for(var bf=0;bf<256;++bf)hn.push((bf+256).toString(16).substr(1));function xl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(hn[t[e+0]]+hn[t[e+1]]+hn[t[e+2]]+hn[t[e+3]]+"-"+hn[t[e+4]]+hn[t[e+5]]+"-"+hn[t[e+6]]+hn[t[e+7]]+"-"+hn[t[e+8]]+hn[t[e+9]]+"-"+hn[t[e+10]]+hn[t[e+11]]+hn[t[e+12]]+hn[t[e+13]]+hn[t[e+14]]+hn[t[e+15]]).toLowerCase();if(!El(n))throw TypeError("Stringified UUID is invalid");return n}var Rp,_f,Af=0,Ef=0;function yE(t,e,n){var r=e&&n||0,s=e||new Array(16);t=t||{};var i=t.node||Rp,a=t.clockseq!==void 0?t.clockseq:_f;if(i==null||a==null){var o=t.random||(t.rng||fy)();i==null&&(i=Rp=[o[0]|1,o[1],o[2],o[3],o[4],o[5]]),a==null&&(a=_f=(o[6]<<8|o[7])&16383)}var f=t.msecs!==void 0?t.msecs:Date.now(),d=t.nsecs!==void 0?t.nsecs:Ef+1,p=f-Af+(d-Ef)/1e4;if(p<0&&t.clockseq===void 0&&(a=a+1&16383),(p<0||f>Af)&&t.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Af=f,Ef=d,_f=a,f+=122192928e5;var y=((f&268435455)*1e4+d)%4294967296;s[r++]=y>>>24&255,s[r++]=y>>>16&255,s[r++]=y>>>8&255,s[r++]=y&255;var B=f/4294967296*1e4&268435455;s[r++]=B>>>8&255,s[r++]=B&255,s[r++]=B>>>24&15|16,s[r++]=B>>>16&255,s[r++]=a>>>8|128,s[r++]=a&255;for(var x=0;x<6;++x)s[r+x]=i[x];return e||xl(s)}function dy(t){if(!El(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function vE(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var wE="6ba7b810-9dad-11d1-80b4-00c04fd430c8",bE="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function hy(t,e,n){function r(s,i,a,o){if(typeof s=="string"&&(s=vE(s)),typeof i=="string"&&(i=dy(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var f=new Uint8Array(16+s.length);if(f.set(i),f.set(s,i.length),f=n(f),f[6]=f[6]&15|e,f[8]=f[8]&63|128,a){o=o||0;for(var d=0;d<16;++d)a[o+d]=f[d];return a}return xl(f)}try{r.name=t}catch{}return r.DNS=wE,r.URL=bE,r}function _E(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return AE(EE(xE(t),t.length*8))}function AE(t){for(var e=[],n=t.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=t[s>>5]>>>s%32&255,a=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(a)}return e}function py(t){return(t+64>>>9<<4)+14+1}function EE(t,e){t[e>>5]|=128<<e%32,t[py(e)-1]=e;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,a=0;a<t.length;a+=16){var o=n,f=r,d=s,p=i;n=vn(n,r,s,i,t[a],7,-680876936),i=vn(i,n,r,s,t[a+1],12,-389564586),s=vn(s,i,n,r,t[a+2],17,606105819),r=vn(r,s,i,n,t[a+3],22,-1044525330),n=vn(n,r,s,i,t[a+4],7,-176418897),i=vn(i,n,r,s,t[a+5],12,1200080426),s=vn(s,i,n,r,t[a+6],17,-1473231341),r=vn(r,s,i,n,t[a+7],22,-45705983),n=vn(n,r,s,i,t[a+8],7,1770035416),i=vn(i,n,r,s,t[a+9],12,-1958414417),s=vn(s,i,n,r,t[a+10],17,-42063),r=vn(r,s,i,n,t[a+11],22,-1990404162),n=vn(n,r,s,i,t[a+12],7,1804603682),i=vn(i,n,r,s,t[a+13],12,-40341101),s=vn(s,i,n,r,t[a+14],17,-1502002290),r=vn(r,s,i,n,t[a+15],22,1236535329),n=wn(n,r,s,i,t[a+1],5,-165796510),i=wn(i,n,r,s,t[a+6],9,-1069501632),s=wn(s,i,n,r,t[a+11],14,643717713),r=wn(r,s,i,n,t[a],20,-373897302),n=wn(n,r,s,i,t[a+5],5,-701558691),i=wn(i,n,r,s,t[a+10],9,38016083),s=wn(s,i,n,r,t[a+15],14,-660478335),r=wn(r,s,i,n,t[a+4],20,-405537848),n=wn(n,r,s,i,t[a+9],5,568446438),i=wn(i,n,r,s,t[a+14],9,-1019803690),s=wn(s,i,n,r,t[a+3],14,-187363961),r=wn(r,s,i,n,t[a+8],20,1163531501),n=wn(n,r,s,i,t[a+13],5,-1444681467),i=wn(i,n,r,s,t[a+2],9,-51403784),s=wn(s,i,n,r,t[a+7],14,1735328473),r=wn(r,s,i,n,t[a+12],20,-1926607734),n=bn(n,r,s,i,t[a+5],4,-378558),i=bn(i,n,r,s,t[a+8],11,-2022574463),s=bn(s,i,n,r,t[a+11],16,1839030562),r=bn(r,s,i,n,t[a+14],23,-35309556),n=bn(n,r,s,i,t[a+1],4,-1530992060),i=bn(i,n,r,s,t[a+4],11,1272893353),s=bn(s,i,n,r,t[a+7],16,-155497632),r=bn(r,s,i,n,t[a+10],23,-1094730640),n=bn(n,r,s,i,t[a+13],4,681279174),i=bn(i,n,r,s,t[a],11,-358537222),s=bn(s,i,n,r,t[a+3],16,-722521979),r=bn(r,s,i,n,t[a+6],23,76029189),n=bn(n,r,s,i,t[a+9],4,-640364487),i=bn(i,n,r,s,t[a+12],11,-421815835),s=bn(s,i,n,r,t[a+15],16,530742520),r=bn(r,s,i,n,t[a+2],23,-995338651),n=_n(n,r,s,i,t[a],6,-198630844),i=_n(i,n,r,s,t[a+7],10,1126891415),s=_n(s,i,n,r,t[a+14],15,-1416354905),r=_n(r,s,i,n,t[a+5],21,-57434055),n=_n(n,r,s,i,t[a+12],6,1700485571),i=_n(i,n,r,s,t[a+3],10,-1894986606),s=_n(s,i,n,r,t[a+10],15,-1051523),r=_n(r,s,i,n,t[a+1],21,-2054922799),n=_n(n,r,s,i,t[a+8],6,1873313359),i=_n(i,n,r,s,t[a+15],10,-30611744),s=_n(s,i,n,r,t[a+6],15,-1560198380),r=_n(r,s,i,n,t[a+13],21,1309151649),n=_n(n,r,s,i,t[a+4],6,-145523070),i=_n(i,n,r,s,t[a+11],10,-1120210379),s=_n(s,i,n,r,t[a+2],15,718787259),r=_n(r,s,i,n,t[a+9],21,-343485551),n=vi(n,o),r=vi(r,f),s=vi(s,d),i=vi(i,p)}return[n,r,s,i]}function xE(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(py(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function vi(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function IE(t,e){return t<<e|t>>>32-e}function Il(t,e,n,r,s,i){return vi(IE(vi(vi(e,t),vi(r,i)),s),n)}function vn(t,e,n,r,s,i,a){return Il(e&n|~e&r,t,e,s,i,a)}function wn(t,e,n,r,s,i,a){return Il(e&r|n&~r,t,e,s,i,a)}function bn(t,e,n,r,s,i,a){return Il(e^n^r,t,e,s,i,a)}function _n(t,e,n,r,s,i,a){return Il(n^(e|~r),t,e,s,i,a)}var SE=hy("v3",48,_E);function BE(t,e,n){t=t||{};var r=t.random||(t.rng||fy)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=r[s];return e}return xl(r)}function kE(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function xf(t,e){return t<<e|t>>>32-e}function TE(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var s=0;s<r.length;++s)t.push(r.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,a=Math.ceil(i/16),o=new Array(a),f=0;f<a;++f){for(var d=new Uint32Array(16),p=0;p<16;++p)d[p]=t[f*64+p*4]<<24|t[f*64+p*4+1]<<16|t[f*64+p*4+2]<<8|t[f*64+p*4+3];o[f]=d}o[a-1][14]=(t.length-1)*8/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=(t.length-1)*8&4294967295;for(var y=0;y<a;++y){for(var B=new Uint32Array(80),x=0;x<16;++x)B[x]=o[y][x];for(var M=16;M<80;++M)B[M]=xf(B[M-3]^B[M-8]^B[M-14]^B[M-16],1);for(var I=n[0],R=n[1],N=n[2],D=n[3],U=n[4],K=0;K<80;++K){var j=Math.floor(K/20),J=xf(I,5)+kE(j,R,N,D)+U+e[j]+B[K]>>>0;U=D,D=N,N=xf(R,30)>>>0,R=I,I=J}n[0]=n[0]+I>>>0,n[1]=n[1]+R>>>0,n[2]=n[2]+N>>>0,n[3]=n[3]+D>>>0,n[4]=n[4]+U>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var RE=hy("v5",80,TE);const ME="00000000-0000-0000-0000-000000000000";function CE(t){if(!El(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const PE=Object.freeze(Object.defineProperty({__proto__:null,NIL:ME,parse:dy,stringify:xl,v1:yE,v3:SE,v4:BE,v5:RE,validate:El,version:CE},Symbol.toStringTag,{value:"Module"})),my=fh(PE);var If,Mp;function NE(){if(Mp)return If;Mp=1;const t=my.v4;return If=function(n,r,s,i){if(typeof n!="string")throw new TypeError(n+" must be a string");i=i||{};const a=typeof i.version=="number"?i.version:2;if(a!==1&&a!==2)throw new TypeError(a+" must be 1 or 2");const o={method:n};if(a===2&&(o.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");o.params=r}if(typeof s>"u"){const f=typeof i.generator=="function"?i.generator:function(){return t()};o.id=f(o,i)}else a===2&&s===null?i.notificationIdNull&&(o.id=null):o.id=s;return o},If}var Sf,Cp;function LE(){if(Cp)return Sf;Cp=1;const t=my.v4,e=NE(),n=function(r,s){if(!(this instanceof n))return new n(r,s);s||(s={}),this.options={reviver:typeof s.reviver<"u"?s.reviver:null,replacer:typeof s.replacer<"u"?s.replacer:null,generator:typeof s.generator<"u"?s.generator:function(){return t()},version:typeof s.version<"u"?s.version:2,notificationIdNull:typeof s.notificationIdNull=="boolean"?s.notificationIdNull:!1},this.callServer=r};return Sf=n,n.prototype.request=function(r,s,i,a){const o=this;let f=null;const d=Array.isArray(r)&&typeof s=="function";if(this.options.version===1&&d)throw new TypeError("JSON-RPC 1.0 does not support batching");if(d||!d&&r&&typeof r=="object"&&typeof s=="function")a=s,f=r;else{typeof i=="function"&&(a=i,i=void 0);const B=typeof a=="function";try{f=e(r,s,i,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(x){if(B)return a(x);throw x}if(!B)return f}let y;try{y=JSON.stringify(f,this.options.replacer)}catch(B){return a(B)}return this.callServer(y,function(B,x){o._parseResponse(B,x,a)}),f},n.prototype._parseResponse=function(r,s,i){if(r){i(r);return}if(!s)return i();let a;try{a=JSON.parse(s,this.options.reviver)}catch(o){return i(o)}if(i.length===3)if(Array.isArray(a)){const o=function(d){return typeof d.error<"u"},f=function(d){return!o(d)};return i(null,a.filter(o),a.filter(f))}else return i(null,a.error,a.result);i(null,a)},Sf}var OE=LE();const FE=Ni(OE);var Bf={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Pp;function DE(){return Pp||(Pp=1,function(t){const e=vl(),n=wl(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=D,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const g=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(g,c),g.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(g){if(g>s)throw new RangeError('The value "'+g+'" is invalid for option "size"');const c=new Uint8Array(g);return Object.setPrototypeOf(c,o.prototype),c}function o(g,c,u){if(typeof g=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(g)}return f(g,c,u)}o.poolSize=8192;function f(g,c,u){if(typeof g=="string")return B(g,c);if(ArrayBuffer.isView(g))return M(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(de(g,ArrayBuffer)||g&&de(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(de(g,SharedArrayBuffer)||g&&de(g.buffer,SharedArrayBuffer)))return I(g,c,u);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const w=g.valueOf&&g.valueOf();if(w!=null&&w!==g)return o.from(w,c,u);const k=R(g);if(k)return k;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return o.from(g[Symbol.toPrimitive]("string"),c,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}o.from=function(g,c,u){return f(g,c,u)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function d(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function p(g,c,u){return d(g),g<=0?a(g):c!==void 0?typeof u=="string"?a(g).fill(c,u):a(g).fill(c):a(g)}o.alloc=function(g,c,u){return p(g,c,u)};function y(g){return d(g),a(g<0?0:N(g)|0)}o.allocUnsafe=function(g){return y(g)},o.allocUnsafeSlow=function(g){return y(g)};function B(g,c){if((typeof c!="string"||c==="")&&(c="utf8"),!o.isEncoding(c))throw new TypeError("Unknown encoding: "+c);const u=U(g,c)|0;let w=a(u);const k=w.write(g,c);return k!==u&&(w=w.slice(0,k)),w}function x(g){const c=g.length<0?0:N(g.length)|0,u=a(c);for(let w=0;w<c;w+=1)u[w]=g[w]&255;return u}function M(g){if(de(g,Uint8Array)){const c=new Uint8Array(g);return I(c.buffer,c.byteOffset,c.byteLength)}return x(g)}function I(g,c,u){if(c<0||g.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<c+(u||0))throw new RangeError('"length" is outside of buffer bounds');let w;return c===void 0&&u===void 0?w=new Uint8Array(g):u===void 0?w=new Uint8Array(g,c):w=new Uint8Array(g,c,u),Object.setPrototypeOf(w,o.prototype),w}function R(g){if(o.isBuffer(g)){const c=N(g.length)|0,u=a(c);return u.length===0||g.copy(u,0,0,c),u}if(g.length!==void 0)return typeof g.length!="number"||Ae(g.length)?a(0):x(g);if(g.type==="Buffer"&&Array.isArray(g.data))return x(g.data)}function N(g){if(g>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return g|0}function D(g){return+g!=g&&(g=0),o.alloc(+g)}o.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==o.prototype},o.compare=function(c,u){if(de(c,Uint8Array)&&(c=o.from(c,c.offset,c.byteLength)),de(u,Uint8Array)&&(u=o.from(u,u.offset,u.byteLength)),!o.isBuffer(c)||!o.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===u)return 0;let w=c.length,k=u.length;for(let L=0,H=Math.min(w,k);L<H;++L)if(c[L]!==u[L]){w=c[L],k=u[L];break}return w<k?-1:k<w?1:0},o.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(c,u){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return o.alloc(0);let w;if(u===void 0)for(u=0,w=0;w<c.length;++w)u+=c[w].length;const k=o.allocUnsafe(u);let L=0;for(w=0;w<c.length;++w){let H=c[w];if(de(H,Uint8Array))L+H.length>k.length?(o.isBuffer(H)||(H=o.from(H)),H.copy(k,L)):Uint8Array.prototype.set.call(k,H,L);else if(o.isBuffer(H))H.copy(k,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=H.length}return k};function U(g,c){if(o.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||de(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const u=g.length,w=arguments.length>2&&arguments[2]===!0;if(!w&&u===0)return 0;let k=!1;for(;;)switch(c){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return T(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return te(g).length;default:if(k)return w?-1:T(g).length;c=(""+c).toLowerCase(),k=!0}}o.byteLength=U;function K(g,c,u){let w=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,c>>>=0,u<=c))return"";for(g||(g="utf8");;)switch(g){case"hex":return P(this,c,u);case"utf8":case"utf-8":return l(this,c,u);case"ascii":return E(this,c,u);case"latin1":case"binary":return S(this,c,u);case"base64":return _(this,c,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,c,u);default:if(w)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),w=!0}}o.prototype._isBuffer=!0;function j(g,c,u){const w=g[c];g[c]=g[u],g[u]=w}o.prototype.swap16=function(){const c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<c;u+=2)j(this,u,u+1);return this},o.prototype.swap32=function(){const c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<c;u+=4)j(this,u,u+3),j(this,u+1,u+2);return this},o.prototype.swap64=function(){const c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<c;u+=8)j(this,u,u+7),j(this,u+1,u+6),j(this,u+2,u+5),j(this,u+3,u+4);return this},o.prototype.toString=function(){const c=this.length;return c===0?"":arguments.length===0?l(this,0,c):K.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(c){if(!o.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:o.compare(this,c)===0},o.prototype.inspect=function(){let c="";const u=t.INSPECT_MAX_BYTES;return c=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(c+=" ... "),"<Buffer "+c+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(c,u,w,k,L){if(de(c,Uint8Array)&&(c=o.from(c,c.offset,c.byteLength)),!o.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(u===void 0&&(u=0),w===void 0&&(w=c?c.length:0),k===void 0&&(k=0),L===void 0&&(L=this.length),u<0||w>c.length||k<0||L>this.length)throw new RangeError("out of range index");if(k>=L&&u>=w)return 0;if(k>=L)return-1;if(u>=w)return 1;if(u>>>=0,w>>>=0,k>>>=0,L>>>=0,this===c)return 0;let H=L-k,pe=w-u;const ge=Math.min(H,pe),me=this.slice(k,L),Ce=c.slice(u,w);for(let he=0;he<ge;++he)if(me[he]!==Ce[he]){H=me[he],pe=Ce[he];break}return H<pe?-1:pe<H?1:0};function J(g,c,u,w,k){if(g.length===0)return-1;if(typeof u=="string"?(w=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,Ae(u)&&(u=k?0:g.length-1),u<0&&(u=g.length+u),u>=g.length){if(k)return-1;u=g.length-1}else if(u<0)if(k)u=0;else return-1;if(typeof c=="string"&&(c=o.from(c,w)),o.isBuffer(c))return c.length===0?-1:ne(g,c,u,w,k);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(g,c,u):Uint8Array.prototype.lastIndexOf.call(g,c,u):ne(g,[c],u,w,k);throw new TypeError("val must be string, number or Buffer")}function ne(g,c,u,w,k){let L=1,H=g.length,pe=c.length;if(w!==void 0&&(w=String(w).toLowerCase(),w==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(g.length<2||c.length<2)return-1;L=2,H/=2,pe/=2,u/=2}function ge(Ce,he){return L===1?Ce[he]:Ce.readUInt16BE(he*L)}let me;if(k){let Ce=-1;for(me=u;me<H;me++)if(ge(g,me)===ge(c,Ce===-1?0:me-Ce)){if(Ce===-1&&(Ce=me),me-Ce+1===pe)return Ce*L}else Ce!==-1&&(me-=me-Ce),Ce=-1}else for(u+pe>H&&(u=H-pe),me=u;me>=0;me--){let Ce=!0;for(let he=0;he<pe;he++)if(ge(g,me+he)!==ge(c,he)){Ce=!1;break}if(Ce)return me}return-1}o.prototype.includes=function(c,u,w){return this.indexOf(c,u,w)!==-1},o.prototype.indexOf=function(c,u,w){return J(this,c,u,w,!0)},o.prototype.lastIndexOf=function(c,u,w){return J(this,c,u,w,!1)};function X(g,c,u,w){u=Number(u)||0;const k=g.length-u;w?(w=Number(w),w>k&&(w=k)):w=k;const L=c.length;w>L/2&&(w=L/2);let H;for(H=0;H<w;++H){const pe=parseInt(c.substr(H*2,2),16);if(Ae(pe))return H;g[u+H]=pe}return H}function Z(g,c,u,w){return ae(T(c,g.length-u),g,u,w)}function G(g,c,u,w){return ae(C(c),g,u,w)}function W(g,c,u,w){return ae(te(c),g,u,w)}function z(g,c,u,w){return ae(Q(c,g.length-u),g,u,w)}o.prototype.write=function(c,u,w,k){if(u===void 0)k="utf8",w=this.length,u=0;else if(w===void 0&&typeof u=="string")k=u,w=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(w)?(w=w>>>0,k===void 0&&(k="utf8")):(k=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const L=this.length-u;if((w===void 0||w>L)&&(w=L),c.length>0&&(w<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");let H=!1;for(;;)switch(k){case"hex":return X(this,c,u,w);case"utf8":case"utf-8":return Z(this,c,u,w);case"ascii":case"latin1":case"binary":return G(this,c,u,w);case"base64":return W(this,c,u,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,c,u,w);default:if(H)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),H=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(g,c,u){return c===0&&u===g.length?e.fromByteArray(g):e.fromByteArray(g.slice(c,u))}function l(g,c,u){u=Math.min(g.length,u);const w=[];let k=c;for(;k<u;){const L=g[k];let H=null,pe=L>239?4:L>223?3:L>191?2:1;if(k+pe<=u){let ge,me,Ce,he;switch(pe){case 1:L<128&&(H=L);break;case 2:ge=g[k+1],(ge&192)===128&&(he=(L&31)<<6|ge&63,he>127&&(H=he));break;case 3:ge=g[k+1],me=g[k+2],(ge&192)===128&&(me&192)===128&&(he=(L&15)<<12|(ge&63)<<6|me&63,he>2047&&(he<55296||he>57343)&&(H=he));break;case 4:ge=g[k+1],me=g[k+2],Ce=g[k+3],(ge&192)===128&&(me&192)===128&&(Ce&192)===128&&(he=(L&15)<<18|(ge&63)<<12|(me&63)<<6|Ce&63,he>65535&&he<1114112&&(H=he))}}H===null?(H=65533,pe=1):H>65535&&(H-=65536,w.push(H>>>10&1023|55296),H=56320|H&1023),w.push(H),k+=pe}return b(w)}const m=4096;function b(g){const c=g.length;if(c<=m)return String.fromCharCode.apply(String,g);let u="",w=0;for(;w<c;)u+=String.fromCharCode.apply(String,g.slice(w,w+=m));return u}function E(g,c,u){let w="";u=Math.min(g.length,u);for(let k=c;k<u;++k)w+=String.fromCharCode(g[k]&127);return w}function S(g,c,u){let w="";u=Math.min(g.length,u);for(let k=c;k<u;++k)w+=String.fromCharCode(g[k]);return w}function P(g,c,u){const w=g.length;(!c||c<0)&&(c=0),(!u||u<0||u>w)&&(u=w);let k="";for(let L=c;L<u;++L)k+=_e[g[L]];return k}function O(g,c,u){const w=g.slice(c,u);let k="";for(let L=0;L<w.length-1;L+=2)k+=String.fromCharCode(w[L]+w[L+1]*256);return k}o.prototype.slice=function(c,u){const w=this.length;c=~~c,u=u===void 0?w:~~u,c<0?(c+=w,c<0&&(c=0)):c>w&&(c=w),u<0?(u+=w,u<0&&(u=0)):u>w&&(u=w),u<c&&(u=c);const k=this.subarray(c,u);return Object.setPrototypeOf(k,o.prototype),k};function A(g,c,u){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+c>u)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(c,u,w){c=c>>>0,u=u>>>0,w||A(c,u,this.length);let k=this[c],L=1,H=0;for(;++H<u&&(L*=256);)k+=this[c+H]*L;return k},o.prototype.readUintBE=o.prototype.readUIntBE=function(c,u,w){c=c>>>0,u=u>>>0,w||A(c,u,this.length);let k=this[c+--u],L=1;for(;u>0&&(L*=256);)k+=this[c+--u]*L;return k},o.prototype.readUint8=o.prototype.readUInt8=function(c,u){return c=c>>>0,u||A(c,1,this.length),this[c]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(c,u){return c=c>>>0,u||A(c,2,this.length),this[c]|this[c+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(c,u){return c=c>>>0,u||A(c,2,this.length),this[c]<<8|this[c+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(c,u){return c=c>>>0,u||A(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(c,u){return c=c>>>0,u||A(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},o.prototype.readBigUInt64LE=ie(function(c){c=c>>>0,Ze(c,"offset");const u=this[c],w=this[c+7];(u===void 0||w===void 0)&&Ne(c,this.length-8);const k=u+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,L=this[++c]+this[++c]*2**8+this[++c]*2**16+w*2**24;return BigInt(k)+(BigInt(L)<<BigInt(32))}),o.prototype.readBigUInt64BE=ie(function(c){c=c>>>0,Ze(c,"offset");const u=this[c],w=this[c+7];(u===void 0||w===void 0)&&Ne(c,this.length-8);const k=u*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],L=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+w;return(BigInt(k)<<BigInt(32))+BigInt(L)}),o.prototype.readIntLE=function(c,u,w){c=c>>>0,u=u>>>0,w||A(c,u,this.length);let k=this[c],L=1,H=0;for(;++H<u&&(L*=256);)k+=this[c+H]*L;return L*=128,k>=L&&(k-=Math.pow(2,8*u)),k},o.prototype.readIntBE=function(c,u,w){c=c>>>0,u=u>>>0,w||A(c,u,this.length);let k=u,L=1,H=this[c+--k];for(;k>0&&(L*=256);)H+=this[c+--k]*L;return L*=128,H>=L&&(H-=Math.pow(2,8*u)),H},o.prototype.readInt8=function(c,u){return c=c>>>0,u||A(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},o.prototype.readInt16LE=function(c,u){c=c>>>0,u||A(c,2,this.length);const w=this[c]|this[c+1]<<8;return w&32768?w|4294901760:w},o.prototype.readInt16BE=function(c,u){c=c>>>0,u||A(c,2,this.length);const w=this[c+1]|this[c]<<8;return w&32768?w|4294901760:w},o.prototype.readInt32LE=function(c,u){return c=c>>>0,u||A(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},o.prototype.readInt32BE=function(c,u){return c=c>>>0,u||A(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},o.prototype.readBigInt64LE=ie(function(c){c=c>>>0,Ze(c,"offset");const u=this[c],w=this[c+7];(u===void 0||w===void 0)&&Ne(c,this.length-8);const k=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(w<<24);return(BigInt(k)<<BigInt(32))+BigInt(u+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)}),o.prototype.readBigInt64BE=ie(function(c){c=c>>>0,Ze(c,"offset");const u=this[c],w=this[c+7];(u===void 0||w===void 0)&&Ne(c,this.length-8);const k=(u<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt(k)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+w)}),o.prototype.readFloatLE=function(c,u){return c=c>>>0,u||A(c,4,this.length),n.read(this,c,!0,23,4)},o.prototype.readFloatBE=function(c,u){return c=c>>>0,u||A(c,4,this.length),n.read(this,c,!1,23,4)},o.prototype.readDoubleLE=function(c,u){return c=c>>>0,u||A(c,8,this.length),n.read(this,c,!0,52,8)},o.prototype.readDoubleBE=function(c,u){return c=c>>>0,u||A(c,8,this.length),n.read(this,c,!1,52,8)};function h(g,c,u,w,k,L){if(!o.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>k||c<L)throw new RangeError('"value" argument is out of bounds');if(u+w>g.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(c,u,w,k){if(c=+c,u=u>>>0,w=w>>>0,!k){const pe=Math.pow(2,8*w)-1;h(this,c,u,w,pe,0)}let L=1,H=0;for(this[u]=c&255;++H<w&&(L*=256);)this[u+H]=c/L&255;return u+w},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(c,u,w,k){if(c=+c,u=u>>>0,w=w>>>0,!k){const pe=Math.pow(2,8*w)-1;h(this,c,u,w,pe,0)}let L=w-1,H=1;for(this[u+L]=c&255;--L>=0&&(H*=256);)this[u+L]=c/H&255;return u+w},o.prototype.writeUint8=o.prototype.writeUInt8=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,1,255,0),this[u]=c&255,u+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,2,65535,0),this[u]=c&255,this[u+1]=c>>>8,u+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,2,65535,0),this[u]=c>>>8,this[u+1]=c&255,u+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,4,4294967295,0),this[u+3]=c>>>24,this[u+2]=c>>>16,this[u+1]=c>>>8,this[u]=c&255,u+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,4,4294967295,0),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4};function v(g,c,u,w,k){ke(c,w,k,g,u,7);let L=Number(c&BigInt(4294967295));g[u++]=L,L=L>>8,g[u++]=L,L=L>>8,g[u++]=L,L=L>>8,g[u++]=L;let H=Number(c>>BigInt(32)&BigInt(4294967295));return g[u++]=H,H=H>>8,g[u++]=H,H=H>>8,g[u++]=H,H=H>>8,g[u++]=H,u}function F(g,c,u,w,k){ke(c,w,k,g,u,7);let L=Number(c&BigInt(4294967295));g[u+7]=L,L=L>>8,g[u+6]=L,L=L>>8,g[u+5]=L,L=L>>8,g[u+4]=L;let H=Number(c>>BigInt(32)&BigInt(4294967295));return g[u+3]=H,H=H>>8,g[u+2]=H,H=H>>8,g[u+1]=H,H=H>>8,g[u]=H,u+8}o.prototype.writeBigUInt64LE=ie(function(c,u=0){return v(this,c,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ie(function(c,u=0){return F(this,c,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(c,u,w,k){if(c=+c,u=u>>>0,!k){const ge=Math.pow(2,8*w-1);h(this,c,u,w,ge-1,-ge)}let L=0,H=1,pe=0;for(this[u]=c&255;++L<w&&(H*=256);)c<0&&pe===0&&this[u+L-1]!==0&&(pe=1),this[u+L]=(c/H>>0)-pe&255;return u+w},o.prototype.writeIntBE=function(c,u,w,k){if(c=+c,u=u>>>0,!k){const ge=Math.pow(2,8*w-1);h(this,c,u,w,ge-1,-ge)}let L=w-1,H=1,pe=0;for(this[u+L]=c&255;--L>=0&&(H*=256);)c<0&&pe===0&&this[u+L+1]!==0&&(pe=1),this[u+L]=(c/H>>0)-pe&255;return u+w},o.prototype.writeInt8=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,1,127,-128),c<0&&(c=255+c+1),this[u]=c&255,u+1},o.prototype.writeInt16LE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,2,32767,-32768),this[u]=c&255,this[u+1]=c>>>8,u+2},o.prototype.writeInt16BE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,2,32767,-32768),this[u]=c>>>8,this[u+1]=c&255,u+2},o.prototype.writeInt32LE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,4,2147483647,-2147483648),this[u]=c&255,this[u+1]=c>>>8,this[u+2]=c>>>16,this[u+3]=c>>>24,u+4},o.prototype.writeInt32BE=function(c,u,w){return c=+c,u=u>>>0,w||h(this,c,u,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4},o.prototype.writeBigInt64LE=ie(function(c,u=0){return v(this,c,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ie(function(c,u=0){return F(this,c,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(g,c,u,w,k,L){if(u+w>g.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function Y(g,c,u,w,k){return c=+c,u=u>>>0,k||$(g,c,u,4),n.write(g,c,u,w,23,4),u+4}o.prototype.writeFloatLE=function(c,u,w){return Y(this,c,u,!0,w)},o.prototype.writeFloatBE=function(c,u,w){return Y(this,c,u,!1,w)};function se(g,c,u,w,k){return c=+c,u=u>>>0,k||$(g,c,u,8),n.write(g,c,u,w,52,8),u+8}o.prototype.writeDoubleLE=function(c,u,w){return se(this,c,u,!0,w)},o.prototype.writeDoubleBE=function(c,u,w){return se(this,c,u,!1,w)},o.prototype.copy=function(c,u,w,k){if(!o.isBuffer(c))throw new TypeError("argument should be a Buffer");if(w||(w=0),!k&&k!==0&&(k=this.length),u>=c.length&&(u=c.length),u||(u=0),k>0&&k<w&&(k=w),k===w||c.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),c.length-u<k-w&&(k=c.length-u+w);const L=k-w;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,w,k):Uint8Array.prototype.set.call(c,this.subarray(w,k),u),L},o.prototype.fill=function(c,u,w,k){if(typeof c=="string"){if(typeof u=="string"?(k=u,u=0,w=this.length):typeof w=="string"&&(k=w,w=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!o.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(c.length===1){const H=c.charCodeAt(0);(k==="utf8"&&H<128||k==="latin1")&&(c=H)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(u<0||this.length<u||this.length<w)throw new RangeError("Out of range index");if(w<=u)return this;u=u>>>0,w=w===void 0?this.length:w>>>0,c||(c=0);let L;if(typeof c=="number")for(L=u;L<w;++L)this[L]=c;else{const H=o.isBuffer(c)?c:o.from(c,k),pe=H.length;if(pe===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(L=0;L<w-u;++L)this[L+u]=H[L%pe]}return this};const fe={};function re(g,c,u){fe[g]=class extends u{constructor(){super(),Object.defineProperty(this,"message",{value:c.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(k){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:k,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}re("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),re("ERR_INVALID_ARG_TYPE",function(g,c){return`The "${g}" argument must be of type number. Received type ${typeof c}`},TypeError),re("ERR_OUT_OF_RANGE",function(g,c,u){let w=`The value of "${g}" is out of range.`,k=u;return Number.isInteger(u)&&Math.abs(u)>2**32?k=xe(String(u)):typeof u=="bigint"&&(k=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(k=xe(k)),k+="n"),w+=` It must be ${c}. Received ${k}`,w},RangeError);function xe(g){let c="",u=g.length;const w=g[0]==="-"?1:0;for(;u>=w+4;u-=3)c=`_${g.slice(u-3,u)}${c}`;return`${g.slice(0,u)}${c}`}function ye(g,c,u){Ze(c,"offset"),(g[c]===void 0||g[c+u]===void 0)&&Ne(c,g.length-(u+1))}function ke(g,c,u,w,k,L){if(g>u||g<c){const H=typeof c=="bigint"?"n":"";let pe;throw c===0||c===BigInt(0)?pe=`>= 0${H} and < 2${H} ** ${(L+1)*8}${H}`:pe=`>= -(2${H} ** ${(L+1)*8-1}${H}) and < 2 ** ${(L+1)*8-1}${H}`,new fe.ERR_OUT_OF_RANGE("value",pe,g)}ye(w,k,L)}function Ze(g,c){if(typeof g!="number")throw new fe.ERR_INVALID_ARG_TYPE(c,"number",g)}function Ne(g,c,u){throw Math.floor(g)!==g?(Ze(g,u),new fe.ERR_OUT_OF_RANGE("offset","an integer",g)):c<0?new fe.ERR_BUFFER_OUT_OF_BOUNDS:new fe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${c}`,g)}const $e=/[^+/0-9A-Za-z-_]/g;function V(g){if(g=g.split("=")[0],g=g.trim().replace($e,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function T(g,c){c=c||1/0;let u;const w=g.length;let k=null;const L=[];for(let H=0;H<w;++H){if(u=g.charCodeAt(H),u>55295&&u<57344){if(!k){if(u>56319){(c-=3)>-1&&L.push(239,191,189);continue}else if(H+1===w){(c-=3)>-1&&L.push(239,191,189);continue}k=u;continue}if(u<56320){(c-=3)>-1&&L.push(239,191,189),k=u;continue}u=(k-55296<<10|u-56320)+65536}else k&&(c-=3)>-1&&L.push(239,191,189);if(k=null,u<128){if((c-=1)<0)break;L.push(u)}else if(u<2048){if((c-=2)<0)break;L.push(u>>6|192,u&63|128)}else if(u<65536){if((c-=3)<0)break;L.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((c-=4)<0)break;L.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return L}function C(g){const c=[];for(let u=0;u<g.length;++u)c.push(g.charCodeAt(u)&255);return c}function Q(g,c){let u,w,k;const L=[];for(let H=0;H<g.length&&!((c-=2)<0);++H)u=g.charCodeAt(H),w=u>>8,k=u%256,L.push(k),L.push(w);return L}function te(g){return e.toByteArray(V(g))}function ae(g,c,u,w){let k;for(k=0;k<w&&!(k+u>=c.length||k>=g.length);++k)c[k+u]=g[k];return k}function de(g,c){return g instanceof c||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===c.name}function Ae(g){return g!==g}const _e=function(){const g="0123456789abcdef",c=new Array(256);for(let u=0;u<16;++u){const w=u*16;for(let k=0;k<16;++k)c[w+k]=g[u]+g[k]}return c}();function ie(g){return typeof BigInt>"u"?ce:g}function ce(){throw new Error("BigInt not supported")}}(Bf)),Bf}var UE=DE(),kf={exports:{}},Np;function HE(){return Np||(Np=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(f,d,p){this.fn=f,this.context=d,this.once=p||!1}function i(f,d,p,y,B){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new s(p,y||f,B),M=n?n+d:d;return f._events[M]?f._events[M].fn?f._events[M]=[f._events[M],x]:f._events[M].push(x):(f._events[M]=x,f._eventsCount++),f}function a(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],p,y;if(this._eventsCount===0)return d;for(y in p=this._events)e.call(p,y)&&d.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},o.prototype.listeners=function(d){var p=n?n+d:d,y=this._events[p];if(!y)return[];if(y.fn)return[y.fn];for(var B=0,x=y.length,M=new Array(x);B<x;B++)M[B]=y[B].fn;return M},o.prototype.listenerCount=function(d){var p=n?n+d:d,y=this._events[p];return y?y.fn?1:y.length:0},o.prototype.emit=function(d,p,y,B,x,M){var I=n?n+d:d;if(!this._events[I])return!1;var R=this._events[I],N=arguments.length,D,U;if(R.fn){switch(R.once&&this.removeListener(d,R.fn,void 0,!0),N){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,p),!0;case 3:return R.fn.call(R.context,p,y),!0;case 4:return R.fn.call(R.context,p,y,B),!0;case 5:return R.fn.call(R.context,p,y,B,x),!0;case 6:return R.fn.call(R.context,p,y,B,x,M),!0}for(U=1,D=new Array(N-1);U<N;U++)D[U-1]=arguments[U];R.fn.apply(R.context,D)}else{var K=R.length,j;for(U=0;U<K;U++)switch(R[U].once&&this.removeListener(d,R[U].fn,void 0,!0),N){case 1:R[U].fn.call(R[U].context);break;case 2:R[U].fn.call(R[U].context,p);break;case 3:R[U].fn.call(R[U].context,p,y);break;case 4:R[U].fn.call(R[U].context,p,y,B);break;default:if(!D)for(j=1,D=new Array(N-1);j<N;j++)D[j-1]=arguments[j];R[U].fn.apply(R[U].context,D)}}return!0},o.prototype.on=function(d,p,y){return i(this,d,p,y,!1)},o.prototype.once=function(d,p,y){return i(this,d,p,y,!0)},o.prototype.removeListener=function(d,p,y,B){var x=n?n+d:d;if(!this._events[x])return this;if(!p)return a(this,x),this;var M=this._events[x];if(M.fn)M.fn===p&&(!B||M.once)&&(!y||M.context===y)&&a(this,x);else{for(var I=0,R=[],N=M.length;I<N;I++)(M[I].fn!==p||B&&!M[I].once||y&&M[I].context!==y)&&R.push(M[I]);R.length?this._events[x]=R.length===1?R[0]:R:a(this,x)}return this},o.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&a(this,p)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o}(kf)),kf.exports}var $E=HE();const gy=Ni($E);var GE=class extends gy{socket;constructor(t,e,n){super(),this.socket=new window.WebSocket(t,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(t,e,n){const r=n||e;try{this.socket.send(t),r()}catch(s){r(s)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,n){this.socket.addEventListener(t,e,n)}};function qE(t,e){return new GE(t,e)}var jE=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},zE=class extends gy{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,e="ws://localhost:8080",{autoconnect:n=!0,reconnect:r=!0,reconnect_interval:s=1e3,max_reconnects:i=5,...a}={},o,f){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=n,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=i,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=o||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),f?this.dataPack=f:this.dataPack=new jE,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,n,r){return!r&&typeof n=="object"&&(r=n,n=null),new Promise((s,i)=>{if(!this.ready)return i(new Error("socket not ready"));const a=this.generate_request_id(t,e),o={jsonrpc:"2.0",method:t,params:e||void 0,id:a};this.socket.send(this.dataPack.encode(o),r,f=>{if(f)return i(f);this.queue[a]={promise:[s,i]},n&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],i(new Error("reply timeout"))},n))})})}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const s={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(s),i=>{if(i)return r(i);n()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=UE.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const r=[n.notification];if(n.params.constructor===Object)r.push(n.params);else for(let s=0;s<n.params.length;s++)r.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,r)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:r})=>{this.ready&&setTimeout(()=>this.emit("close",n,r),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval)))})}};let yy=class extends Lg{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Pg(e);const r=dh(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),_o(i)}update(e){return cu(this),this.iHash.update(e),this}digestInto(e){cu(this),Os(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const vy=(t,e,n)=>new yy(t,e).update(n).digest();vy.create=(t,e)=>new yy(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lp=(t,e)=>(t+(t>=0?e:-e)/wy)/e;function VE(t,e,n){const[[r,s],[i,a]]=e,o=Lp(a*t,n),f=Lp(-s*t,n);let d=t-o*r-f*i,p=-o*s-f*a;const y=d<Jr,B=p<Jr;y&&(d=-d),B&&(p=-p);const x=hc(Math.ceil($g(n)/2))+mo;if(d<Jr||d>=x||p<Jr||p>=x)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:y,k1:d,k2neg:B,k2:p}}function md(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function Op(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return Si(n.lowS,"lowS"),Si(n.prehash,"prehash"),n.format!==void 0&&md(n.format),n}class WE extends Error{constructor(e=""){super(e)}}const qr={Err:WE,_tlv:{encode:(t,e)=>{const{Err:n}=qr;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Lc(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Lc(s.length/2|128):"";return Lc(t)+i+s+e},decode(t,e){const{Err:n}=qr;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let a=0;if(!i)a=s;else{const f=s&127;if(!f)throw new n("tlv.decode(long): indefinite length not supported");if(f>4)throw new n("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+f);if(d.length!==f)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const p of d)a=a<<8|p;if(r+=f,a<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=qr;if(t<Jr)throw new e("integer: negative integers are not allowed");let n=Lc(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=qr;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return bl(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=qr,s=Xt("signature",t),{v:i,l:a}=r.decode(48,s);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l:f}=r.decode(2,i),{v:d,l:p}=r.decode(2,f);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(d)}},hexFromSig(t){const{_tlv:e,_int:n}=qr,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},Jr=BigInt(0),mo=BigInt(1),wy=BigInt(2),Dc=BigInt(3),KE=BigInt(4);function so(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let s=Xt("private key",e);try{r=t.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function QE(t,e={}){const n=ry("weierstrass",t,e),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:a,n:o}=i;pc(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:f}=e;if(f&&(!r.is0(i.a)||typeof f.beta!="bigint"||!Array.isArray(f.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const d=_y(r,s);function p(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function y(z,_,l){const{x:m,y:b}=_.toAffine(),E=r.toBytes(m);if(Si(l,"isCompressed"),l){p();const S=!r.isOdd(b);return _r(by(S),E)}else return _r(Uint8Array.of(4),E,r.toBytes(b))}function B(z){Gn(z,void 0,"Point");const{public:_,publicUncompressed:l}=d,m=z.length,b=z[0],E=z.subarray(1);if(m===_&&(b===2||b===3)){const S=r.fromBytes(E);if(!r.isValid(S))throw new Error("bad point: is not on curve, wrong x");const P=I(S);let O;try{O=r.sqrt(P)}catch(v){const F=v instanceof Error?": "+v.message:"";throw new Error("bad point: is not on curve, sqrt error"+F)}p();const A=r.isOdd(O);return(b&1)===1!==A&&(O=r.neg(O)),{x:S,y:O}}else if(m===l&&b===4){const S=r.BYTES,P=r.fromBytes(E.subarray(0,S)),O=r.fromBytes(E.subarray(S,S*2));if(!R(P,O))throw new Error("bad point: is not on curve");return{x:P,y:O}}else throw new Error(`bad point: got length ${m}, expected compressed=${_} or uncompressed=${l}`)}const x=e.toBytes||y,M=e.fromBytes||B;function I(z){const _=r.sqr(z),l=r.mul(_,z);return r.add(r.add(l,r.mul(z,i.a)),i.b)}function R(z,_){const l=r.sqr(_),m=I(z);return r.eql(l,m)}if(!R(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const N=r.mul(r.pow(i.a,Dc),KE),D=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(N,D)))throw new Error("bad curve params: a or b");function U(z,_,l=!1){if(!r.isValid(_)||l&&r.is0(_))throw new Error(`bad point coordinate ${z}`);return _}function K(z){if(!(z instanceof Z))throw new Error("ProjectivePoint expected")}function j(z){if(!f||!f.basises)throw new Error("no endo");return VE(z,f.basises,s.ORDER)}const J=lu((z,_)=>{const{X:l,Y:m,Z:b}=z;if(r.eql(b,r.ONE))return{x:l,y:m};const E=z.is0();_==null&&(_=E?r.ONE:r.inv(b));const S=r.mul(l,_),P=r.mul(m,_),O=r.mul(b,_);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(O,r.ONE))throw new Error("invZ was invalid");return{x:S,y:P}}),ne=lu(z=>{if(z.is0()){if(e.allowInfinityPoint&&!r.is0(z.Y))return;throw new Error("bad point: ZERO")}const{x:_,y:l}=z.toAffine();if(!r.isValid(_)||!r.isValid(l))throw new Error("bad point: x or y not field elements");if(!R(_,l))throw new Error("bad point: equation left != right");if(!z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function X(z,_,l,m,b){return l=new Z(r.mul(l.X,z),l.Y,l.Z),_=fu(m,_),l=fu(b,l),_.add(l)}class Z{constructor(_,l,m){this.X=U("x",_),this.Y=U("y",l,!0),this.Z=U("z",m),Object.freeze(this)}static CURVE(){return i}static fromAffine(_){const{x:l,y:m}=_||{};if(!_||!r.isValid(l)||!r.isValid(m))throw new Error("invalid affine point");if(_ instanceof Z)throw new Error("projective point not allowed");return r.is0(l)&&r.is0(m)?Z.ZERO:new Z(l,m,r.ONE)}static fromBytes(_){const l=Z.fromAffine(M(Gn(_,void 0,"point")));return l.assertValidity(),l}static fromHex(_){return Z.fromBytes(Xt("pointHex",_))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(_=8,l=!0){return W.createCache(this,_),l||this.multiply(Dc),this}assertValidity(){ne(this)}hasEvenY(){const{y:_}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(_)}equals(_){K(_);const{X:l,Y:m,Z:b}=this,{X:E,Y:S,Z:P}=_,O=r.eql(r.mul(l,P),r.mul(E,b)),A=r.eql(r.mul(m,P),r.mul(S,b));return O&&A}negate(){return new Z(this.X,r.neg(this.Y),this.Z)}double(){const{a:_,b:l}=i,m=r.mul(l,Dc),{X:b,Y:E,Z:S}=this;let P=r.ZERO,O=r.ZERO,A=r.ZERO,h=r.mul(b,b),v=r.mul(E,E),F=r.mul(S,S),$=r.mul(b,E);return $=r.add($,$),A=r.mul(b,S),A=r.add(A,A),P=r.mul(_,A),O=r.mul(m,F),O=r.add(P,O),P=r.sub(v,O),O=r.add(v,O),O=r.mul(P,O),P=r.mul($,P),A=r.mul(m,A),F=r.mul(_,F),$=r.sub(h,F),$=r.mul(_,$),$=r.add($,A),A=r.add(h,h),h=r.add(A,h),h=r.add(h,F),h=r.mul(h,$),O=r.add(O,h),F=r.mul(E,S),F=r.add(F,F),h=r.mul(F,$),P=r.sub(P,h),A=r.mul(F,v),A=r.add(A,A),A=r.add(A,A),new Z(P,O,A)}add(_){K(_);const{X:l,Y:m,Z:b}=this,{X:E,Y:S,Z:P}=_;let O=r.ZERO,A=r.ZERO,h=r.ZERO;const v=i.a,F=r.mul(i.b,Dc);let $=r.mul(l,E),Y=r.mul(m,S),se=r.mul(b,P),fe=r.add(l,m),re=r.add(E,S);fe=r.mul(fe,re),re=r.add($,Y),fe=r.sub(fe,re),re=r.add(l,b);let xe=r.add(E,P);return re=r.mul(re,xe),xe=r.add($,se),re=r.sub(re,xe),xe=r.add(m,b),O=r.add(S,P),xe=r.mul(xe,O),O=r.add(Y,se),xe=r.sub(xe,O),h=r.mul(v,re),O=r.mul(F,se),h=r.add(O,h),O=r.sub(Y,h),h=r.add(Y,h),A=r.mul(O,h),Y=r.add($,$),Y=r.add(Y,$),se=r.mul(v,se),re=r.mul(F,re),Y=r.add(Y,se),se=r.sub($,se),se=r.mul(v,se),re=r.add(re,se),$=r.mul(Y,re),A=r.add(A,$),$=r.mul(xe,re),O=r.mul(fe,O),O=r.sub(O,$),$=r.mul(fe,Y),h=r.mul(xe,h),h=r.add(h,$),new Z(O,A,h)}subtract(_){return this.add(_.negate())}is0(){return this.equals(Z.ZERO)}multiply(_){const{endo:l}=e;if(!s.isValidNot0(_))throw new Error("invalid scalar: out of range");let m,b;const E=S=>W.cached(this,S,P=>fs(Z,P));if(l){const{k1neg:S,k1:P,k2neg:O,k2:A}=j(_),{p:h,f:v}=E(P),{p:F,f:$}=E(A);b=v.add($),m=X(l.beta,h,F,S,O)}else{const{p:S,f:P}=E(_);m=S,b=P}return fs(Z,[m,b])[0]}multiplyUnsafe(_){const{endo:l}=e,m=this;if(!s.isValid(_))throw new Error("invalid scalar: out of range");if(_===Jr||m.is0())return Z.ZERO;if(_===mo)return m;if(W.hasCache(this))return this.multiply(_);if(l){const{k1neg:b,k1:E,k2neg:S,k2:P}=j(_),{p1:O,p2:A}=rA(Z,m,E,P);return X(l.beta,O,A,b,S)}else return W.unsafe(m,_)}multiplyAndAddUnsafe(_,l,m){const b=this.multiplyUnsafe(l).add(_.multiplyUnsafe(m));return b.is0()?void 0:b}toAffine(_){return J(this,_)}isTorsionFree(){const{isTorsionFree:_}=e;return a===mo?!0:_?_(Z,this):W.unsafe(this,o).is0()}clearCofactor(){const{clearCofactor:_}=e;return a===mo?this:_?_(Z,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(_=!0){return Si(_,"isCompressed"),this.assertValidity(),x(Z,this,_)}toHex(_=!0){return ys(this.toBytes(_))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(_=!0){return this.toBytes(_)}_setWindowSize(_){this.precompute(_)}static normalizeZ(_){return fs(Z,_)}static msm(_,l){return ny(Z,s,_,l)}static fromPrivateKey(_){return Z.BASE.multiply(so(s,_))}}Z.BASE=new Z(i.Gx,i.Gy,r.ONE),Z.ZERO=new Z(r.ZERO,r.ONE,r.ZERO),Z.Fp=r,Z.Fn=s;const G=s.BITS,W=new ty(Z,e.endo?Math.ceil(G/2):G);return Z}function by(t){return Uint8Array.of(t?2:3)}function _y(t,e){return{secret:e.BYTES,public:1+t.BYTES,publicUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function ZE(t,e={}){const{Fn:n}=t,r=e.randomBytes||hh,s=Object.assign(_y(t.Fp,n),{seed:Jg(n.ORDER)});function i(x){try{return!!so(n,x)}catch{return!1}}function a(x,M){const{public:I,publicUncompressed:R}=s;try{const N=x.length;return M===!0&&N!==I||M===!1&&N!==R?!1:!!t.fromBytes(x)}catch{return!1}}function o(x=r(s.seed)){return eA(Gn(x,s.seed,"seed"),n.ORDER)}function f(x,M=!0){return t.BASE.multiply(so(n,x)).toBytes(M)}function d(x){const M=o(x);return{secretKey:M,publicKey:f(M)}}function p(x){if(typeof x=="bigint")return!1;if(x instanceof t)return!0;if(n.allowedLengths||s.secret===s.public)return;const M=Xt("key",x).length;return M===s.public||M===s.publicUncompressed}function y(x,M,I=!0){if(p(x)===!0)throw new Error("first arg must be private key");if(p(M)===!1)throw new Error("second arg must be public key");const R=so(n,x);return t.fromHex(M).multiply(R).toBytes(I)}return Object.freeze({getPublicKey:f,getSharedSecret:y,keygen:d,Point:t,utils:{isValidSecretKey:i,isValidPublicKey:a,randomSecretKey:o,isValidPrivateKey:i,randomPrivateKey:o,normPrivateKeyToScalar:x=>so(n,x),precompute(x=8,M=t.BASE){return M.precompute(x,!1)}},lengths:s})}function YE(t,e,n={}){Pg(e),pc(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||hh,s=n.hmac||((z,..._)=>vy(e,z,_r(..._))),{Fp:i,Fn:a}=t,{ORDER:o,BITS:f}=a,{keygen:d,getPublicKey:p,getSharedSecret:y,utils:B,lengths:x}=ZE(t,n),M={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},I="compact";function R(z){const _=o>>mo;return z>_}function N(z){return R(z)?a.neg(z):z}function D(z,_){if(!a.isValidNot0(_))throw new Error(`invalid signature ${z}: out of range 1..Point.Fn.ORDER`);return _}class U{constructor(_,l,m){this.r=D("r",_),this.s=D("s",l),m!=null&&(this.recovery=m),Object.freeze(this)}static fromBytes(_,l=I){md(l);const m=x.signature;let b;if(l==="der"){const{r:O,s:A}=qr.toSig(Gn(_));return new U(O,A)}l==="recovered"&&(Gn(_,m+1),b=_[0],l="compact",_=_.subarray(1)),Gn(_,m);const E=m/2,S=_.subarray(0,E),P=_.subarray(E,E*2);return new U(a.fromBytes(S),a.fromBytes(P),b)}static fromHex(_,l){return this.fromBytes(uu(_),l)}addRecoveryBit(_){return new U(this.r,this.s,_)}recoverPublicKey(_){const l=i.ORDER,{r:m,s:b,recovery:E}=this;if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");if(o*wy<l&&E>1)throw new Error("recovery id is ambiguous for h>1 curve");const P=E===2||E===3?m+o:m;if(!i.isValid(P))throw new Error("recovery id 2 or 3 invalid");const O=i.toBytes(P),A=t.fromBytes(_r(by((E&1)===0),O)),h=a.inv(P),v=j(Xt("msgHash",_)),F=a.create(-v*h),$=a.create(b*h),Y=t.BASE.multiplyUnsafe(F).add(A.multiplyUnsafe($));if(Y.is0())throw new Error("point at infinify");return Y.assertValidity(),Y}hasHighS(){return R(this.s)}toBytes(_=I){if(md(_),_==="der")return uu(qr.hexFromSig(this));const l=a.toBytes(this.r),m=a.toBytes(this.s);if(_==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return _r(Uint8Array.of(this.recovery),l,m)}return _r(l,m)}toHex(_){return ys(this.toBytes(_))}assertValidity(){}static fromCompact(_){return U.fromBytes(Xt("sig",_),"compact")}static fromDER(_){return U.fromBytes(Xt("sig",_),"der")}normalizeS(){return this.hasHighS()?new U(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ys(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ys(this.toBytes("compact"))}}const K=n.bits2int||function(z){if(z.length>8192)throw new Error("input is too large");const _=bl(z),l=z.length*8-f;return l>0?_>>BigInt(l):_},j=n.bits2int_modN||function(z){return a.create(K(z))},J=hc(f);function ne(z){return io("num < 2^"+f,z,Jr,J),a.toBytes(z)}function X(z,_,l){if(["recovered","canonical"].some(F=>F in l))throw new Error("sign() legacy options not supported");const{lowS:m,prehash:b,extraEntropy:E}=Op(l,M);z=Gn(z,void 0,"message"),b&&(z=Gn(e(z),void 0,"prehashed message"));const S=j(z),P=so(a,_),O=[ne(P),ne(S)];if(E!=null&&E!==!1){const F=E===!0?r(x.secret):E;O.push(Xt("extraEntropy",F))}const A=_r(...O),h=S;function v(F){const $=K(F);if(!a.isValidNot0($))return;const Y=a.inv($),se=t.BASE.multiply($).toAffine(),fe=a.create(se.x);if(fe===Jr)return;const re=a.create(Y*a.create(h+fe*P));if(re===Jr)return;let xe=(se.x===fe?0:2)|Number(se.y&mo),ye=re;return m&&R(re)&&(ye=N(re),xe^=1),new U(fe,ye,xe)}return{seed:A,k2sig:v}}function Z(z,_,l={}){z=Xt("message",z);const{seed:m,k2sig:b}=X(z,_,l);return j_(e.outputLen,a.BYTES,s)(m,b)}t.BASE.precompute(8);function G(z,_,l,m={}){const b=z;_=Xt("msgHash",_),l=Xt("publicKey",l);const{lowS:E,prehash:S,format:P}=Op(m,M);let O,A;if("strict"in m)throw new Error("options.strict was renamed to lowS");if(P===void 0){const h=typeof b=="string"||Oa(b),v=!h&&b!==null&&typeof b=="object"&&typeof b.r=="bigint"&&typeof b.s=="bigint";if(!h&&!v)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(v)O=new U(b.r,b.s);else if(h){try{O=U.fromDER(b)}catch(F){if(!(F instanceof qr.Err))throw F}if(!O)try{O=U.fromCompact(b)}catch{return!1}}}else if(P==="compact"||P==="der"){if(typeof b!="string"&&!Oa(b))throw new Error('"der" / "compact" format expects Uint8Array signature');O=U.fromBytes(Xt("sig",b),P)}else throw new Error('format must be "compact", "der" or "js"');if(!O)return!1;try{if(A=t.fromHex(l),E&&O.hasHighS())return!1;S&&(_=e(_));const{r:h,s:v}=O,F=j(_),$=a.inv(v),Y=a.create(F*$),se=a.create(h*$),fe=t.BASE.multiplyUnsafe(Y).add(A.multiplyUnsafe(se));return fe.is0()?!1:a.create(fe.x)===h}catch{return!1}}function W(z,_,l={}){const m=l.prehash!==void 0?l.prehash:M.prehash;return Si(m,"prehash"),_=Gn(_,void 0,"message"),m&&(_=Gn(e(_),void 0,"prehashed message")),U.fromBytes(z,"recovered").recoverPublicKey(_).toBytes()}return Object.freeze({keygen:d,getPublicKey:p,getSharedSecret:y,utils:B,lengths:x,Point:t,sign:Z,verify:G,recoverPublicKey:W,Signature:U,hash:e})}function JE(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const s=Fs(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function XE(t){const{CURVE:e,curveOpts:n}=JE(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function ex(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,Zg(n.Fn.ORDER,n.Fn.BITS))})}function tx(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:s}=XE(t),i=QE(e,n),a=YE(i,r,s);return ex(t,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nx(t,e){const n=r=>tx({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ah={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},rx={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Fp=BigInt(2);function ix(t){const e=Ah.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),f=BigInt(88),d=t*t*t%e,p=d*d*t%e,y=Kt(p,n,e)*p%e,B=Kt(y,n,e)*p%e,x=Kt(B,Fp,e)*d%e,M=Kt(x,s,e)*x%e,I=Kt(M,i,e)*M%e,R=Kt(I,o,e)*I%e,N=Kt(R,f,e)*R%e,D=Kt(N,o,e)*I%e,U=Kt(D,n,e)*p%e,K=Kt(U,a,e)*M%e,j=Kt(K,r,e)*d%e,J=Kt(j,Fp,e);if(!gd.eql(gd.sqr(J),t))throw new Error("Cannot find square root");return J}const gd=Fs(Ah.p,{sqrt:ix}),sx=nx({...Ah,Fp:gd,lowS:!0,endo:rx},Ug);mc.utils.randomPrivateKey;mc.getPublicKey;function Dp(t){try{return mc.ExtendedPoint.fromHex(t),!0}catch{return!1}}const ox=(t,e)=>mc.sign(t,e.slice(0,32)),ax=mc.verify,xo=t=>bt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?bt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):bt.Buffer.from(t);class cx{constructor(e){Object.assign(this,e)}encode(){return bt.Buffer.from(vf.serialize(Zc,this))}static decode(e){return vf.deserialize(Zc,this,e)}static decodeUnchecked(e){return vf.deserializeUnchecked(Zc,this,e)}}const Zc=new Map;var Ay;const ux=32,Ai=32;function lx(t){return t._bn!==void 0}let Up=1;class Ve extends cx{constructor(e){if(super({}),this._bn=void 0,lx(e))this._bn=e._bn;else{if(typeof e=="string"){const n=pn.decode(e);if(n.length!=Ai)throw new Error("Invalid public key input");this._bn=new wp(n)}else this._bn=new wp(e);if(this._bn.byteLength()>Ai)throw new Error("Invalid public key input")}}static unique(){const e=new Ve(Up);return Up+=1,new Ve(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return pn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bt.Buffer);if(e.length===Ai)return e;const n=bt.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const s=bt.Buffer.concat([e.toBuffer(),bt.Buffer.from(n),r.toBuffer()]),i=xp(s);return new Ve(i)}static createProgramAddressSync(e,n){let r=bt.Buffer.alloc(0);e.forEach(function(i){if(i.length>ux)throw new TypeError("Max seed length exceeded");r=bt.Buffer.concat([r,xo(i)])}),r=bt.Buffer.concat([r,n.toBuffer(),bt.Buffer.from("ProgramDerivedAddress")]);const s=xp(r);if(Dp(s))throw new Error("Invalid seeds, address must fall off the curve");return new Ve(s)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,s;for(;r!=0;){try{const i=e.concat(bt.Buffer.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Ve(e);return Dp(n.toBytes())}}Ay=Ve;Ve.default=new Ay("11111111111111111111111111111111");Zc.set(Ve,{kind:"struct",fields:[["_bn","u256"]]});new Ve("BPFLoader1111111111111111111111111111111111");const go=1232,Ey=127,xy=64;class Iy extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Iy.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Sy extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Sy.prototype,"name",{value:"TransactionExpiredTimeoutError"});class xa extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(xa.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class yu{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,a)=>{r.set(i.toBase58(),a)});const s=i=>{const a=r.get(i.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(a=>s(a.pubkey)),data:i.data}))}}const Et=(t="publicKey")=>ee.blob(32,t),oo=(t="string")=>{const e=ee.struct([ee.u32("length"),ee.u32("lengthPadding"),ee.blob(ee.offset(ee.u32(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,a)=>n(i,a).chars.toString(),s.encode=(i,a,o)=>{const f={chars:bt.Buffer.from(i,"utf8")};return r(f,a,o)},s.alloc=i=>ee.u32().span+ee.u32().span+bt.Buffer.from(i,"utf8").length,s},fx=(t="authorized")=>ee.struct([Et("staker"),Et("withdrawer")],t),dx=(t="lockup")=>ee.struct([ee.ns64("unixTimestamp"),ee.ns64("epoch"),Et("custodian")],t),hx=(t="voteInit")=>ee.struct([Et("nodePubkey"),Et("authorizedVoter"),Et("authorizedWithdrawer"),ee.u8("commission")],t),px=(t="voteAuthorizeWithSeedArgs")=>ee.struct([ee.u32("voteAuthorizationType"),Et("currentAuthorityDerivedKeyOwnerPubkey"),oo("currentAuthorityDerivedKeySeed"),Et("newAuthorized")],t);function Zn(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,(r&128)===0)break}return e}function Yn(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function rn(t,e){if(!t)throw new Error(e||"Assertion failed")}class Sl{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,s=a=>{const o=a.toBase58();let f=r.get(o);return f===void 0&&(f={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(o,f)),f},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const a of e){s(a.programId).isInvoked=!0;for(const o of a.keys){const f=s(o.pubkey);f.isSigner||=o.isSigner,f.isWritable||=o.isWritable}}return new Sl(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];rn(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,f])=>f.isSigner&&f.isWritable),r=e.filter(([,f])=>f.isSigner&&!f.isWritable),s=e.filter(([,f])=>!f.isSigner&&f.isWritable),i=e.filter(([,f])=>!f.isSigner&&!f.isWritable),a={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{rn(n.length>0,"Expected at least one writable signer key");const[f]=n[0];rn(f===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const o=[...n.map(([f])=>new Ve(f)),...r.map(([f])=>new Ve(f)),...s.map(([f])=>new Ve(f)),...i.map(([f])=>new Ve(f))];return[a,o]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,n){const r=new Array,s=new Array;for(const[i,a]of this.keyMetaMap.entries())if(n(a)){const o=new Ve(i),f=e.findIndex(d=>d.equals(o));f>=0&&(rn(f<256,"Max lookup table index exceeded"),r.push(f),s.push(o),this.keyMetaMap.delete(i))}return[r,s]}}const By="Reached end of buffer unexpectedly";function Wr(t){if(t.length===0)throw new Error(By);return t.shift()}function Jn(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(By);return t.splice(...e)}class Bi{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Ve(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:pn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new yu(this.staticAccountKeys)}static compile(e){const n=Sl.compile(e.instructions,e.payerKey),[r,s]=n.getMessageComponents(),a=new yu(s).compileInstructions(e.instructions).map(o=>({programIdIndex:o.programIdIndex,accounts:o.accountKeyIndexes,data:pn.encode(o.data)}));return new Bi({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Yn(n,e);const r=this.instructions.map(y=>{const{accounts:B,programIdIndex:x}=y,M=Array.from(pn.decode(y.data));let I=[];Yn(I,B.length);let R=[];return Yn(R,M.length),{programIdIndex:x,keyIndicesCount:bt.Buffer.from(I),keyIndices:B,dataLength:bt.Buffer.from(R),data:M}});let s=[];Yn(s,r.length);let i=bt.Buffer.alloc(go);bt.Buffer.from(s).copy(i);let a=s.length;r.forEach(y=>{const x=ee.struct([ee.u8("programIdIndex"),ee.blob(y.keyIndicesCount.length,"keyIndicesCount"),ee.seq(ee.u8("keyIndex"),y.keyIndices.length,"keyIndices"),ee.blob(y.dataLength.length,"dataLength"),ee.seq(ee.u8("userdatum"),y.data.length,"data")]).encode(y,i,a);a+=x}),i=i.slice(0,a);const o=ee.struct([ee.blob(1,"numRequiredSignatures"),ee.blob(1,"numReadonlySignedAccounts"),ee.blob(1,"numReadonlyUnsignedAccounts"),ee.blob(n.length,"keyCount"),ee.seq(Et("key"),e,"keys"),Et("recentBlockhash")]),f={numRequiredSignatures:bt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bt.Buffer.from(n),keys:this.accountKeys.map(y=>xo(y.toBytes())),recentBlockhash:pn.decode(this.recentBlockhash)};let d=bt.Buffer.alloc(2048);const p=o.encode(f,d);return i.copy(d,p),d.slice(0,p+i.length)}static from(e){let n=[...e];const r=Wr(n);if(r!==(r&Ey))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Wr(n),i=Wr(n),a=Zn(n);let o=[];for(let B=0;B<a;B++){const x=Jn(n,0,Ai);o.push(new Ve(bt.Buffer.from(x)))}const f=Jn(n,0,Ai),d=Zn(n);let p=[];for(let B=0;B<d;B++){const x=Wr(n),M=Zn(n),I=Jn(n,0,M),R=Zn(n),N=Jn(n,0,R),D=pn.encode(bt.Buffer.from(N));p.push({programIdIndex:x,accounts:I,data:D})}const y={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:pn.encode(bt.Buffer.from(f)),accountKeys:o,instructions:p};return new Bi(y)}}class vu{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new yu(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((a,o)=>a+o.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-n,a=r-n-this.header.numReadonlyUnsignedAccounts;return s<a}else{const s=n-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)n.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)n.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Sl.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const p of i){const y=n.extractTableLookup(p);if(y!==void 0){const[B,{writable:x,readonly:M}]=y;r.push(B),s.writable.push(...x),s.readonly.push(...M)}}const[a,o]=n.getMessageComponents(),d=new yu(o,s).compileInstructions(e.instructions);return new vu({header:a,staticAccountKeys:o,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:r})}serialize(){const e=Array();Yn(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Yn(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Yn(i,this.addressTableLookups.length);const a=ee.struct([ee.u8("prefix"),ee.struct([ee.u8("numRequiredSignatures"),ee.u8("numReadonlySignedAccounts"),ee.u8("numReadonlyUnsignedAccounts")],"header"),ee.blob(e.length,"staticAccountKeysLength"),ee.seq(Et(),this.staticAccountKeys.length,"staticAccountKeys"),Et("recentBlockhash"),ee.blob(r.length,"instructionsLength"),ee.blob(n.length,"serializedInstructions"),ee.blob(i.length,"addressTableLookupsLength"),ee.blob(s.length,"serializedAddressTableLookups")]),o=new Uint8Array(go),d=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(p=>p.toBytes()),recentBlockhash:pn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},o);return o.slice(0,d)}serializeInstructions(){let e=0;const n=new Uint8Array(go);for(const r of this.compiledInstructions){const s=Array();Yn(s,r.accountKeyIndexes.length);const i=Array();Yn(i,r.data.length);const a=ee.struct([ee.u8("programIdIndex"),ee.blob(s.length,"encodedAccountKeyIndexesLength"),ee.seq(ee.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),ee.blob(i.length,"encodedDataLength"),ee.blob(r.data.length,"data")]);e+=a.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(go);for(const r of this.addressTableLookups){const s=Array();Yn(s,r.writableIndexes.length);const i=Array();Yn(i,r.readonlyIndexes.length);const a=ee.struct([Et("accountKey"),ee.blob(s.length,"encodedWritableIndexesLength"),ee.seq(ee.u8(),r.writableIndexes.length,"writableIndexes"),ee.blob(i.length,"encodedReadonlyIndexesLength"),ee.seq(ee.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=a.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=Wr(n),s=r&Ey;rn(r!==s,"Expected versioned message but received legacy message");const i=s;rn(i===0,`Expected versioned message with version 0 but found version ${i}`);const a={numRequiredSignatures:Wr(n),numReadonlySignedAccounts:Wr(n),numReadonlyUnsignedAccounts:Wr(n)},o=[],f=Zn(n);for(let M=0;M<f;M++)o.push(new Ve(Jn(n,0,Ai)));const d=pn.encode(Jn(n,0,Ai)),p=Zn(n),y=[];for(let M=0;M<p;M++){const I=Wr(n),R=Zn(n),N=Jn(n,0,R),D=Zn(n),U=new Uint8Array(Jn(n,0,D));y.push({programIdIndex:I,accountKeyIndexes:N,data:U})}const B=Zn(n),x=[];for(let M=0;M<B;M++){const I=new Ve(Jn(n,0,Ai)),R=Zn(n),N=Jn(n,0,R),D=Zn(n),U=Jn(n,0,D);x.push({accountKey:I,writableIndexes:N,readonlyIndexes:U})}return new vu({header:a,staticAccountKeys:o,recentBlockhash:d,compiledInstructions:y,addressTableLookups:x})}}let pi=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const mx=bt.Buffer.alloc(xy).fill(0);class Hp{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}let la=class yd{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Hp(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let I=0;I<n.length;I++)if(n[I].programId===void 0)throw new Error(`Transaction instruction index ${I} has undefined program id`);const s=[],i=[];n.forEach(I=>{I.keys.forEach(N=>{i.push({...N})});const R=I.programId.toString();s.includes(R)||s.push(R)}),s.forEach(I=>{i.push({pubkey:new Ve(I),isSigner:!1,isWritable:!1})});const a=[];i.forEach(I=>{const R=I.pubkey.toString(),N=a.findIndex(D=>D.pubkey.toString()===R);N>-1?(a[N].isWritable=a[N].isWritable||I.isWritable,a[N].isSigner=a[N].isSigner||I.isSigner):a.push(I)}),a.sort(function(I,R){if(I.isSigner!==R.isSigner)return I.isSigner?-1:1;if(I.isWritable!==R.isWritable)return I.isWritable?-1:1;const N={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return I.pubkey.toBase58().localeCompare(R.pubkey.toBase58(),"en",N)});const o=a.findIndex(I=>I.pubkey.equals(r));if(o>-1){const[I]=a.splice(o,1);I.isSigner=!0,I.isWritable=!0,a.unshift(I)}else a.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const I of this.signatures){const R=a.findIndex(N=>N.pubkey.equals(I.publicKey));if(R>-1)a[R].isSigner||(a[R].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${I.publicKey.toString()}`)}let f=0,d=0,p=0;const y=[],B=[];a.forEach(({pubkey:I,isSigner:R,isWritable:N})=>{R?(y.push(I.toString()),f+=1,N||(d+=1)):(B.push(I.toString()),N||(p+=1))});const x=y.concat(B),M=n.map(I=>{const{data:R,programId:N}=I;return{programIdIndex:x.indexOf(N.toString()),accounts:I.keys.map(D=>x.indexOf(D.pubkey.toString())),data:pn.encode(R)}});return M.forEach(I=>{rn(I.programIdIndex>=0),I.accounts.forEach(R=>rn(R>=0))}),new Bi({header:{numRequiredSignatures:f,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:p},accountKeys:x,recentBlockhash:e,instructions:M})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const a=i.publicKey.toString();n.has(a)||(n.add(a),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const a=i.publicKey.toString();n.has(a)||(n.add(a),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(s=>{const i=ox(r,s.secretKey);this._addSignature(s.publicKey,xo(i))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){rn(n.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=bt.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?n&&(r.missing||=[]).push(i):ax(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,n);if(i){let a="Signature verification failed.";throw i.invalid&&(a+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(o=>o.toBase58()).join("`, `")}\`].`),i.missing&&(a+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(o=>o.toBase58()).join("`, `")}\`].`),new Error(a)}}return this._serialize(s)}_serialize(e){const{signatures:n}=this,r=[];Yn(r,n.length);const s=r.length+n.length*64+e.length,i=bt.Buffer.alloc(s);return rn(n.length<256),bt.Buffer.from(r).copy(i,0),n.forEach(({signature:a},o)=>{a!==null&&(rn(a.length===64,"signature has invalid length"),bt.Buffer.from(a).copy(i,r.length+o*64))}),e.copy(i,r.length+n.length*64),rn(i.length<=go,`Transaction too large: ${i.length} > ${go}`),i}get keys(){return rn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return rn(this.instructions.length===1),this.instructions[0].programId}get data(){return rn(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Zn(n);let s=[];for(let i=0;i<r;i++){const a=Jn(n,0,xy);s.push(pn.encode(bt.Buffer.from(a)))}return yd.populate(Bi.from(n),s)}static populate(e,n=[]){const r=new yd;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((s,i)=>{const a={signature:s==pn.encode(mx)?null:pn.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(a)}),e.instructions.forEach(s=>{const i=s.accounts.map(a=>{const o=e.accountKeys[a];return{pubkey:o,isSigner:r.signatures.some(f=>f.publicKey.toString()===o.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});r.instructions.push(new Hp({keys:i,programId:e.accountKeys[s.programIdIndex],data:pn.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}};const gx=160,yx=64,vx=gx/yx,wx=1e3/vx;new Ve("SysvarC1ock11111111111111111111111111111111");new Ve("SysvarEpochSchedu1e111111111111111111111111");new Ve("Sysvar1nstructions1111111111111111111111111");new Ve("SysvarRecentB1ockHashes11111111111111111111");new Ve("SysvarRent111111111111111111111111111111111");new Ve("SysvarRewards111111111111111111111111111111");new Ve("SysvarS1otHashes111111111111111111111111111");new Ve("SysvarS1otHistory11111111111111111111111111");new Ve("SysvarStakeHistory1111111111111111111111111");class $p extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let o;switch(e){case"send":o=`Transaction ${n} resulted in an error. 
${r}. `+i+a;break;case"simulate":o=`Simulation failed. 
Message: ${r}. 
`+i+a;break;default:o=`Unknown action '${(f=>f)(e)}'`}super(o),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,n(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class Ue extends Error{constructor({code:e,message:n,data:r},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function Js(t){return new Promise(e=>setTimeout(e,t))}const bx=ee.nu64("lamportsPerSignature"),ky=ee.struct([ee.u32("version"),ee.u32("state"),Et("authorizedPubkey"),Et("nonce"),ee.struct([bx],"feeCalculator")]);ky.span;class Eh{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=ky.decode(xo(e),0);return new Eh({authorizedPubkey:new Ve(n.authorizedPubkey),nonce:new Ve(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Io(t){const e=ee.blob(8,t),n=e.decode.bind(e),r=e.encode.bind(e),s=e,i=oE();return s.decode=(a,o)=>{const f=n(a,o);return i.decode(f)},s.encode=(a,o,f)=>{const d=i.encode(a);return r(d,o,f)},s}Object.freeze({Create:{index:0,layout:ee.struct([ee.u32("instruction"),ee.ns64("lamports"),ee.ns64("space"),Et("programId")])},Assign:{index:1,layout:ee.struct([ee.u32("instruction"),Et("programId")])},Transfer:{index:2,layout:ee.struct([ee.u32("instruction"),Io("lamports")])},CreateWithSeed:{index:3,layout:ee.struct([ee.u32("instruction"),Et("base"),oo("seed"),ee.ns64("lamports"),ee.ns64("space"),Et("programId")])},AdvanceNonceAccount:{index:4,layout:ee.struct([ee.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:ee.struct([ee.u32("instruction"),ee.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:ee.struct([ee.u32("instruction"),Et("authorized")])},AuthorizeNonceAccount:{index:7,layout:ee.struct([ee.u32("instruction"),Et("authorized")])},Allocate:{index:8,layout:ee.struct([ee.u32("instruction"),ee.ns64("space")])},AllocateWithSeed:{index:9,layout:ee.struct([ee.u32("instruction"),Et("base"),oo("seed"),ee.ns64("space"),Et("programId")])},AssignWithSeed:{index:10,layout:ee.struct([ee.u32("instruction"),Et("base"),oo("seed"),Et("programId")])},TransferWithSeed:{index:11,layout:ee.struct([ee.u32("instruction"),Io("lamports"),oo("seed"),Et("programId")])},UpgradeNonceAccount:{index:12,layout:ee.struct([ee.u32("instruction")])}});new Ve("11111111111111111111111111111111");new Ve("BPFLoader2111111111111111111111111111111111");function _x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tf,Gp;function Ax(){if(Gp)return Tf;Gp=1;var t=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function n(r,s){var i,a,o,f,d,p,y;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),s);if(y=t.call(r),y==="[object Array]"){for(o="[",a=r.length-1,i=0;i<a;i++)o+=n(r[i],!0)+",";return a>-1&&(o+=n(r[i],!0)),o+"]"}else if(y==="[object Object]"){for(f=e(r).sort(),a=f.length,o="",i=0;i<a;)d=f[i],p=n(r[d],!1),p!==void 0&&(o&&(o+=","),o+=JSON.stringify(d)+":"+p),i++;return"{"+o+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Tf=function(r){var s=n(r,!1);if(s!==void 0)return""+s},Tf}var Ex=Ax(),qp=_x(Ex);const fa=32;function Rf(t){let e=0;for(;t>1;)t/=2,e++;return e}function xx(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class Ix{constructor(e,n,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Rf(xx(e+fa+1))-Rf(fa)-1,r=this.getSlotsInEpoch(n),s=e-(r-fa);return[n,s]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=n%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*fa:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Rf(fa)):this.slotsPerEpoch}}var Sx=globalThis.fetch;class Bx extends zE{constructor(e,n,r){const s=i=>{const a=qE(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in a?this.underlyingSocket=a.socket:this.underlyingSocket=a,a};super(s,e,n,r),this.underlyingSocket=void 0}call(...e){const n=this.underlyingSocket?.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function kx(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const jp=56;class zp{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=kx(Tx,e),r=e.length-jp;rn(r>=0,"lookup table is invalid"),rn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=ee.struct([ee.seq(Et(),s,"addresses")]).decode(e.slice(jp));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Ve(n.authority[0]):void 0,addresses:i.map(a=>new Ve(a))}}}const Tx={index:1,layout:ee.struct([ee.u32("typeIndex"),Io("deactivationSlot"),ee.nu64("lastExtendedSlot"),ee.u8("lastExtendedStartIndex"),ee.u8(),ee.seq(Et(),ee.offset(ee.u8(),-1),"authority")])},Rx=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Mx(t){const e=t.match(Rx);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,s,i]=e,a=t.startsWith("https:")?"wss:":"ws:",o=s==null?null:parseInt(s.slice(1),10),f=o==null?"":`:${o+1}`;return`${a}//${r}${f}${i}`}const Wt=vc(bh(Ve),Ie(),t=>new Ve(t)),Ty=_h([Ie(),Vt("base64")]),xh=vc(bh(bt.Buffer),Ty,t=>bt.Buffer.from(t[0],"base64")),Cx=30*1e3;function Px(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Dt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...s}=t;e=r,n=s}return{commitment:e,config:n}}function Vp(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Ry(t){return Rn([ve({jsonrpc:Vt("2.0"),id:Ie(),result:t}),ve({jsonrpc:Vt("2.0"),id:Ie(),error:ve({code:zo(),message:Ie(),data:qe(hE())})})])}const Nx=Ry(zo());function yt(t){return vc(Ry(t),Nx,e=>"error"in e?e:{...e,result:Se(e.result,t)})}function Jt(t){return yt(ve({context:ve({slot:oe()}),value:t}))}function Bl(t){return ve({context:ve({slot:oe()}),value:t})}function Mf(t,e){return t===0?new vu({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new Ve(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:pn.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Bi(e)}const Lx=ve({foundation:oe(),foundationTerm:oe(),initial:oe(),taper:oe(),terminal:oe()}),Ox=yt(Me(Pe(ve({epoch:oe(),effectiveSlot:oe(),amount:oe(),postBalance:oe(),commission:qe(Pe(oe()))})))),Fx=Me(ve({slot:oe(),prioritizationFee:oe()})),Dx=ve({total:oe(),validator:oe(),foundation:oe(),epoch:oe()}),Ux=ve({epoch:oe(),slotIndex:oe(),slotsInEpoch:oe(),absoluteSlot:oe(),blockHeight:qe(oe()),transactionCount:qe(oe())}),Hx=ve({slotsPerEpoch:oe(),leaderScheduleSlotOffset:oe(),warmup:Br(),firstNormalEpoch:oe(),firstNormalSlot:oe()}),$x=ly(Ie(),Me(oe())),Us=Pe(Rn([ve({}),Ie()])),Gx=ve({err:Us}),qx=Vt("receivedSignature"),jx=ve({"solana-core":Ie(),"feature-set":qe(oe())}),zx=ve({program:Ie(),programId:Wt,parsed:zo()}),Vx=ve({programId:Wt,accounts:Me(Wt),data:Ie()}),Wp=Jt(ve({err:Pe(Rn([ve({}),Ie()])),logs:Pe(Me(Ie())),accounts:qe(Pe(Me(Pe(ve({executable:Br(),owner:Ie(),lamports:oe(),data:Me(Ie()),rentEpoch:qe(oe())}))))),unitsConsumed:qe(oe()),returnData:qe(Pe(ve({programId:Ie(),data:_h([Ie(),Vt("base64")])}))),innerInstructions:qe(Pe(Me(ve({index:oe(),instructions:Me(Rn([zx,Vx]))}))))})),Wx=Jt(ve({byIdentity:ly(Ie(),Me(oe())),range:ve({firstSlot:oe(),lastSlot:oe()})}));function Kx(t,e,n,r,s,i){const a=n||Sx;let o;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let f;return r&&(f=async(p,y)=>{const B=await new Promise((x,M)=>{try{r(p,y,(I,R)=>x([I,R]))}catch(I){M(I)}});return await a(...B)}),new FE(async(p,y)=>{const B={method:"POST",body:p,agent:o,headers:Object.assign({"Content-Type":"application/json"},e||{},K2)};try{let x=5,M,I=500;for(;f?M=await f(t,B):M=await a(t,B),!(M.status!==429||s===!0||(x-=1,x===0));)console.error(`Server responded with ${M.status} ${M.statusText}.  Retrying after ${I}ms delay...`),await Js(I),I*=2;const R=await M.text();M.ok?y(null,R):y(new Error(`${M.status} ${M.statusText}: ${R}`))}catch(x){x instanceof Error&&y(x)}},{})}function Qx(t){return(e,n)=>new Promise((r,s)=>{t.request(e,n,(i,a)=>{if(i){s(i);return}r(a)})})}function Zx(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const s=e.map(i=>t.request(i.methodName,i.args));t.request(s,(i,a)=>{if(i){r(i);return}n(a)})})}const Yx=yt(Lx),Jx=yt(Dx),Xx=yt(Fx),e2=yt(Ux),t2=yt(Hx),n2=yt($x),r2=yt(oe()),i2=Jt(ve({total:oe(),circulating:oe(),nonCirculating:oe(),nonCirculatingAccounts:Me(Wt)})),vd=ve({amount:Ie(),uiAmount:Pe(oe()),decimals:oe(),uiAmountString:qe(Ie())}),s2=Jt(Me(ve({address:Wt,amount:Ie(),uiAmount:Pe(oe()),decimals:oe(),uiAmountString:qe(Ie())}))),o2=Jt(Me(ve({pubkey:Wt,account:ve({executable:Br(),owner:Wt,lamports:oe(),data:xh,rentEpoch:oe()})}))),wd=ve({program:Ie(),parsed:zo(),space:oe()}),a2=Jt(Me(ve({pubkey:Wt,account:ve({executable:Br(),owner:Wt,lamports:oe(),data:wd,rentEpoch:oe()})}))),c2=Jt(Me(ve({lamports:oe(),address:Wt}))),Da=ve({executable:Br(),owner:Wt,lamports:oe(),data:xh,rentEpoch:oe()}),u2=ve({pubkey:Wt,account:Da}),l2=vc(Rn([bh(bt.Buffer),wd]),Rn([Ty,wd]),t=>Array.isArray(t)?Se(t,xh):t),bd=ve({executable:Br(),owner:Wt,lamports:oe(),data:l2,rentEpoch:oe()}),f2=ve({pubkey:Wt,account:bd}),d2=ve({state:Rn([Vt("active"),Vt("inactive"),Vt("activating"),Vt("deactivating")]),active:oe(),inactive:oe()}),h2=yt(Me(ve({signature:Ie(),slot:oe(),err:Us,memo:Pe(Ie()),blockTime:qe(Pe(oe()))}))),p2=yt(Me(ve({signature:Ie(),slot:oe(),err:Us,memo:Pe(Ie()),blockTime:qe(Pe(oe()))}))),m2=ve({subscription:oe(),result:Bl(Da)}),g2=ve({pubkey:Wt,account:Da}),y2=ve({subscription:oe(),result:Bl(g2)}),v2=ve({parent:oe(),slot:oe(),root:oe()}),w2=ve({subscription:oe(),result:v2}),b2=Rn([ve({type:Rn([Vt("firstShredReceived"),Vt("completed"),Vt("optimisticConfirmation"),Vt("root")]),slot:oe(),timestamp:oe()}),ve({type:Vt("createdBank"),parent:oe(),slot:oe(),timestamp:oe()}),ve({type:Vt("frozen"),slot:oe(),timestamp:oe(),stats:ve({numTransactionEntries:oe(),numSuccessfulTransactions:oe(),numFailedTransactions:oe(),maxTransactionsPerEntry:oe()})}),ve({type:Vt("dead"),slot:oe(),timestamp:oe(),err:Ie()})]),_2=ve({subscription:oe(),result:b2}),A2=ve({subscription:oe(),result:Bl(Rn([Gx,qx]))}),E2=ve({subscription:oe(),result:oe()}),x2=ve({pubkey:Ie(),gossip:Pe(Ie()),tpu:Pe(Ie()),rpc:Pe(Ie()),version:Pe(Ie())}),Kp=ve({votePubkey:Ie(),nodePubkey:Ie(),activatedStake:oe(),epochVoteAccount:Br(),epochCredits:Me(_h([oe(),oe(),oe()])),commission:oe(),lastVote:oe(),rootSlot:Pe(oe())}),I2=yt(ve({current:Me(Kp),delinquent:Me(Kp)})),S2=Rn([Vt("processed"),Vt("confirmed"),Vt("finalized")]),B2=ve({slot:oe(),confirmations:Pe(oe()),err:Us,confirmationStatus:qe(S2)}),k2=Jt(Me(Pe(B2))),T2=yt(oe()),My=ve({accountKey:Wt,writableIndexes:Me(oe()),readonlyIndexes:Me(oe())}),Ih=ve({signatures:Me(Ie()),message:ve({accountKeys:Me(Ie()),header:ve({numRequiredSignatures:oe(),numReadonlySignedAccounts:oe(),numReadonlyUnsignedAccounts:oe()}),instructions:Me(ve({accounts:Me(oe()),data:Ie(),programIdIndex:oe()})),recentBlockhash:Ie(),addressTableLookups:qe(Me(My))})}),Cy=ve({pubkey:Wt,signer:Br(),writable:Br(),source:qe(Rn([Vt("transaction"),Vt("lookupTable")]))}),Py=ve({accountKeys:Me(Cy),signatures:Me(Ie())}),Ny=ve({parsed:zo(),program:Ie(),programId:Wt}),Ly=ve({accounts:Me(Wt),data:Ie(),programId:Wt}),R2=Rn([Ly,Ny]),M2=Rn([ve({parsed:zo(),program:Ie(),programId:Ie()}),ve({accounts:Me(Ie()),data:Ie(),programId:Ie()})]),Oy=vc(R2,M2,t=>"accounts"in t?Se(t,Ly):Se(t,Ny)),Fy=ve({signatures:Me(Ie()),message:ve({accountKeys:Me(Cy),instructions:Me(Oy),recentBlockhash:Ie(),addressTableLookups:qe(Pe(Me(My)))})}),wu=ve({accountIndex:oe(),mint:Ie(),owner:qe(Ie()),programId:qe(Ie()),uiTokenAmount:vd}),Dy=ve({writable:Me(Wt),readonly:Me(Wt)}),kl=ve({err:Us,fee:oe(),innerInstructions:qe(Pe(Me(ve({index:oe(),instructions:Me(ve({accounts:Me(oe()),data:Ie(),programIdIndex:oe()}))})))),preBalances:Me(oe()),postBalances:Me(oe()),logMessages:qe(Pe(Me(Ie()))),preTokenBalances:qe(Pe(Me(wu))),postTokenBalances:qe(Pe(Me(wu))),loadedAddresses:qe(Dy),computeUnitsConsumed:qe(oe())}),Sh=ve({err:Us,fee:oe(),innerInstructions:qe(Pe(Me(ve({index:oe(),instructions:Me(Oy)})))),preBalances:Me(oe()),postBalances:Me(oe()),logMessages:qe(Pe(Me(Ie()))),preTokenBalances:qe(Pe(Me(wu))),postTokenBalances:qe(Pe(Me(wu))),loadedAddresses:qe(Dy),computeUnitsConsumed:qe(oe())}),Vo=Rn([Vt(0),Vt("legacy")]),Hs=ve({pubkey:Ie(),lamports:oe(),postBalance:Pe(oe()),rewardType:Pe(Ie()),commission:qe(Pe(oe()))}),C2=yt(Pe(ve({blockhash:Ie(),previousBlockhash:Ie(),parentSlot:oe(),transactions:Me(ve({transaction:Ih,meta:Pe(kl),version:qe(Vo)})),rewards:qe(Me(Hs)),blockTime:Pe(oe()),blockHeight:Pe(oe())}))),P2=yt(Pe(ve({blockhash:Ie(),previousBlockhash:Ie(),parentSlot:oe(),rewards:qe(Me(Hs)),blockTime:Pe(oe()),blockHeight:Pe(oe())}))),N2=yt(Pe(ve({blockhash:Ie(),previousBlockhash:Ie(),parentSlot:oe(),transactions:Me(ve({transaction:Py,meta:Pe(kl),version:qe(Vo)})),rewards:qe(Me(Hs)),blockTime:Pe(oe()),blockHeight:Pe(oe())}))),L2=yt(Pe(ve({blockhash:Ie(),previousBlockhash:Ie(),parentSlot:oe(),transactions:Me(ve({transaction:Fy,meta:Pe(Sh),version:qe(Vo)})),rewards:qe(Me(Hs)),blockTime:Pe(oe()),blockHeight:Pe(oe())}))),O2=yt(Pe(ve({blockhash:Ie(),previousBlockhash:Ie(),parentSlot:oe(),transactions:Me(ve({transaction:Py,meta:Pe(Sh),version:qe(Vo)})),rewards:qe(Me(Hs)),blockTime:Pe(oe()),blockHeight:Pe(oe())}))),F2=yt(Pe(ve({blockhash:Ie(),previousBlockhash:Ie(),parentSlot:oe(),rewards:qe(Me(Hs)),blockTime:Pe(oe()),blockHeight:Pe(oe())}))),D2=yt(Pe(ve({blockhash:Ie(),previousBlockhash:Ie(),parentSlot:oe(),transactions:Me(ve({transaction:Ih,meta:Pe(kl)})),rewards:qe(Me(Hs)),blockTime:Pe(oe())}))),Qp=yt(Pe(ve({blockhash:Ie(),previousBlockhash:Ie(),parentSlot:oe(),signatures:Me(Ie()),blockTime:Pe(oe())}))),Cf=yt(Pe(ve({slot:oe(),meta:Pe(kl),blockTime:qe(Pe(oe())),transaction:Ih,version:qe(Vo)}))),Uc=yt(Pe(ve({slot:oe(),transaction:Fy,meta:Pe(Sh),blockTime:qe(Pe(oe())),version:qe(Vo)}))),U2=Jt(ve({blockhash:Ie(),lastValidBlockHeight:oe()})),H2=Jt(Br()),$2=ve({slot:oe(),numTransactions:oe(),numSlots:oe(),samplePeriodSecs:oe()}),G2=yt(Me($2)),q2=Jt(Pe(ve({feeCalculator:ve({lamportsPerSignature:oe()})}))),j2=yt(Ie()),z2=yt(Ie()),V2=ve({err:Us,logs:Me(Ie()),signature:Ie()}),W2=ve({result:Bl(V2),subscription:oe()}),K2={"solana-client":"js/1.0.0-maintenance"};class Q2{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const d={};return async p=>{const{commitment:y,config:B}=Dt(p),x=this._buildArgs([],y,void 0,B),M=qp(x);return d[M]=d[M]??(async()=>{try{const I=await this._rpcRequest("getBlockHeight",x),R=Se(I,yt(oe()));if("error"in R)throw new Ue(R.error,"failed to get block height information");return R.result}finally{delete d[M]}})(),await d[M]}})();let r,s,i,a,o,f;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,s=n.httpHeaders,i=n.fetch,a=n.fetchMiddleware,o=n.disableRetryOnRateLimit,f=n.httpAgent),this._rpcEndpoint=Px(e),this._rpcWsEndpoint=r||Mx(e),this._rpcClient=Kx(e,s,i,a,o,f),this._rpcRequest=Qx(this._rpcClient),this._rpcBatchRequest=Zx(this._rpcClient),this._rpcWebSocket=new Bx(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:s}=Dt(n),i=this._buildArgs([e.toBase58()],r,void 0,s),a=await this._rpcRequest("getBalance",i),o=Se(a,Jt(oe()));if("error"in o)throw new Ue(o.error,`failed to get balance for ${e.toBase58()}`);return o.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=Se(n,yt(Pe(oe())));if("error"in r)throw new Ue(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=Se(e,yt(oe()));if("error"in n)throw new Ue(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=Se(e,r2);if("error"in n)throw new Ue(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),s=Se(r,i2);if("error"in s)throw new Ue(s.error,"failed to get supply");return s.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenSupply",r),i=Se(s,Jt(vd));if("error"in i)throw new Ue(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",r),i=Se(s,Jt(vd));if("error"in i)throw new Ue(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,n,r){const{commitment:s,config:i}=Dt(r);let a=[e.toBase58()];"mint"in n?a.push({mint:n.mint.toBase58()}):a.push({programId:n.programId.toBase58()});const o=this._buildArgs(a,s,"base64",i),f=await this._rpcRequest("getTokenAccountsByOwner",o),d=Se(f,o2);if("error"in d)throw new Ue(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,n,r){let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",i),o=Se(a,a2);if("error"in o)throw new Ue(o.error,`failed to get token accounts owned by account ${e.toBase58()}`);return o.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",r),i=Se(s,c2);if("error"in i)throw new Ue(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",r),i=Se(s,s2);if("error"in i)throw new Ue(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:s}=Dt(n),i=this._buildArgs([e.toBase58()],r,"base64",s),a=await this._rpcRequest("getAccountInfo",i),o=Se(a,Jt(Pe(Da)));if("error"in o)throw new Ue(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getParsedAccountInfo(e,n){const{commitment:r,config:s}=Dt(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),a=await this._rpcRequest("getAccountInfo",i),o=Se(a,Jt(Pe(bd)));if("error"in o)throw new Ue(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:s}=Dt(n),i=e.map(d=>d.toBase58()),a=this._buildArgs([i],r,"jsonParsed",s),o=await this._rpcRequest("getMultipleAccounts",a),f=Se(o,Jt(Me(Pe(bd))));if("error"in f)throw new Ue(f.error,`failed to get info for accounts ${i}`);return f.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:s}=Dt(n),i=e.map(d=>d.toBase58()),a=this._buildArgs([i],r,"base64",s),o=await this._rpcRequest("getMultipleAccounts",a),f=Se(o,Jt(Me(Pe(Da))));if("error"in f)throw new Ue(f.error,`failed to get info for accounts ${i}`);return f.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:s,config:i}=Dt(n),a=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??i?.epoch}),o=await this._rpcRequest("getStakeActivation",a),f=Se(o,yt(d2));if("error"in f)throw new Ue(f.error,`failed to get Stake Activation ${e.toBase58()}`);return f.result}async getProgramAccounts(e,n){const{commitment:r,config:s}=Dt(n),{encoding:i,...a}=s||{},o=this._buildArgs([e.toBase58()],r,i||"base64",{...a,...a.filters?{filters:Vp(a.filters)}:null}),f=await this._rpcRequest("getProgramAccounts",o),d=Me(u2),p=a.withContext===!0?Se(f,Jt(d)):Se(f,yt(d));if("error"in p)throw new Ue(p.error,`failed to get accounts owned by program ${e.toBase58()}`);return p.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:s}=Dt(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),a=await this._rpcRequest("getProgramAccounts",i),o=Se(a,yt(Me(f2)));if("error"in o)throw new Ue(o.error,`failed to get accounts owned by program ${e.toBase58()}`);return o.result}async confirmTransaction(e,n){let r;if(typeof e=="string")r=e;else{const i=e;if(i.abortSignal?.aborted)return Promise.reject(i.abortSignal.reason);r=i.signature}let s;try{s=pn.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return rn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,s,i=!1;const a=new Promise((f,d)=>{try{r=this.onSignature(n,(y,B)=>{r=void 0;const x={context:B,value:y};f({__type:pi.PROCESSED,response:x})},e);const p=new Promise(y=>{r==null?y():s=this._onSubscriptionStateChange(r,B=>{B==="subscribed"&&y()})});(async()=>{if(await p,i)return;const y=await this.getSignatureStatus(n);if(i||y==null)return;const{context:B,value:x}=y;if(x!=null)if(x?.err)d(x.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(x.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(x.confirmationStatus==="processed"||x.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,f({__type:pi.PROCESSED,response:{context:B,value:x}})}})()}catch(p){d(p)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:a}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:s}}){let i=!1;const a=new Promise(y=>{const B=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let x=await B();if(!i){for(;x<=r;)if(await Js(1e3),i||(x=await B(),i))return;y({__type:pi.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:o,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),d=this.getCancellationPromise(n);let p;try{const y=await Promise.race([d,f,a]);if(y.__type===pi.PROCESSED)p=y.response;else throw new Iy(s)}finally{i=!0,o()}return p}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:a}}){let o=!1;const f=new Promise(x=>{let M=i,I=null;const R=async()=>{try{const{context:N,value:D}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return I=N.slot,D?.nonce}catch{return M}};(async()=>{if(M=await R(),!o)for(;;){if(i!==M){x({__type:pi.NONCE_INVALID,slotInWhichNonceDidAdvance:I});return}if(await Js(2e3),o||(M=await R(),o))return}})()}),{abortConfirmation:d,confirmationPromise:p}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),y=this.getCancellationPromise(n);let B;try{const x=await Promise.race([y,p,f]);if(x.__type===pi.PROCESSED)B=x.response;else{let M;for(;;){const I=await this.getSignatureStatus(a);if(I==null)break;if(I.context.slot<(x.slotInWhichNonceDidAdvance??r)){await Js(400);continue}M=I;break}if(M?.value){const I=e||"finalized",{confirmationStatus:R}=M.value;switch(I){case"processed":case"recent":if(R!=="processed"&&R!=="confirmed"&&R!=="finalized")throw new xa(a);break;case"confirmed":case"single":case"singleGossip":if(R!=="confirmed"&&R!=="finalized")throw new xa(a);break;case"finalized":case"max":case"root":if(R!=="finalized")throw new xa(a);break;default:}B={context:M.context,value:{err:M.value.err}}}else throw new xa(a)}}finally{o=!0,d()}return B}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const s=new Promise(f=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>f({__type:pi.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:i,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let o;try{const f=await Promise.race([a,s]);if(f.__type===pi.PROCESSED)o=f.response;else throw new Sy(n,f.timeoutMs/1e3)}finally{clearTimeout(r),i()}return o}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=Se(e,yt(Me(x2)));if("error"in n)throw new Ue(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),s=Se(r,I2);if("error"in s)throw new Ue(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:n,config:r}=Dt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlot",s),a=Se(i,yt(oe()));if("error"in a)throw new Ue(a.error,"failed to get slot");return a.result}async getSlotLeader(e){const{commitment:n,config:r}=Dt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlotLeader",s),a=Se(i,yt(Ie()));if("error"in a)throw new Ue(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,n){const r=[e,n],s=await this._rpcRequest("getSlotLeaders",r),i=Se(s,yt(Me(Wt)));if("error"in i)throw new Ue(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,n){const{context:r,value:s}=await this.getSignatureStatuses([e],n);rn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const s=await this._rpcRequest("getSignatureStatuses",r),i=Se(s,k2);if("error"in i)throw new Ue(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:n,config:r}=Dt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getTransactionCount",s),a=Se(i,yt(oe()));if("error"in a)throw new Ue(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),s=Se(r,Yx);if("error"in s)throw new Ue(s.error,"failed to get inflation");return s.result}async getInflationReward(e,n,r){const{commitment:s,config:i}=Dt(r),a=this._buildArgs([e.map(d=>d.toBase58())],s,void 0,{...i,epoch:n??i?.epoch}),o=await this._rpcRequest("getInflationReward",a),f=Se(o,Ox);if("error"in f)throw new Ue(f.error,"failed to get inflation reward");return f.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=Se(e,Jx);if("error"in n)throw new Ue(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=Dt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getEpochInfo",s),a=Se(i,e2);if("error"in a)throw new Ue(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=Se(e,t2);if("error"in n)throw new Ue(n.error,"failed to get epoch schedule");const r=n.result;return new Ix(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=Se(e,n2);if("error"in n)throw new Ue(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=Se(s,T2);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=Se(n,G2);if("error"in r)throw new Ue(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=Se(s,q2);if("error"in i)throw new Ue(i.error,"failed to get fee calculator");const{context:a,value:o}=i.result;return{context:a,value:o!==null?o.feeCalculator:null}}async getFeeForMessage(e,n){const r=xo(e.serialize()).toString("base64"),s=this._buildArgs([r],n),i=await this._rpcRequest("getFeeForMessage",s),a=Se(i,Jt(Pe(oe())));if("error"in a)throw new Ue(a.error,"failed to get fee for message");if(a.result===null)throw new Error("invalid blockhash");return a.result}async getRecentPrioritizationFees(e){const n=e?.lockedWritableAccounts?.map(a=>a.toBase58()),r=n?.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=Se(s,Xx);if("error"in i)throw new Ue(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=Dt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),a=Se(i,U2);if("error"in a)throw new Ue(a.error,"failed to get latest blockhash");return a.result}async isBlockhashValid(e,n){const{commitment:r,config:s}=Dt(n),i=this._buildArgs([e],r,void 0,s),a=await this._rpcRequest("isBlockhashValid",i),o=Se(a,H2);if("error"in o)throw new Ue(o.error,"failed to determine if the blockhash `"+e+"`is valid");return o.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=Se(e,yt(jx));if("error"in n)throw new Ue(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=Se(e,yt(Ie()));if("error"in n)throw new Ue(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:s}=Dt(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),a=await this._rpcRequest("getBlock",i);try{switch(s?.transactionDetails){case"accounts":{const o=Se(a,N2);if("error"in o)throw o.error;return o.result}case"none":{const o=Se(a,P2);if("error"in o)throw o.error;return o.result}default:{const o=Se(a,C2);if("error"in o)throw o.error;const{result:f}=o;return f?{...f,transactions:f.transactions.map(({transaction:d,meta:p,version:y})=>({meta:p,transaction:{...d,message:Mf(y,d.message)},version:y}))}:null}}}catch(o){throw new Ue(o,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:s}=Dt(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),a=await this._rpcRequest("getBlock",i);try{switch(s?.transactionDetails){case"accounts":{const o=Se(a,O2);if("error"in o)throw o.error;return o.result}case"none":{const o=Se(a,F2);if("error"in o)throw o.error;return o.result}default:{const o=Se(a,L2);if("error"in o)throw o.error;return o.result}}}catch(o){throw new Ue(o,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:o,...f}=e;r=o,n=f}const s=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getBlockProduction",s),a=Se(i,Wx);if("error"in a)throw new Ue(a.error,"failed to get block production information");return a.result}async getTransaction(e,n){const{commitment:r,config:s}=Dt(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),a=await this._rpcRequest("getTransaction",i),o=Se(a,Cf);if("error"in o)throw new Ue(o.error,"failed to get transaction");const f=o.result;return f&&{...f,transaction:{...f.transaction,message:Mf(f.version,f.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:s}=Dt(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),a=await this._rpcRequest("getTransaction",i),o=Se(a,Uc);if("error"in o)throw new Ue(o.error,"failed to get transaction");return o.result}async getParsedTransactions(e,n){const{commitment:r,config:s}=Dt(n),i=e.map(f=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([f],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(f=>{const d=Se(f,Uc);if("error"in d)throw new Ue(d.error,"failed to get transactions");return d.result})}async getTransactions(e,n){const{commitment:r,config:s}=Dt(n),i=e.map(f=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([f],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(f=>{const d=Se(f,Cf);if("error"in d)throw new Ue(d.error,"failed to get transactions");const p=d.result;return p&&{...p,transaction:{...p.transaction,message:Mf(p.version,p.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getBlock",r),i=Se(s,D2);if("error"in i)throw new Ue(i.error,"failed to get confirmed block");const a=i.result;if(!a)throw new Error("Confirmed block "+e+" not found");const o={...a,transactions:a.transactions.map(({transaction:f,meta:d})=>{const p=new Bi(f.message);return{meta:d,transaction:{...f,message:p}}})};return{...o,transactions:o.transactions.map(({transaction:f,meta:d})=>({meta:d,transaction:la.populate(f.message,f.signatures)}))}}async getBlocks(e,n,r){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),i=await this._rpcRequest("getBlocks",s),a=Se(i,yt(Me(oe())));if("error"in a)throw new Ue(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=Se(s,Qp);if("error"in i)throw new Ue(i.error,"failed to get block");const a=i.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=Se(s,Qp);if("error"in i)throw new Ue(i.error,"failed to get confirmed block");const a=i.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getTransaction",r),i=Se(s,Cf);if("error"in i)throw new Ue(i.error,"failed to get transaction");const a=i.result;if(!a)return a;const o=new Bi(a.transaction.message),f=a.transaction.signatures;return{...a,transaction:la.populate(o,f)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=Se(s,Uc);if("error"in i)throw new Ue(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,n){const r=e.map(a=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([a],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(a=>{const o=Se(a,Uc);if("error"in o)throw new Ue(o.error,"failed to get confirmed transactions");return o.result})}async getConfirmedSignaturesForAddress(e,n,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<i));)try{const f=await this.getConfirmedBlockSignatures(n,"finalized");f.signatures.length>0&&(s.until=f.signatures[f.signatures.length-1].toString())}catch(f){if(f instanceof Error&&f.message.includes("skipped"))continue;throw f}let a=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>a));)try{const f=await this.getConfirmedBlockSignatures(r);f.signatures.length>0&&(s.before=f.signatures[f.signatures.length-1].toString())}catch(f){if(f instanceof Error&&f.message.includes("skipped"))continue;throw f}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(f=>f.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),a=Se(i,h2);if("error"in a)throw new Ue(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getSignaturesForAddress",s),a=Se(i,p2);if("error"in a)throw new Ue(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=new zp({key:e,state:zp.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=Eh.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),s=Se(r,j2);if("error"in s)throw new Ue(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Js(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Cx;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Js(wx/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=Dt(e),s=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),a=Se(i,Jt(oe()));if("error"in a)throw new Ue(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,n,r){if("message"in e){const I=e.serialize(),R=bt.Buffer.from(I).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const N=n||{};N.encoding="base64","commitment"in N||(N.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(N.innerInstructions=n.innerInstructions);const D=[R,N],U=await this._rpcRequest("simulateTransaction",D),K=Se(U,Wp);if("error"in K)throw new Error("failed to simulate transaction: "+K.error.message);return K.result}let s;if(e instanceof la){let M=e;s=new la,s.feePayer=M.feePayer,s.instructions=e.instructions,s.nonceInfo=M.nonceInfo,s.signatures=M.signatures}else s=la.populate(e),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(s.nonceInfo&&i)s.sign(...i);else{let M=this._disableBlockhashCaching;for(;;){const I=await this._blockhashWithExpiryBlockHeight(M);if(s.lastValidBlockHeight=I.lastValidBlockHeight,s.recentBlockhash=I.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const R=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(R)&&!this._blockhashInfo.transactionSignatures.includes(R)){this._blockhashInfo.simulatedSignatures.push(R);break}else M=!0}}const a=s._compile(),o=a.serialize(),d=s._serialize(o).toString("base64"),p={encoding:"base64",commitment:this.commitment};if(r){const M=(Array.isArray(r)?r:a.nonProgramIds()).map(I=>I.toBase58());p.accounts={encoding:"base64",addresses:M}}i&&(p.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(p.innerInstructions=n.innerInstructions);const y=[d,p],B=await this._rpcRequest("simulateTransaction",y),x=Se(B,Wp);if("error"in x){let M;if("data"in x.error&&(M=x.error.data.logs,M&&Array.isArray(M))){const I=`
    `,R=I+M.join(I);console.error(x.error.message,R)}throw new $p({action:"simulate",signature:"",transactionMessage:x.error.message,logs:M})}return x.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const a=e.serialize();return await this.sendRawTransaction(a,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(e.nonceInfo)e.sign(...s);else{let a=this._disableBlockhashCaching;for(;;){const o=await this._blockhashWithExpiryBlockHeight(a);if(e.lastValidBlockHeight=o.lastValidBlockHeight,e.recentBlockhash=o.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const f=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(f))a=!0;else{this._blockhashInfo.transactionSignatures.push(f);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,n){const r=xo(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},s=n&&n.skipPreflight,i=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const a=[e,r],o=await this._rpcRequest("sendTransaction",a),f=Se(o,z2);if("error"in f){let d;throw"data"in f.error&&(d=f.error.data.logs),new $p({action:s?"send":"simulate",signature:"",transactionMessage:f.error.message,logs:d})}return f.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){const r=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(i=>{try{i(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:a}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const o=await this._rpcWebSocket.call(a,i);this._setSubscription(r,{...s,serverSubscriptionId:o,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[o]=s.callbacks,await this._updateSubscriptions()}catch(o){if(console.error(`Received ${o instanceof Error?"":"JSON-RPC "}error calling \`${a}\``,{args:i,error:o}),!n())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:a}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(a,[i])}catch(o){if(o instanceof Error&&console.error(`${a} error:`,o.message),!n())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...n)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=Se(e,m2);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,s=qp([e.method,n]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const a=this._subscriptionsByHash[s];rn(a!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),a.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:s,config:i}=Dt(r),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},a)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=Se(e,y2);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,s){const{commitment:i,config:a}=Dt(r),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",a||(s?{filters:Vp(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=Se(e,W2);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=Se(e,w2);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=Se(e,_2);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,s){const i=n||this._commitment;if(i||r||s){let a={};r&&(a.encoding=r),i&&(a.commitment=i),s&&(a=Object.assign(a,s)),e.push(a)}return e}_buildArgsAtLeastConfirmed(e,n,r,s){const i=n||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,s)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=Se(e,A2);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(a,o)=>{if(a.type==="status"){n(a.result,o);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,n,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},a=this._buildArgs([e],s,void 0,i),o=this._makeSubscription({callback:(f,d)=>{n(f,d);try{this.removeSignatureListener(o)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return o}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=Se(e,E2);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:ee.struct([ee.u32("instruction"),Io("recentSlot"),ee.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:ee.struct([ee.u32("instruction")])},ExtendLookupTable:{index:2,layout:ee.struct([ee.u32("instruction"),Io(),ee.seq(Et(),ee.offset(ee.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ee.struct([ee.u32("instruction")])},CloseLookupTable:{index:4,layout:ee.struct([ee.u32("instruction")])}});new Ve("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:ee.struct([ee.u8("instruction"),ee.u32("units"),ee.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:ee.struct([ee.u8("instruction"),ee.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:ee.struct([ee.u8("instruction"),ee.u32("units")])},SetComputeUnitPrice:{index:3,layout:ee.struct([ee.u8("instruction"),Io("microLamports")])}});new Ve("ComputeBudget111111111111111111111111111111");ee.struct([ee.u8("numSignatures"),ee.u8("padding"),ee.u16("signatureOffset"),ee.u16("signatureInstructionIndex"),ee.u16("publicKeyOffset"),ee.u16("publicKeyInstructionIndex"),ee.u16("messageDataOffset"),ee.u16("messageDataSize"),ee.u16("messageInstructionIndex")]);new Ve("Ed25519SigVerify111111111111111111111111111");sx.utils.isValidPrivateKey;ee.struct([ee.u8("numSignatures"),ee.u16("signatureOffset"),ee.u8("signatureInstructionIndex"),ee.u16("ethAddressOffset"),ee.u8("ethAddressInstructionIndex"),ee.u16("messageDataOffset"),ee.u16("messageDataSize"),ee.u8("messageInstructionIndex"),ee.blob(20,"ethAddress"),ee.blob(64,"signature"),ee.u8("recoveryId")]);new Ve("KeccakSecp256k11111111111111111111111111111");var Uy;new Ve("StakeConfig11111111111111111111111111111111");class Hy{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}Uy=Hy;Hy.default=new Uy(0,0,Ve.default);Object.freeze({Initialize:{index:0,layout:ee.struct([ee.u32("instruction"),fx(),dx()])},Authorize:{index:1,layout:ee.struct([ee.u32("instruction"),Et("newAuthorized"),ee.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:ee.struct([ee.u32("instruction")])},Split:{index:3,layout:ee.struct([ee.u32("instruction"),ee.ns64("lamports")])},Withdraw:{index:4,layout:ee.struct([ee.u32("instruction"),ee.ns64("lamports")])},Deactivate:{index:5,layout:ee.struct([ee.u32("instruction")])},Merge:{index:7,layout:ee.struct([ee.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:ee.struct([ee.u32("instruction"),Et("newAuthorized"),ee.u32("stakeAuthorizationType"),oo("authoritySeed"),Et("authorityOwner")])}});new Ve("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:ee.struct([ee.u32("instruction"),hx()])},Authorize:{index:1,layout:ee.struct([ee.u32("instruction"),Et("newAuthorized"),ee.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:ee.struct([ee.u32("instruction"),ee.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:ee.struct([ee.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:ee.struct([ee.u32("instruction"),px()])}});new Ve("Vote111111111111111111111111111111111111111");new Ve("Va1idator1nfo111111111111111111111111111111");ve({name:Ie(),website:qe(Ie()),details:qe(Ie()),iconUrl:qe(Ie()),keybaseUsername:qe(Ie())});new Ve("Vote111111111111111111111111111111111111111");ee.struct([Et("nodePubkey"),Et("authorizedWithdrawer"),ee.u8("commission"),ee.nu64(),ee.seq(ee.struct([ee.nu64("slot"),ee.u32("confirmationCount")]),ee.offset(ee.u32(),-8),"votes"),ee.u8("rootSlotValid"),ee.nu64("rootSlot"),ee.nu64(),ee.seq(ee.struct([ee.nu64("epoch"),Et("authorizedVoter")]),ee.offset(ee.u32(),-8),"authorizedVoters"),ee.struct([ee.seq(ee.struct([Et("authorizedPubkey"),ee.nu64("epochOfLastAuthorizedSwitch"),ee.nu64("targetEpoch")]),32,"buf"),ee.nu64("idx"),ee.u8("isEmpty")],"priorVoters"),ee.nu64(),ee.seq(ee.struct([ee.nu64("epoch"),ee.nu64("credits"),ee.nu64("prevCredits")]),ee.offset(ee.u32(),-8),"epochCredits"),ee.struct([ee.nu64("slot"),ee.nu64("timestamp")],"lastTimestamp")]);const Z2={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Y2(t,e){return Z2["https"][t]}var Pf={exports:{}},Zp;function J2(){return Zp||(Zp=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(f,d,p){this.fn=f,this.context=d,this.once=p||!1}function i(f,d,p,y,B){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new s(p,y||f,B),M=n?n+d:d;return f._events[M]?f._events[M].fn?f._events[M]=[f._events[M],x]:f._events[M].push(x):(f._events[M]=x,f._eventsCount++),f}function a(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],p,y;if(this._eventsCount===0)return d;for(y in p=this._events)e.call(p,y)&&d.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},o.prototype.listeners=function(d){var p=n?n+d:d,y=this._events[p];if(!y)return[];if(y.fn)return[y.fn];for(var B=0,x=y.length,M=new Array(x);B<x;B++)M[B]=y[B].fn;return M},o.prototype.listenerCount=function(d){var p=n?n+d:d,y=this._events[p];return y?y.fn?1:y.length:0},o.prototype.emit=function(d,p,y,B,x,M){var I=n?n+d:d;if(!this._events[I])return!1;var R=this._events[I],N=arguments.length,D,U;if(R.fn){switch(R.once&&this.removeListener(d,R.fn,void 0,!0),N){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,p),!0;case 3:return R.fn.call(R.context,p,y),!0;case 4:return R.fn.call(R.context,p,y,B),!0;case 5:return R.fn.call(R.context,p,y,B,x),!0;case 6:return R.fn.call(R.context,p,y,B,x,M),!0}for(U=1,D=new Array(N-1);U<N;U++)D[U-1]=arguments[U];R.fn.apply(R.context,D)}else{var K=R.length,j;for(U=0;U<K;U++)switch(R[U].once&&this.removeListener(d,R[U].fn,void 0,!0),N){case 1:R[U].fn.call(R[U].context);break;case 2:R[U].fn.call(R[U].context,p);break;case 3:R[U].fn.call(R[U].context,p,y);break;case 4:R[U].fn.call(R[U].context,p,y,B);break;default:if(!D)for(j=1,D=new Array(N-1);j<N;j++)D[j-1]=arguments[j];R[U].fn.apply(R[U].context,D)}}return!0},o.prototype.on=function(d,p,y){return i(this,d,p,y,!1)},o.prototype.once=function(d,p,y){return i(this,d,p,y,!0)},o.prototype.removeListener=function(d,p,y,B){var x=n?n+d:d;if(!this._events[x])return this;if(!p)return a(this,x),this;var M=this._events[x];if(M.fn)M.fn===p&&(!B||M.once)&&(!y||M.context===y)&&a(this,x);else{for(var I=0,R=[],N=M.length;I<N;I++)(M[I].fn!==p||B&&!M[I].once||y&&M[I].context!==y)&&R.push(M[I]);R.length?this._events[x]=R.length===1?R[0]:R:a(this,x)}return this},o.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&a(this,p)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o}(Pf)),Pf.exports}var X2=J2();const eI=Ni(X2);class dr extends Error{constructor(e,n){super(e),this.error=n}}class tI extends dr{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class nI extends dr{constructor(){super(...arguments),this.name="WalletConnectionError"}}class rI extends dr{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class iI extends dr{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class sI extends dr{constructor(){super(...arguments),this.name="WalletAccountError"}}class Yp extends dr{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Ia extends dr{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Sa extends dr{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class ao extends dr{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class oI extends dr{constructor(){super(...arguments),this.name="WalletSignMessageError"}}var yr;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(yr||(yr={}));class aI extends eI{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const s=this.publicKey;if(!s)throw new Ia;return e.feePayer=e.feePayer||s,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function cI(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const i of e)i()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function uI(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function _d(t){return"version"in t}class lI extends aI{async sendTransaction(e,n,r={}){let s=!0;try{if(_d(e)){if(!this.supportedTransactionVersions)throw new Sa("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Sa(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const i=e.serialize();return await n.sendRawTransaction(i,r)}catch(i){throw i instanceof ao?(s=!1,i):new Sa(i?.message,i)}}else try{const{signers:i,...a}=r;e=await this.prepareTransaction(e,n,a),i?.length&&e.partialSign(...i),e=await this.signTransaction(e);const o=e.serialize();return await n.sendRawTransaction(o,a)}catch(i){throw i instanceof ao?(s=!1,i):new Sa(i?.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(e){for(const r of e)if(_d(r)){if(!this.supportedTransactionVersions)throw new ao("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new ao(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class fI extends lI{}const dI="Phantom";class hI extends fI{constructor(e={}){super(),this.name=dI,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?yr.Unsupported:yr.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new rI),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new Ve(n.toBytes())}catch(s){this.emit("error",new Yp(s?.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==yr.Unsupported&&(uI()?(this._readyState=yr.Loadable,this.emit("readyStateChange",this._readyState)):cI(()=>window.phantom?.solana?.isPhantom||window.solana?.isPhantom?(this._readyState=yr.Installed,this.emit("readyStateChange",this._readyState),!0):!1))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===yr.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===yr.Loadable){const r=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${r}?ref=${s}`;return}if(this.readyState!==yr.Installed)throw new tI;this._connecting=!0;const e=window.phantom?.solana||window.solana;if(!e.isConnected)try{await e.connect()}catch(r){throw new nI(r?.message,r)}if(!e.publicKey)throw new sI;let n;try{n=new Ve(e.publicKey.toBytes())}catch(r){throw new Yp(r?.message,r)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new iI(n?.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new Ia;try{const{signers:i,...a}=r;_d(e)?i?.length&&e.sign(i):(e=await this.prepareTransaction(e,n,a),i?.length&&e.partialSign(...i)),a.preflightCommitment=a.preflightCommitment||n.commitment;const{signature:o}=await s.signAndSendTransaction(e,a);return o}catch(i){throw i instanceof dr?i:new Sa(i?.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Ia;try{return await n.signTransaction(e)||e}catch(r){throw new ao(r?.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Ia;try{return await n.signAllTransactions(e)||e}catch(r){throw new ao(r?.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Ia;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new oI(r?.message,r)}}catch(n){throw this.emit("error",n),n}}}const Lr=He(null),da=He(!1),ha=He(!1),rr=He(null),Nf=He(0),Jp=new Q2(Y2("devnet"),"confirmed");function Bh(){const t=()=>{Lr.value=new hI,Lr.value.on("connect",o=>{da.value=!0,rr.value=o,r(),console.log("💎 Phantom wallet connected:",o.toBase58())}),Lr.value.on("disconnect",()=>{da.value=!1,rr.value=null,Nf.value=0,console.log("👋 Phantom wallet disconnected")}),Lr.value.on("error",o=>{console.error("🚨 Wallet error:",o),ha.value=!1})},e=async()=>{if(Lr.value||t(),!(ha.value||da.value))try{ha.value=!0,await Lr.value?.connect()}catch(o){console.error("Failed to connect wallet:",o),o instanceof Error&&o.message.includes("not found")&&window.open("https://phantom.app/","_blank")}finally{ha.value=!1}},n=async()=>{try{await Lr.value?.disconnect()}catch(o){console.error("Failed to disconnect wallet:",o)}},r=async()=>{if(rr.value)try{const o=await Jp.getBalance(rr.value);Nf.value=o/1e9}catch(o){console.error("Failed to fetch balance:",o)}},s=_t(()=>{if(!rr.value)return"";const o=rr.value.toBase58();return`${o.slice(0,4)}...${o.slice(-4)}`}),i=_t(()=>rr.value?.toBase58()||""),a=async()=>{Lr.value?.connected&&(da.value=!0,rr.value=Lr.value.publicKey,await r())};return t(),a(),xs(rr,()=>{rr.value&&r()}),{isConnected:_t(()=>da.value),isConnecting:_t(()=>ha.value),publicKey:_t(()=>rr.value),balance:_t(()=>Nf.value),shortAddress:s,fullAddress:i,connection:Jp,connectWallet:e,disconnectWallet:n,updateBalance:r,checkConnection:a}}const pa="https://api.gli-platform.com",ma="gli_auth_token",Hc="gli_user_profile",$c=He(!1),pr=He(null),ga=He(null),Lf=He(!1);function pI(){const{publicKey:t,isConnected:e,fullAddress:n}=Bh(),r=async()=>{if(!e.value||!t.value)throw new Error("지갑이 연결되지 않았습니다");try{Lf.value=!0;const f=await os.post(`${pa}/api/auth/nonce/`,{wallet_address:n.value}),{nonce:d}=f.data,p=`GLI Platform 로그인 인증

지갑 주소: ${n.value}
시간: ${new Date().toISOString()}
Nonce: ${d}`,y=new TextEncoder().encode(p),B=await window.phantom?.solana?.signMessage(y,"utf8");if(!B)throw new Error("메시지 서명에 실패했습니다");const x=await os.post(`${pa}/api/auth/verify/`,{wallet_address:n.value,signature:Array.from(B.signature),message:p,nonce:d}),{access_token:M,user:I}=x.data;return pr.value=M,ga.value=I,$c.value=!0,localStorage.setItem(ma,M),localStorage.setItem(Hc,JSON.stringify(I)),console.log("🎉 GLI Platform 인증 성공!"),{success:!0,user:I}}catch(f){throw console.error("인증 실패:",f),new Error(f.response?.data?.message||"인증에 실패했습니다")}finally{Lf.value=!1}},s=async()=>{try{pr.value&&await os.post(`${pa}/api/auth/logout/`,{},{headers:{Authorization:`Bearer ${pr.value}`}})}catch(f){console.error("로그아웃 요청 실패:",f)}pr.value=null,ga.value=null,$c.value=!1,localStorage.removeItem(ma),localStorage.removeItem(Hc),console.log("👋 GLI Platform 로그아웃 완료")},i=async()=>{const f=pr.value||localStorage.getItem(ma);if(!f)return!1;try{const d=await os.post(`${pa}/api/auth/refresh/`,{},{headers:{Authorization:`Bearer ${f}`}}),{access_token:p}=d.data;return pr.value=p,localStorage.setItem(ma,p),!0}catch(d){return console.error("토큰 갱신 실패:",d),await s(),!1}},a=async f=>{if(!pr.value)throw new Error("로그인이 필요합니다");try{const d=await os.put(`${pa}/api/user/profile/`,f,{headers:{Authorization:`Bearer ${pr.value}`}});return ga.value=d.data,localStorage.setItem(Hc,JSON.stringify(d.data)),d.data}catch(d){throw new Error(d.response?.data?.message||"프로필 업데이트에 실패했습니다")}},o=()=>{const f=localStorage.getItem(ma),d=localStorage.getItem(Hc);f&&d&&(pr.value=f,ga.value=JSON.parse(d),$c.value=!0,i().catch(()=>{s()}))};return o(),{isAuthenticated:_t(()=>$c.value),isAuthenticating:_t(()=>Lf.value),authToken:_t(()=>pr.value),userProfile:_t(()=>ga.value),authenticateWithWallet:r,logout:s,refreshToken:i,updateProfile:a,initializeAuth:o}}const Xp=gn({__name:"PhantomIcon",props:{className:{default:"w-6 h-6"}},setup(t){return(e,n)=>(Be(),Te("svg",{class:xt(e.className),viewBox:"0 0 108 108",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n[0]||(n[0]=[id('<defs><linearGradient id="phantomGradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#AB9FF2;"></stop><stop offset="100%" style="stop-color:#7B5AFF;"></stop></linearGradient></defs><path d="M89.2 19.8C82.4 13.1 73.3 9.3 63.6 9.3c-19.5 0-35.8 15.4-37.1 34.8-1.5 22.4 16.4 41.1 38.5 41.1 10.1 0 19.5-4.1 26.2-10.7 6.7-6.6 10.6-15.7 10.6-25.4V21.9c0-.7-.6-1.3-1.3-1.3-.7 0-1.3.6-1.3 1.3v27.2c0 8.7-3.5 16.9-9.8 22.9-6.3 6-14.7 9.3-23.5 9.3-19.8 0-35.8-16.7-34.4-37 1.2-17.4 15.7-31.2 33.2-31.2 8.7 0 16.9 3.5 22.9 9.8 6 6.3 9.3 14.7 9.3 23.5v27.2c0 .7.6 1.3 1.3 1.3.7 0 1.3-.6 1.3-1.3V49.1c0-10.7-4.3-20.4-11.9-27.3z" fill="url(#phantomGradient)"></path><circle cx="75" cy="40" r="3" fill="currentColor"></circle><circle cx="85" cy="40" r="3" fill="currentColor"></circle>',4)]),2))}}),mI=gn({__name:"ChevronDownIcon",props:{className:{default:"w-5 h-5"}},setup(t){return(e,n)=>(Be(),Te("svg",{class:xt(e.className),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},n[0]||(n[0]=[q("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))}}),gI=gn({__name:"UserIcon",props:{className:{default:"w-5 h-5"}},setup(t){return(e,n)=>(Be(),Te("svg",{class:xt(e.className),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},n[0]||(n[0]=[q("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)]),2))}}),yI=gn({__name:"GiftIcon",props:{className:{default:"w-5 h-5"}},setup(t){return(e,n)=>(Be(),Te("svg",{class:xt(e.className),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},n[0]||(n[0]=[q("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"},null,-1)]),2))}}),vI=gn({__name:"LogoutIcon",props:{className:{default:"w-5 h-5"}},setup(t){return(e,n)=>(Be(),Te("svg",{class:xt(e.className),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},n[0]||(n[0]=[q("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},null,-1)]),2))}}),wI={class:"relative"},bI=["disabled"],_I={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},AI={class:"font-medium"},EI={key:1,class:"relative"},xI={class:"font-medium"},II={key:0,class:"gli-luxury-card absolute right-0 top-full mt-2 w-80 z-50"},SI={class:"p-4 border-b border-white/10"},BI={class:"flex items-center gap-3 mb-3"},kI={class:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:"var(--gli-gradient-primary)"}},TI={class:"gli-glass-panel p-3"},RI={class:"gli-wallet-address mt-1 break-all"},MI={class:"p-4 border-b border-white/10"},CI={class:"flex items-center justify-between"},PI={class:"text-2xl font-bold text-white mt-1 gli-emoji-enhanced"},NI={class:"p-4 space-y-2"},LI=["disabled"],OI={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},FI={key:1,class:"text-lg"},DI={key:1,class:"gli-glass-panel px-3 py-2 border-green-400/30"},UI={class:"text-xs text-green-300/70 mt-1"},HI=["disabled"],$I={key:0,class:"w-4 h-4 border-2 border-white/60 border-t-transparent rounded-full animate-spin"},GI=gn({__name:"PhantomWalletButton",setup(t){const e=dc(),n=He(!1),r=He(!1),{isConnected:s,isConnecting:i,publicKey:a,balance:o,shortAddress:f,fullAddress:d,connection:p,connectWallet:y,disconnectWallet:B,updateBalance:x}=Bh(),{isAuthenticated:M,isAuthenticating:I,userProfile:R,authenticateWithWallet:N,logout:D}=pI(),U=async()=>{try{await y(),s.value&&await N()}catch(Z){console.error("지갑 연결 또는 인증 실패:",Z)}},K=async()=>{try{await D(),await B(),n.value=!1}catch(Z){console.error("로그아웃 실패:",Z)}},j=()=>{n.value=!n.value},J=async()=>{try{await navigator.clipboard.writeText(d.value),console.log("주소가 클립보드에 복사되었습니다! 📋")}catch(Z){console.error("주소 복사 실패:",Z)}},ne=()=>{n.value=!1,e.push("/profile")},X=async()=>{if(!(!a.value||r.value))try{r.value=!0;const Z=await p.requestAirdrop(a.value,2*1e9),G=await p.getLatestBlockhash();await p.confirmTransaction({blockhash:G.blockhash,lastValidBlockHeight:G.lastValidBlockHeight,signature:Z}),await x(),console.log("✨ 에어드랍 완료! 2 SOL이 지갑에 추가되었습니다.")}catch(Z){console.error("에어드랍 실패:",Z)}finally{r.value=!1}};return(Z,G)=>(Be(),Te("div",wI,[Lt(s)?(Be(),Te("div",EI,[q("button",{onClick:j,class:"gli-btn-gold flex items-center gap-2"},[q("div",{class:xt(["w-2 h-2 rounded-full",Lt(M)?"bg-green-300 animate-pulse":"bg-yellow-300 animate-bounce"])},null,2),q("span",xI,Ee(Lt(M)?Lt(f):"인증 필요"),1),Ht(mI,{class:xt(["w-4 h-4 transition-transform",{"rotate-180":n.value}])},null,8,["class"])]),Ht(gg,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:Nn(()=>[n.value?(Be(),Te("div",II,[q("div",SI,[q("div",BI,[q("div",kI,[Ht(Xp,{class:"w-6 h-6 text-white"})]),G[3]||(G[3]=q("div",null,[q("h3",{class:"gli-emoji-enhanced font-semibold text-white"},"팬텀 월렛 💎"),q("p",{class:"text-sm text-white/70"},"연결됨")],-1))]),q("div",TI,[q("div",{class:"flex items-center justify-between"},[G[4]||(G[4]=q("span",{class:"text-xs text-white/70"},"월렛 주소",-1)),q("button",{onClick:J,class:"text-blue-300 hover:text-blue-200 text-xs gli-emoji-enhanced"}," 복사 📋 ")]),q("p",RI,Ee(Lt(d)),1)])]),q("div",MI,[q("div",CI,[G[5]||(G[5]=q("span",{class:"text-sm text-white/70"},"SOL 잔액",-1)),q("button",{onClick:G[0]||(G[0]=(...W)=>Lt(x)&&Lt(x)(...W)),class:"text-blue-300 hover:text-blue-200 text-xs gli-emoji-enhanced"}," 새로고침 🔄 ")]),q("p",PI,Ee(Lt(o).toFixed(4))+" SOL ⚡ ",1),G[6]||(G[6]=q("p",{class:"text-xs text-white/50 mt-1"}," Devnet 테스트넷 ",-1))]),q("div",NI,[Lt(M)?St("",!0):(Be(),Te("button",{key:0,onClick:G[1]||(G[1]=(...W)=>Lt(N)&&Lt(N)(...W)),disabled:Lt(I),class:"gli-btn-primary w-full flex items-center gap-3 disabled:opacity-50"},[Lt(I)?(Be(),Te("div",OI)):(Be(),Te("span",FI,"🚀")),q("span",null,Ee(Lt(I)?"GLI 인증 중...":"GLI 플랫폼 인증하기"),1)],8,LI)),Lt(M)?(Be(),Te("div",DI,[G[7]||(G[7]=q("div",{class:"flex items-center gap-2 text-green-300"},[q("span",{class:"text-lg gli-emoji-enhanced"},"✅"),q("span",{class:"text-sm font-medium"},"GLI 회원 인증 완료")],-1)),q("p",UI,Ee(Lt(R)?.email||"Premium GLI Member"),1)])):St("",!0),q("button",{onClick:ne,class:"w-full flex items-center gap-3 px-3 py-2 text-left text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-colors gli-emoji-enhanced"},[Ht(gI,{class:"w-4 h-4"}),G[8]||(G[8]=q("span",null,"프로필 보기 👤",-1))]),q("button",{onClick:X,disabled:r.value,class:"w-full flex items-center gap-3 px-3 py-2 text-left text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-colors disabled:opacity-50 gli-emoji-enhanced"},[r.value?(Be(),Te("div",$I)):(Be(),sd(yI,{key:1,class:"w-4 h-4"})),q("span",null,Ee(r.value?"에어드랍 중...":"테스트 SOL 받기 🎁"),1)],8,HI),q("button",{onClick:K,class:"w-full flex items-center gap-3 px-3 py-2 text-left text-red-300 hover:text-red-200 hover:bg-red-500/20 rounded-lg transition-colors gli-emoji-enhanced"},[Ht(vI,{class:"w-4 h-4"}),q("span",null,Ee(Lt(M)?"GLI 로그아웃 🚪":"지갑 연결 해제 🚪"),1)])])])):St("",!0)]),_:1})])):(Be(),Te("button",{key:0,onClick:U,disabled:Lt(i)||Lt(I),class:"gli-btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"},[Lt(i)||Lt(I)?(Be(),Te("div",_I)):(Be(),sd(Xp,{key:1,class:"w-5 h-5"})),q("span",AI,Ee(Lt(i)?"지갑 연결 중...":Lt(I)?"GLI 인증 중...":"💰 팬텀으로 GLI 로그인"),1)],8,bI)),n.value?(Be(),Te("div",{key:2,onClick:G[2]||(G[2]=W=>n.value=!1),class:"fixed inset-0 z-40"})):St("",!0)]))}}),qI={class:"gli-header"},jI={class:"header-container"},zI={class:"status-section"},VI={class:"status-text"},WI={key:0,class:"account-info"},KI={class:"account-item"},QI={class:"value wallet-address"},ZI={class:"controls-section"},YI=["title"],JI={key:0},XI={key:1},eS={class:"language-selector"},tS={value:"ko"},nS={value:"en"},rS={class:"wallet-section"},iS={key:0,class:"auto-login"},sS={class:"auto-login-checkbox"},oS=gn({__name:"GLIHeader",setup(t){const{locale:e,t:n}=jo(),r=Cg(),{isConnected:s,shortAddress:i}=Bh(),a=He(e.value),o=He(!1),f=_t(()=>r.theme),d=()=>r.toggleTheme(),p=_t(()=>({"status-connected":s.value,"status-connecting":!1,"status-disconnected":!s.value})),y=_t(()=>s.value?"🟢 Solana Devnet Connected":"🔴 Wallet Disconnected"),B=()=>{e.value=a.value};return(x,M)=>(Be(),Te("header",qI,[q("div",jI,[M[8]||(M[8]=q("div",{class:"logo-section"},[q("div",{class:"logo"},[q("span",{class:"logo-text"},"✨ GLI Platform")])],-1)),q("div",zI,[q("div",{class:xt(["network-status",p.value])},[M[2]||(M[2]=q("div",{class:"status-indicator"},null,-1)),q("span",VI,Ee(y.value),1)],2),Lt(s)?(Be(),Te("div",WI,[M[4]||(M[4]=q("div",{class:"account-item"},[q("span",{class:"label"},"💎 등급:"),q("span",{class:"value grade-premium"},"Premium GLI Member")],-1)),q("div",KI,[M[3]||(M[3]=q("span",{class:"label"},"🏦 지갑 주소:",-1)),q("span",QI,Ee(Lt(i)),1)]),M[5]||(M[5]=q("div",{class:"account-item"},[q("span",{class:"label"},"🌐 네트워크:"),q("span",{class:"value auth-number"},"Solana Devnet")],-1))])):St("",!0)]),q("div",ZI,[q("button",{class:"theme-toggle",onClick:d,title:x.$t("common.theme.toggle")},[f.value==="light"?(Be(),Te("span",JI,"🌙")):(Be(),Te("span",XI,"☀️"))],8,YI),q("div",eS,[cs(q("select",{"onUpdate:modelValue":M[0]||(M[0]=I=>a.value=I),onChange:B},[q("option",tS,"🇰🇷 "+Ee(x.$t("header.language.korean")),1),q("option",nS,"🇺🇸 "+Ee(x.$t("header.language.english")),1)],544),[[Vb,a.value]])]),q("div",rS,[Ht(GI)]),Lt(s)?(Be(),Te("div",iS,[q("label",sS,[cs(q("input",{type:"checkbox","onUpdate:modelValue":M[1]||(M[1]=I=>o.value=I)},null,512),[[Wb,o.value]]),M[6]||(M[6]=q("span",{class:"checkmark"},"✅",-1)),M[7]||(M[7]=q("span",{class:"label-text"},"자동 로그인",-1))])])):St("",!0)])])]))}}),$s=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},aS=$s(oS,[["__scopeId","data-v-92b9e3cc"]]);var nr;(function(t){t.NUMBER="NUMBER_NUMBER",t.HEX="NUMBER_HEX",t.STR="NUMBER_STR",t.BIGINT="NUMBER_BIGINT"})(nr||(nr={}));var ni;(function(t){t.HEX="BYTES_HEX",t.UINT8ARRAY="BYTES_UINT8ARRAY"})(ni||(ni={}));const kn={number:nr.BIGINT,bytes:ni.HEX},Ye={number:nr.HEX,bytes:ni.HEX};var Kr;(function(t){t.EARLIEST="earliest",t.LATEST="latest",t.PENDING="pending",t.SAFE="safe",t.FINALIZED="finalized",t.COMMITTED="committed"})(Kr||(Kr={}));var Ta;(function(t){t.chainstart="chainstart",t.frontier="frontier",t.homestead="homestead",t.dao="dao",t.tangerineWhistle="tangerineWhistle",t.spuriousDragon="spuriousDragon",t.byzantium="byzantium",t.constantinople="constantinople",t.petersburg="petersburg",t.istanbul="istanbul",t.muirGlacier="muirGlacier",t.berlin="berlin",t.london="london",t.altair="altair",t.arrowGlacier="arrowGlacier",t.grayGlacier="grayGlacier",t.bellatrix="bellatrix",t.merge="merge",t.capella="capella",t.shanghai="shanghai"})(Ta||(Ta={}));const kh=Object.getPrototypeOf(Uint8Array);var em=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const tm=Symbol.for("web3/base-provider");class wc{static isWeb3Provider(e){return e instanceof wc||!!(e&&e[tm])}get[tm](){return!0}send(e,n){this.request(e).then(r=>{n(null,r)}).catch(r=>{n(r)})}sendAsync(e){return em(this,void 0,void 0,function*(){return this.request(e)})}asEIP1193Provider(){const e=Object.create(this),n=e.request;return e.request=function(s){return em(this,void 0,void 0,function*(){return(yield n(s)).result})},e.asEIP1193Provider=void 0,e}}class cS extends Array{constructor(e){super(),this._accountProvider=e}}const uS=100,lS=101,fS=201,dS=202,hS=203,pS=204,mS=205,gS=206,yS=207,vS=208,wS=300,bS=301,_S=310,AS=311,ES=400,xS=402,IS=405,SS=407,BS=408,kS=410,TS=411,RS=412,MS=413,CS=414,PS=415,NS=416,LS=417,OS=418,FS=419,DS=420,US=421,HS=422,$S=423,GS=424,qS=425,jS=426,zS=427,VS=428,WS=429,KS=430,QS=431,ZS=432,YS=433,JS=434,XS=435,eB=436,tB=437,nB=438,rB=439,iB=440,sB=441,oB=500,aB=503,cB=505,uB=506,lB=507,fB=600,dB=602,hB=603,pB=604,mB=701,gB=702,yB=703,vB=704,wB=705,bB=706,_B=707,AB=709,EB=801,xB=802,IB=4001,SB=4100,BB=4200,kB=4900,TB=4901,RB=902,MB=903,CB=1001,PB=1002,NB=1003,LB=1004,OB=1005,FB=1006,DB=1008,UB=1009,HB=1010,$B=1011,GB=1012,qB=1014,jB=1015,zB=1100,$y=1101,VB=1200,bu=-32700,_u=-32600,Au=-32601,Eu=-32602,xu=-32603,Iu=-32e3,Su=-32001,Bu=-32002,ku=-32003,Tu=-32004,Ru=-32005,Mu=-32006;class Ke extends Error{get innerError(){return this.cause instanceof Ra?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new Ra(e):this.cause=e}constructor(e,n){super(e),Array.isArray(n)?this.cause=new Ra(n):this.cause=n,this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(new.target.constructor):this.stack=new Error().stack}static convertToString(e,n=!1){if(e==null)return"undefined";const r=JSON.stringify(e,(s,i)=>typeof i=="bigint"?i.toString():i);return n&&["bigint","string"].includes(typeof e)?r.replace(/['\\"]+/g,""):r}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class Ra extends Ke{constructor(e){super(`Multiple errors occurred: [${e.map(n=>n.message).join("], [")}]`),this.code=vS,this.errors=e}}class wt extends Ke{constructor(e,n){super(`Invalid value given "${Ke.convertToString(e,!0)}". Error: ${n}.`),this.name=this.constructor.name}}class nm extends Ke{constructor(){super("Private key must be 32 bytes."),this.code=mB}}class WB extends Ke{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=gB}}class KB extends Ke{constructor(e){super(`"${e}"`),this.code=xB}}class Gy extends Ke{constructor(){super("Invalid key derivation function"),this.code=yB}}class QB extends Ke{constructor(){super("Key derivation failed - possibly wrong password"),this.code=vB}}class ZB extends Ke{constructor(){super("Unsupported key store version"),this.code=wB}}class YB extends Ke{constructor(){super("Password cannot be empty"),this.code=bB}}class JB extends Ke{constructor(){super("Initialization vector must be 16 bytes"),this.code=_B}}class XB extends Ke{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=AB}}class bc extends Ke{constructor(e,n){super(e),this.code=oB,n&&(this.errorCode=n.code,this.errorReason=n.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class Ad extends bc{constructor(e){super("Connection not open",e),this.code=aB}}class ek extends bc{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=cB}}class tk extends bc{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=uB}}class nk extends bc{constructor(e){super(`Request already sent with following id: ${e}`),this.code=lB}}class Tn extends Ke{constructor(e,n){super(e),this.code=wS,this.receipt=n}}class rm extends Ke{constructor(e,n){super(`The resolver at ${e} does not implement requested method: "${n}".`),this.address=e,this.name=n,this.code=bS}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}}class Tl extends Tn{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,typeof e.data=="object"){let n;e.data&&"originalError"in e.data?n=e.data.originalError:n=e.data,this.data=n.data,this.cause=new Tl(n)}else this.data=e.data}setDecodedProperties(e,n,r){this.errorName=e,this.errorSignature=n,this.errorArgs=r}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}}class vs extends Tn{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=_S,this.cause=new Tl(e)}}class rk extends wt{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.`),this.code=AS}}class ik extends Ke{constructor(e){super(`ENS is not supported on network ${e}`),this.code=RB}}class sk extends Ke{constructor(){super("Network not synced"),this.code=MB}}class im extends Ke{constructor(e){super(`Invalid parameters passed. "${typeof e<"u"?e:""}"`),this.hint=e,this.code=yS}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}}class Ed extends Ke{constructor(){super(...arguments),this.code=fS}}class Or extends Ke{constructor(){super("The method you're trying to call is not implemented."),this.code=dS}}class qy extends Ke{constructor(){super(...arguments),this.code=hS}}class ok extends Ke{constructor(){super(...arguments),this.code=pS}}class It extends Ke{constructor(e,n){super(e),this.code=mS,this.props=n??{}}}class ak extends Ke{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=gS}}class Yc extends Ke{constructor(){super(...arguments),this.code=fB}}class xd extends Ke{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=dB}}class Gr extends Ke{constructor(){super(...arguments),this.code=hB}}class ck extends Ke{constructor(){super(...arguments),this.code=pB}}class uk extends wt{constructor(){super(...arguments),this.code=EB}}class Th extends Ke{constructor(e,n){super(e),this.receipt=n,this.code=ES}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class Cu extends Ke{constructor(e,n,r,s){super(`Transaction has been reverted by the EVM${r===void 0?"":`:
 ${Ke.convertToString(r)}`}`),this.reason=e,this.signature=n,this.receipt=r,this.data=s,this.code=xS}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class jy extends Cu{constructor(e,n,r,s,i,a,o){super(e),this.reason=e,this.customErrorName=n,this.customErrorDecodedSignature=r,this.customErrorArguments=s,this.signature=i,this.receipt=a,this.data=o,this.code=nB}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class zy extends Th{constructor(e){super(`Transaction has been reverted by the EVM${e===void 0?"":`:
 ${Ke.convertToString(e)}`}`,e),this.code=IS}}class lk extends Th{constructor(){super("Raw transaction undefined"),this.code=SS}}class sm extends Th{constructor(){super("Transaction not found"),this.code=KS}}class fk extends wt{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=BS}}class dk extends wt{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=tB}}class hk extends wt{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=kS}}class pk extends wt{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=TS}}class mk extends wt{constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=RS}}class gk extends wt{constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=XS}}class yk extends wt{constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=eB}}class vk extends wt{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=MS}}class wk extends wt{constructor(e){var n,r;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${(n=e.chain)!==null&&n!==void 0?n:"undefined"}, "hardfork": ${(r=e.hardfork)!==null&&r!==void 0?r:"undefined"}`),this.code=CS}}class bk extends Ke{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=iB}}class _k extends wt{constructor(e){var n,r,s,i;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(s=e.maxPriorityFeePerGas)!==null&&s!==void 0?s:"undefined"}, maxFeePerGas: ${(i=e.maxFeePerGas)!==null&&i!==void 0?i:"undefined"}`,'"gas" is missing'),this.code=PS,this.cause=new bk}}class Ak extends Ke{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=sB}}class Ek extends wt{constructor(e){var n,r,s,i;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(s=e.maxPriorityFeePerGas)!==null&&s!==void 0?s:"undefined"}, maxFeePerGas: ${(i=e.maxFeePerGas)!==null&&i!==void 0?i:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=JS,this.cause=new Ak}}class xk extends wt{constructor(e){var n,r;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=NS}}class Ik extends wt{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=LS}}class Sk extends wt{constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=OS}}class Vy extends wt{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=FS}}class Bk extends wt{constructor(e){super(e,"invalid transaction object"),this.code=DS}}class kk extends wt{constructor(e){var n,r;super(`nonce: ${(n=e.nonce)!==null&&n!==void 0?n:"undefined"}, chainId: ${(r=e.chainId)!==null&&r!==void 0?r:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=US}}class Tk extends wt{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=HS}}class Rk extends wt{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=$S}}class om extends wt{constructor(e){super(e,"unsupported transaction type"),this.code=GS}}class Wy extends wt{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`),this.code=qS}}class Mk extends Ke{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!
	Transaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=QS}}function Ky(t){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!
	Transaction Hash: ${t?t.toString():"not available"}`}class Qy extends Ke{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${Ky(e.transactionHash)}`),this.code=jS}}class Zy extends Ke{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${Ky(e.transactionHash)}`),this.code=ZS}}class Ck extends wt{constructor(e){var n,r;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${(n=e.blockHash)===null||n===void 0?void 0:n.toString()}, transactionHash: ${(r=e.transactionHash)===null||r===void 0?void 0:r.toString()}`,"Receipt missing or blockHash null"),this.code=zS}}class Pk extends wt{constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=VS}}class Id extends Ke{constructor(e){super(`Invalid signature. "${e}"`),this.code=YS}}class am extends wt{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=WS}}class Nk extends Ke{constructor(e,n){const r=[];e.forEach(s=>r.push(s.keyword)),super(`The following properties are invalid for the transaction type ${n}: ${r.join(", ")}`),this.code=rB}}class yo extends wt{constructor(e){super(e,"can not parse as byte data"),this.code=PB}}class Rh extends wt{constructor(e){super(e,"can not parse as number data"),this.code=NB}}class Mh extends wt{constructor(e){super(e,"invalid ethereum address"),this.code=OB}}class Lk extends wt{constructor(e){super(e,"not a valid string"),this.code=CB}}class Yy extends wt{constructor(e){super(e,"invalid unit"),this.code=LB}}class Jy extends wt{constructor(e){super(e,"not a valid unit. Must be a positive integer"),this.code=jB}}class Ok extends wt{constructor(e){super(e,"can not be converted to hex"),this.code=FB}}class Xy extends wt{constructor(e){super(e,"value greater than the nibble width"),this.code=qB}}class Ch extends wt{constructor(e){super(e,"not a valid boolean."),this.code=DB}}class Fk extends wt{constructor(e){super(e,"not a valid unsigned integer."),this.code=UB}}class cm extends wt{constructor(e){super(e,"invalid size given."),this.code=HB}}class um extends wt{constructor(e){super(e,"value is larger than size."),this.code=$B}}class Dk extends wt{constructor(e){super(e,"invalid string given"),this.code=GB}}const Uk=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&(t.result===void 0||t.result===null)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),lm=t=>Uk(t)?t.error.message:"";class Ar extends Ke{constructor(e,n,r,s){var i;super(n??`Returned error: ${Array.isArray(e)?e.map(o=>lm(o)).join(","):lm(e)}`),this.code=uS,n||(this.data=Array.isArray(e)?e.map(o=>{var f;return(f=o.error)===null||f===void 0?void 0:f.data}):(i=e?.error)===null||i===void 0?void 0:i.data),this.statusCode=s,this.request=r;let a;"error"in e?a=e.error:e instanceof Array&&(a=e.filter(o=>o.error).map(o=>o.error)),Array.isArray(a)&&a.length>0?this.cause=new Ra(a):this.cause=a}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode})}}class Rl extends Ar{constructor(e,n){super(e,void 0,n),this.code=lS;let r;"error"in e?r=e.error:e instanceof Array&&(r=e.map(s=>s.error)),Array.isArray(r)?this.cause=new Ra(r):this.cause=r}}class fm extends Ke{constructor(e,n){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=$y}}class dm extends Ke{constructor(e,n){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=$y}}const ev="An Rpc error has occured with a code of *code*",xn={[bu]:{message:"Parse error",description:"Invalid JSON"},[_u]:{message:"Invalid request",description:"JSON is not a valid request object	"},[Au]:{message:"Method not found",description:"Method does not exist	"},[Eu]:{message:"Invalid params",description:"Invalid method parameters"},[xu]:{message:"Internal error",description:"Internal JSON-RPC error"},[Iu]:{message:"Invalid input",description:"Missing or invalid parameters"},[Su]:{message:"Resource not found",description:"Requested resource not found"},[Bu]:{message:"Resource unavailable",description:"Requested resource not available"},[ku]:{message:"Transaction rejected",description:"Transaction creation failed"},[Tu]:{message:"Method not supported",description:"Method is not implemented"},[Ru]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[Mu]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[IB]:{name:"User Rejected Request",message:"The user rejected the request."},[SB]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[BB]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[kB]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[TB]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class Vn extends Ke{constructor(e,n){super(n??ev.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class Hk extends Ke{constructor(e,n){var r,s,i,a;if(!e)super();else if(!((r=xn[e])===null||r===void 0)&&r.message)super(xn[e].message);else{const o=Object.keys(xn).find(f=>typeof f=="string"&&e>=parseInt(f.split("-")[0],10)&&e<=parseInt(f.split("-")[1],10));super((i=(s=xn[o??""])===null||s===void 0?void 0:s.message)!==null&&i!==void 0?i:ev.replace("*code*",(a=e?.toString())!==null&&a!==void 0?a:'""'))}this.code=e,this.data=n}}class $k extends Vn{constructor(e){super(e,xn[bu].message),this.code=bu}}class Gk extends Vn{constructor(e){super(e,xn[_u].message),this.code=_u}}class qk extends Vn{constructor(e){super(e,xn[Au].message),this.code=Au}}class jk extends Vn{constructor(e){super(e,xn[Eu].message),this.code=Eu}}class zk extends Vn{constructor(e){super(e,xn[xu].message),this.code=xu}}class Vk extends Vn{constructor(e){super(e,xn[Iu].message),this.code=Iu}}class Wk extends Vn{constructor(e){super(e,xn[Tu].message),this.code=Tu}}class Kk extends Vn{constructor(e){super(e,xn[Bu].message),this.code=Bu}}class Qk extends Vn{constructor(e){super(e,xn[Su].message),this.code=Su}}class Zk extends Vn{constructor(e){super(e,xn[Mu].message),this.code=Mu}}class Yk extends Vn{constructor(e){super(e,xn[ku].message),this.code=ku}}class Jk extends Vn{constructor(e){super(e,xn[Ru].message),this.code=Ru}}const Mn=new Map;Mn.set(bu,{error:$k});Mn.set(_u,{error:Gk});Mn.set(Au,{error:qk});Mn.set(Eu,{error:jk});Mn.set(xu,{error:zk});Mn.set(Iu,{error:Vk});Mn.set(Tu,{error:Wk});Mn.set(Bu,{error:Kk});Mn.set(ku,{error:Yk});Mn.set(Su,{error:Qk});Mn.set(Mu,{error:Zk});Mn.set(Ru,{error:Jk});class Xk extends Ke{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=VB}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}function On(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function eT(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function tT(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Wo(t,...e){if(!tT(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Ph(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");On(t.outputLen),On(t.blockLen)}function Ss(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Nh(t,e){Wo(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const tv={number:On,bool:eT,bytes:Wo,hash:Ph,exists:Ss,output:Nh},Gc=BigInt(2**32-1),hm=BigInt(32);function nT(t,e=!1){return e?{h:Number(t&Gc),l:Number(t>>hm&Gc)}:{h:Number(t>>hm&Gc)|0,l:Number(t&Gc)|0}}function rT(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=nT(t[s],e);[n[s],r[s]]=[i,a]}return[n,r]}const iT=(t,e,n)=>t<<n|e>>>32-n,sT=(t,e,n)=>e<<n|t>>>32-n,oT=(t,e,n)=>e<<n-32|t>>>64-n,aT=(t,e,n)=>t<<n-32|e>>>64-n,Jc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xc=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),eu=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),mr=(t,e)=>t<<32-e|t>>>e,Rt=(t,e)=>t<<e|t>>>32-e>>>0,Pu=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,cT=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function Nu(t){for(let e=0;e<t.length;e++)t[e]=cT(t[e])}function So(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Bo(t){return typeof t=="string"&&(t=So(t)),Wo(t),t}function Lu(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Wo(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class Lh{clone(){return this._cloneInto()}}const uT={}.toString;function nv(t,e){if(e!==void 0&&uT.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function rv(t){const e=r=>t().update(Bo(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function iv(t=32){if(Jc&&typeof Jc.getRandomValues=="function")return Jc.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const sv=[],ov=[],av=[],lT=BigInt(0),ya=BigInt(1),fT=BigInt(2),dT=BigInt(7),hT=BigInt(256),pT=BigInt(113);for(let t=0,e=ya,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],sv.push(2*(5*r+n)),ov.push((t+1)*(t+2)/2%64);let s=lT;for(let i=0;i<7;i++)e=(e<<ya^(e>>dT)*pT)%hT,e&fT&&(s^=ya<<(ya<<BigInt(i))-ya);av.push(s)}const[mT,gT]=rT(av,!0),pm=(t,e,n)=>n>32?oT(t,e,n):iT(t,e,n),mm=(t,e,n)=>n>32?aT(t,e,n):sT(t,e,n);function yT(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,f=(a+2)%10,d=n[f],p=n[f+1],y=pm(d,p,1)^n[o],B=mm(d,p,1)^n[o+1];for(let x=0;x<50;x+=10)t[a+x]^=y,t[a+x+1]^=B}let s=t[2],i=t[3];for(let a=0;a<24;a++){const o=ov[a],f=pm(s,i,o),d=mm(s,i,o),p=sv[a];s=t[p],i=t[p+1],t[p]=f,t[p+1]=d}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=mT[r],t[1]^=gT[r]}n.fill(0)}class Oh extends Lh{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,On(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Xc(this.state)}keccak(){Pu||Nu(this.state32),yT(this.state32,this.rounds),Pu||Nu(this.state32),this.posOut=0,this.pos=0}update(e){Ss(this);const{blockLen:n,state:r}=this;e=Bo(e);const s=e.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);for(let o=0;o<a;o++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Ss(this,!1),Wo(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return On(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Nh(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new Oh(n,r,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const vT=(t,e,n)=>rv(()=>new Oh(e,t,n)),gm=vT(1,136,256/8),Ou=tv.bytes;function cv(t){if(!(t instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof t}`);return new TextDecoder().decode(t)}function wT(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function bT(t){return e=>(tv.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const Bn=(()=>{const t=bT(gm);return t.create=gm.create,t})();var kt;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(kt||(kt={}));var Sd;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Sd||(Sd={}));const Oe=kt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jr=t=>{switch(typeof t){case"undefined":return Oe.undefined;case"string":return Oe.string;case"number":return Number.isNaN(t)?Oe.nan:Oe.number;case"boolean":return Oe.boolean;case"function":return Oe.function;case"bigint":return Oe.bigint;case"symbol":return Oe.symbol;case"object":return Array.isArray(t)?Oe.array:t===null?Oe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Oe.promise:typeof Map<"u"&&t instanceof Map?Oe.map:typeof Set<"u"&&t instanceof Set?Oe.set:typeof Date<"u"&&t instanceof Date?Oe.date:Oe.object;default:return Oe.unknown}},be=kt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),_T=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class qn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,f=0;for(;f<a.path.length;){const d=a.path[f];f===a.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(n(a))):o[d]=o[d]||{_errors:[]},o=o[d],f++}}};return s(this),r}static assert(e){if(!(e instanceof qn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,kt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}qn.create=t=>new qn(t);const ko=(t,e)=>{let n;switch(t.code){case be.invalid_type:t.received===Oe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,kt.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:n=`Unrecognized key(s) in object: ${kt.joinValues(t.keys,", ")}`;break;case be.invalid_union:n="Invalid input";break;case be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${kt.joinValues(t.options)}`;break;case be.invalid_enum_value:n=`Invalid enum value. Expected ${kt.joinValues(t.options)}, received '${t.received}'`;break;case be.invalid_arguments:n="Invalid function arguments";break;case be.invalid_return_type:n="Invalid function return type";break;case be.invalid_date:n="Invalid date";break;case be.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:kt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case be.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case be.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case be.custom:n="Invalid input";break;case be.invalid_intersection_types:n="Intersection results could not be merged";break;case be.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case be.not_finite:n="Number must be finite";break;default:n=e.defaultError,kt.assertNever(t)}return{message:n}};let uv=ko;function AT(t){uv=t}function Fu(){return uv}const Du=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const f=r.filter(d=>!!d).slice().reverse();for(const d of f)o=d(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}},ET=[];function Re(t,e){const n=Fu(),r=Du({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===ko?void 0:ko].filter(s=>!!s)});t.common.issues.push(r)}class Sn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ze;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return Sn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return ze;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const ze=Object.freeze({status:"aborted"}),co=t=>({status:"dirty",value:t}),Cn=t=>({status:"valid",value:t}),Bd=t=>t.status==="aborted",kd=t=>t.status==="dirty",Bs=t=>t.status==="valid",Ua=t=>typeof Promise<"u"&&t instanceof Promise;var Fe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Fe||(Fe={}));class kr{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ym=(t,e)=>{if(Bs(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new qn(t.common.issues);return this._error=n,this._error}}};function Xe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{const{message:f}=t;return a.code==="invalid_enum_value"?{message:f??o.defaultError}:typeof o.data>"u"?{message:f??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:f??n??o.defaultError}},description:s}}class vt{get description(){return this._def.description}_getType(e){return jr(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:jr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Sn,ctx:{common:e.parent.common,data:e.data,parsedType:jr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ua(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jr(e)},s=this._parseSync({data:e,path:r.path,parent:r});return ym(r,s)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jr(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return Bs(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>Bs(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jr(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Ua(s)?s:Promise.resolve(s));return ym(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:be.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(f=>f?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new lr({schema:this,typeName:We.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Sr.create(this,this._def)}nullable(){return Mi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cr.create(this)}promise(){return Ro.create(this,this._def)}or(e){return qa.create([this,e],this._def)}and(e){return ja.create(this,e,this._def)}transform(e){return new lr({...Xe(this._def),schema:this,typeName:We.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Qa({...Xe(this._def),innerType:this,defaultValue:n,typeName:We.ZodDefault})}brand(){return new Fh({typeName:We.ZodBranded,type:this,...Xe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Za({...Xe(this._def),innerType:this,catchValue:n,typeName:We.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return _c.create(this,e)}readonly(){return Ya.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xT=/^c[^\s-]{8,}$/i,IT=/^[0-9a-z]+$/,ST=/^[0-9A-HJKMNP-TV-Z]{26}$/i,BT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,kT=/^[a-z0-9_-]{21}$/i,TT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,RT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,MT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,CT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Of;const PT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,NT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,LT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,OT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,DT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,lv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",UT=new RegExp(`^${lv}$`);function fv(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function HT(t){return new RegExp(`^${fv(t)}$`)}function dv(t){let e=`${lv}T${fv(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function $T(t,e){return!!((e==="v4"||!e)&&PT.test(t)||(e==="v6"||!e)&&LT.test(t))}function GT(t,e){if(!TT.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function qT(t,e){return!!((e==="v4"||!e)&&NT.test(t)||(e==="v6"||!e)&&OT.test(t))}class ar extends vt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Oe.string){const i=this._getOrReturnCtx(e);return Re(i,{code:be.invalid_type,expected:Oe.string,received:i.parsedType}),ze}const r=new Sn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Re(s,{code:be.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Re(s,{code:be.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?Re(s,{code:be.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&Re(s,{code:be.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")MT.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"email",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Of||(Of=new RegExp(CT,"u")),Of.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"emoji",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")BT.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"uuid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")kT.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"nanoid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")xT.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"cuid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")IT.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"cuid2",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")ST.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"ulid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Re(s,{validation:"url",code:be.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"regex",code:be.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Re(s,{code:be.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Re(s,{code:be.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Re(s,{code:be.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?dv(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{code:be.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?UT.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{code:be.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?HT(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{code:be.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?RT.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"duration",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?$T(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"ip",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?GT(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"jwt",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?qT(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"cidr",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?FT.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"base64",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?DT.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"base64url",code:be.invalid_string,message:i.message}),r.dirty()):kt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:be.invalid_string,...Fe.errToObj(r)})}_addCheck(e){return new ar({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Fe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Fe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Fe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Fe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Fe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Fe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Fe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Fe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Fe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Fe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Fe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Fe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Fe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Fe.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Fe.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Fe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Fe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Fe.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Fe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Fe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Fe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Fe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Fe.errToObj(n)})}nonempty(e){return this.min(1,Fe.errToObj(e))}trim(){return new ar({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ar({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ar({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ar.create=t=>new ar({checks:[],typeName:We.ZodString,coerce:t?.coerce??!1,...Xe(t)});function jT(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class ki extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Oe.number){const i=this._getOrReturnCtx(e);return Re(i,{code:be.invalid_type,expected:Oe.number,received:i.parsedType}),ze}let r;const s=new Sn;for(const i of this._def.checks)i.kind==="int"?kt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Re(r,{code:be.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:be.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:be.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?jT(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Re(r,{code:be.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Re(r,{code:be.not_finite,message:i.message}),s.dirty()):kt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Fe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Fe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Fe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Fe.toString(n))}setLimit(e,n,r,s){return new ki({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Fe.toString(s)}]})}_addCheck(e){return new ki({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Fe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Fe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Fe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&kt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ki.create=t=>new ki({checks:[],typeName:We.ZodNumber,coerce:t?.coerce||!1,...Xe(t)});class Ti extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Oe.bigint)return this._getInvalidInput(e);let r;const s=new Sn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:be.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:be.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:be.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):kt.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Re(n,{code:be.invalid_type,expected:Oe.bigint,received:n.parsedType}),ze}gte(e,n){return this.setLimit("min",e,!0,Fe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Fe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Fe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Fe.toString(n))}setLimit(e,n,r,s){return new Ti({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Fe.toString(s)}]})}_addCheck(e){return new Ti({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Fe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ti.create=t=>new Ti({checks:[],typeName:We.ZodBigInt,coerce:t?.coerce??!1,...Xe(t)});class Ha extends vt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Oe.boolean){const r=this._getOrReturnCtx(e);return Re(r,{code:be.invalid_type,expected:Oe.boolean,received:r.parsedType}),ze}return Cn(e.data)}}Ha.create=t=>new Ha({typeName:We.ZodBoolean,coerce:t?.coerce||!1,...Xe(t)});class ks extends vt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Oe.date){const i=this._getOrReturnCtx(e);return Re(i,{code:be.invalid_type,expected:Oe.date,received:i.parsedType}),ze}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Re(i,{code:be.invalid_date}),ze}const r=new Sn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Re(s,{code:be.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Re(s,{code:be.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):kt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ks({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Fe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Fe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ks.create=t=>new ks({checks:[],coerce:t?.coerce||!1,typeName:We.ZodDate,...Xe(t)});class Uu extends vt{_parse(e){if(this._getType(e)!==Oe.symbol){const r=this._getOrReturnCtx(e);return Re(r,{code:be.invalid_type,expected:Oe.symbol,received:r.parsedType}),ze}return Cn(e.data)}}Uu.create=t=>new Uu({typeName:We.ZodSymbol,...Xe(t)});class $a extends vt{_parse(e){if(this._getType(e)!==Oe.undefined){const r=this._getOrReturnCtx(e);return Re(r,{code:be.invalid_type,expected:Oe.undefined,received:r.parsedType}),ze}return Cn(e.data)}}$a.create=t=>new $a({typeName:We.ZodUndefined,...Xe(t)});class Ga extends vt{_parse(e){if(this._getType(e)!==Oe.null){const r=this._getOrReturnCtx(e);return Re(r,{code:be.invalid_type,expected:Oe.null,received:r.parsedType}),ze}return Cn(e.data)}}Ga.create=t=>new Ga({typeName:We.ZodNull,...Xe(t)});class To extends vt{constructor(){super(...arguments),this._any=!0}_parse(e){return Cn(e.data)}}To.create=t=>new To({typeName:We.ZodAny,...Xe(t)});class ws extends vt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Cn(e.data)}}ws.create=t=>new ws({typeName:We.ZodUnknown,...Xe(t)});class ri extends vt{_parse(e){const n=this._getOrReturnCtx(e);return Re(n,{code:be.invalid_type,expected:Oe.never,received:n.parsedType}),ze}}ri.create=t=>new ri({typeName:We.ZodNever,...Xe(t)});class Hu extends vt{_parse(e){if(this._getType(e)!==Oe.undefined){const r=this._getOrReturnCtx(e);return Re(r,{code:be.invalid_type,expected:Oe.void,received:r.parsedType}),ze}return Cn(e.data)}}Hu.create=t=>new Hu({typeName:We.ZodVoid,...Xe(t)});class cr extends vt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Oe.array)return Re(n,{code:be.invalid_type,expected:Oe.array,received:n.parsedType}),ze;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(a||o)&&(Re(n,{code:a?be.too_big:be.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Re(n,{code:be.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Re(n,{code:be.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>s.type._parseAsync(new kr(n,a,n.path,o)))).then(a=>Sn.mergeArray(r,a));const i=[...n.data].map((a,o)=>s.type._parseSync(new kr(n,a,n.path,o)));return Sn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new cr({...this._def,minLength:{value:e,message:Fe.toString(n)}})}max(e,n){return new cr({...this._def,maxLength:{value:e,message:Fe.toString(n)}})}length(e,n){return new cr({...this._def,exactLength:{value:e,message:Fe.toString(n)}})}nonempty(e){return this.min(1,e)}}cr.create=(t,e)=>new cr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:We.ZodArray,...Xe(e)});function Xs(t){if(t instanceof zt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Sr.create(Xs(r))}return new zt({...t._def,shape:()=>e})}else return t instanceof cr?new cr({...t._def,type:Xs(t.element)}):t instanceof Sr?Sr.create(Xs(t.unwrap())):t instanceof Mi?Mi.create(Xs(t.unwrap())):t instanceof Tr?Tr.create(t.items.map(e=>Xs(e))):t}class zt extends vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=kt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Oe.object){const d=this._getOrReturnCtx(e);return Re(d,{code:be.invalid_type,expected:Oe.object,received:d.parsedType}),ze}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof ri&&this._def.unknownKeys==="strip"))for(const d in s.data)a.includes(d)||o.push(d);const f=[];for(const d of a){const p=i[d],y=s.data[d];f.push({key:{status:"valid",value:d},value:p._parse(new kr(s,y,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof ri){const d=this._def.unknownKeys;if(d==="passthrough")for(const p of o)f.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(d==="strict")o.length>0&&(Re(s,{code:be.unrecognized_keys,keys:o}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const p of o){const y=s.data[p];f.push({key:{status:"valid",value:p},value:d._parse(new kr(s,y,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const p of f){const y=await p.key,B=await p.value;d.push({key:y,value:B,alwaysSet:p.alwaysSet})}return d}).then(d=>Sn.mergeObjectSync(r,d)):Sn.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return Fe.errToObj,new zt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const s=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:Fe.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new zt({...this._def,unknownKeys:"strip"})}passthrough(){return new zt({...this._def,unknownKeys:"passthrough"})}extend(e){return new zt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new zt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:We.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new zt({...this._def,catchall:e})}pick(e){const n={};for(const r of kt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new zt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of kt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new zt({...this._def,shape:()=>n})}deepPartial(){return Xs(this)}partial(e){const n={};for(const r of kt.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new zt({...this._def,shape:()=>n})}required(e){const n={};for(const r of kt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Sr;)i=i._def.innerType;n[r]=i}return new zt({...this._def,shape:()=>n})}keyof(){return hv(kt.objectKeys(this.shape))}}zt.create=(t,e)=>new zt({shape:()=>t,unknownKeys:"strip",catchall:ri.create(),typeName:We.ZodObject,...Xe(e)});zt.strictCreate=(t,e)=>new zt({shape:()=>t,unknownKeys:"strict",catchall:ri.create(),typeName:We.ZodObject,...Xe(e)});zt.lazycreate=(t,e)=>new zt({shape:t,unknownKeys:"strip",catchall:ri.create(),typeName:We.ZodObject,...Xe(e)});class qa extends vt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new qn(o.ctx.common.issues));return Re(n,{code:be.invalid_union,unionErrors:a}),ze}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const f of r){const d={...n,common:{...n.common,issues:[]},parent:null},p=f._parseSync({data:n.data,path:n.path,parent:d});if(p.status==="valid")return p;p.status==="dirty"&&!i&&(i={result:p,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(f=>new qn(f));return Re(n,{code:be.invalid_union,unionErrors:o}),ze}}get options(){return this._def.options}}qa.create=(t,e)=>new qa({options:t,typeName:We.ZodUnion,...Xe(e)});const $r=t=>t instanceof Va?$r(t.schema):t instanceof lr?$r(t.innerType()):t instanceof Wa?[t.value]:t instanceof Ri?t.options:t instanceof Ka?kt.objectValues(t.enum):t instanceof Qa?$r(t._def.innerType):t instanceof $a?[void 0]:t instanceof Ga?[null]:t instanceof Sr?[void 0,...$r(t.unwrap())]:t instanceof Mi?[null,...$r(t.unwrap())]:t instanceof Fh||t instanceof Ya?$r(t.unwrap()):t instanceof Za?$r(t._def.innerType):[];class Ml extends vt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Oe.object)return Re(n,{code:be.invalid_type,expected:Oe.object,received:n.parsedType}),ze;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Re(n,{code:be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ze)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const a=$r(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new Ml({typeName:We.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Xe(r)})}}function Td(t,e){const n=jr(t),r=jr(e);if(t===e)return{valid:!0,data:t};if(n===Oe.object&&r===Oe.object){const s=kt.objectKeys(e),i=kt.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const f=Td(t[o],e[o]);if(!f.valid)return{valid:!1};a[o]=f.data}return{valid:!0,data:a}}else if(n===Oe.array&&r===Oe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],f=Td(a,o);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return n===Oe.date&&r===Oe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ja extends vt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(Bd(i)||Bd(a))return ze;const o=Td(i.value,a.value);return o.valid?((kd(i)||kd(a))&&n.dirty(),{status:n.value,value:o.data}):(Re(r,{code:be.invalid_intersection_types}),ze)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ja.create=(t,e,n)=>new ja({left:t,right:e,typeName:We.ZodIntersection,...Xe(n)});class Tr extends vt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.array)return Re(r,{code:be.invalid_type,expected:Oe.array,received:r.parsedType}),ze;if(r.data.length<this._def.items.length)return Re(r,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ze;!this._def.rest&&r.data.length>this._def.items.length&&(Re(r,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,o)=>{const f=this._def.items[o]||this._def.rest;return f?f._parse(new kr(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Sn.mergeArray(n,a)):Sn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Tr({...this._def,rest:e})}}Tr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Tr({items:t,typeName:We.ZodTuple,rest:null,...Xe(e)})};class za extends vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.object)return Re(r,{code:be.invalid_type,expected:Oe.object,received:r.parsedType}),ze;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in r.data)s.push({key:i._parse(new kr(r,o,r.path,o)),value:a._parse(new kr(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Sn.mergeObjectAsync(n,s):Sn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof vt?new za({keyType:e,valueType:n,typeName:We.ZodRecord,...Xe(r)}):new za({keyType:ar.create(),valueType:e,typeName:We.ZodRecord,...Xe(n)})}}class $u extends vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.map)return Re(r,{code:be.invalid_type,expected:Oe.map,received:r.parsedType}),ze;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([o,f],d)=>({key:s._parse(new kr(r,o,r.path,[d,"key"])),value:i._parse(new kr(r,f,r.path,[d,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const f of a){const d=await f.key,p=await f.value;if(d.status==="aborted"||p.status==="aborted")return ze;(d.status==="dirty"||p.status==="dirty")&&n.dirty(),o.set(d.value,p.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const f of a){const d=f.key,p=f.value;if(d.status==="aborted"||p.status==="aborted")return ze;(d.status==="dirty"||p.status==="dirty")&&n.dirty(),o.set(d.value,p.value)}return{status:n.value,value:o}}}}$u.create=(t,e,n)=>new $u({valueType:e,keyType:t,typeName:We.ZodMap,...Xe(n)});class Ts extends vt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.set)return Re(r,{code:be.invalid_type,expected:Oe.set,received:r.parsedType}),ze;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Re(r,{code:be.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Re(r,{code:be.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(f){const d=new Set;for(const p of f){if(p.status==="aborted")return ze;p.status==="dirty"&&n.dirty(),d.add(p.value)}return{status:n.value,value:d}}const o=[...r.data.values()].map((f,d)=>i._parse(new kr(r,f,r.path,d)));return r.common.async?Promise.all(o).then(f=>a(f)):a(o)}min(e,n){return new Ts({...this._def,minSize:{value:e,message:Fe.toString(n)}})}max(e,n){return new Ts({...this._def,maxSize:{value:e,message:Fe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ts.create=(t,e)=>new Ts({valueType:t,minSize:null,maxSize:null,typeName:We.ZodSet,...Xe(e)});class vo extends vt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Oe.function)return Re(n,{code:be.invalid_type,expected:Oe.function,received:n.parsedType}),ze;function r(o,f){return Du({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Fu(),ko].filter(d=>!!d),issueData:{code:be.invalid_arguments,argumentsError:f}})}function s(o,f){return Du({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Fu(),ko].filter(d=>!!d),issueData:{code:be.invalid_return_type,returnTypeError:f}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Ro){const o=this;return Cn(async function(...f){const d=new qn([]),p=await o._def.args.parseAsync(f,i).catch(x=>{throw d.addIssue(r(f,x)),d}),y=await Reflect.apply(a,this,p);return await o._def.returns._def.type.parseAsync(y,i).catch(x=>{throw d.addIssue(s(y,x)),d})})}else{const o=this;return Cn(function(...f){const d=o._def.args.safeParse(f,i);if(!d.success)throw new qn([r(f,d.error)]);const p=Reflect.apply(a,this,d.data),y=o._def.returns.safeParse(p,i);if(!y.success)throw new qn([s(p,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new vo({...this._def,args:Tr.create(e).rest(ws.create())})}returns(e){return new vo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new vo({args:e||Tr.create([]).rest(ws.create()),returns:n||ws.create(),typeName:We.ZodFunction,...Xe(r)})}}class Va extends vt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Va.create=(t,e)=>new Va({getter:t,typeName:We.ZodLazy,...Xe(e)});class Wa extends vt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Re(n,{received:n.data,code:be.invalid_literal,expected:this._def.value}),ze}return{status:"valid",value:e.data}}get value(){return this._def.value}}Wa.create=(t,e)=>new Wa({value:t,typeName:We.ZodLiteral,...Xe(e)});function hv(t,e){return new Ri({values:t,typeName:We.ZodEnum,...Xe(e)})}class Ri extends vt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Re(n,{expected:kt.joinValues(r),received:n.parsedType,code:be.invalid_type}),ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Re(n,{received:n.data,code:be.invalid_enum_value,options:r}),ze}return Cn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ri.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ri.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ri.create=hv;class Ka extends vt{_parse(e){const n=kt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Oe.string&&r.parsedType!==Oe.number){const s=kt.objectValues(n);return Re(r,{expected:kt.joinValues(s),received:r.parsedType,code:be.invalid_type}),ze}if(this._cache||(this._cache=new Set(kt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=kt.objectValues(n);return Re(r,{received:r.data,code:be.invalid_enum_value,options:s}),ze}return Cn(e.data)}get enum(){return this._def.values}}Ka.create=(t,e)=>new Ka({values:t,typeName:We.ZodNativeEnum,...Xe(e)});class Ro extends vt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Oe.promise&&n.common.async===!1)return Re(n,{code:be.invalid_type,expected:Oe.promise,received:n.parsedType}),ze;const r=n.parsedType===Oe.promise?n.data:Promise.resolve(n.data);return Cn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ro.create=(t,e)=>new Ro({type:t,typeName:We.ZodPromise,...Xe(e)});class lr extends vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===We.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{Re(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return ze;const f=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return f.status==="aborted"?ze:f.status==="dirty"||n.value==="dirty"?co(f.value):f});{if(n.value==="aborted")return ze;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?ze:o.status==="dirty"||n.value==="dirty"?co(o.value):o}}if(s.type==="refinement"){const a=o=>{const f=s.refinement(o,i);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ze:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?ze:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Bs(a))return ze;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Bs(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:n.value,value:o})):ze);kt.assertNever(s)}}lr.create=(t,e,n)=>new lr({schema:t,typeName:We.ZodEffects,effect:e,...Xe(n)});lr.createWithPreprocess=(t,e,n)=>new lr({schema:e,effect:{type:"preprocess",transform:t},typeName:We.ZodEffects,...Xe(n)});class Sr extends vt{_parse(e){return this._getType(e)===Oe.undefined?Cn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sr.create=(t,e)=>new Sr({innerType:t,typeName:We.ZodOptional,...Xe(e)});class Mi extends vt{_parse(e){return this._getType(e)===Oe.null?Cn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mi.create=(t,e)=>new Mi({innerType:t,typeName:We.ZodNullable,...Xe(e)});class Qa extends vt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Qa.create=(t,e)=>new Qa({innerType:t,typeName:We.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Xe(e)});class Za extends vt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ua(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new qn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Za.create=(t,e)=>new Za({innerType:t,typeName:We.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Xe(e)});class Gu extends vt{_parse(e){if(this._getType(e)!==Oe.nan){const r=this._getOrReturnCtx(e);return Re(r,{code:be.invalid_type,expected:Oe.nan,received:r.parsedType}),ze}return{status:"valid",value:e.data}}}Gu.create=t=>new Gu({typeName:We.ZodNaN,...Xe(t)});const zT=Symbol("zod_brand");class Fh extends vt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class _c extends vt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ze:i.status==="dirty"?(n.dirty(),co(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ze:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new _c({in:e,out:n,typeName:We.ZodPipeline})}}class Ya extends vt{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Bs(s)&&(s.value=Object.freeze(s.value)),s);return Ua(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Ya.create=(t,e)=>new Ya({innerType:t,typeName:We.ZodReadonly,...Xe(e)});function vm(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function pv(t,e={},n){return t?To.create().superRefine((r,s)=>{const i=t(r);if(i instanceof Promise)return i.then(a=>{if(!a){const o=vm(e,r),f=o.fatal??n??!0;s.addIssue({code:"custom",...o,fatal:f})}});if(!i){const a=vm(e,r),o=a.fatal??n??!0;s.addIssue({code:"custom",...a,fatal:o})}}):To.create()}const VT={object:zt.lazycreate};var We;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(We||(We={}));const WT=(t,e={message:`Input not instance of ${t.name}`})=>pv(n=>n instanceof t,e),mv=ar.create,gv=ki.create,KT=Gu.create,QT=Ti.create,yv=Ha.create,ZT=ks.create,YT=Uu.create,JT=$a.create,XT=Ga.create,Rd=To.create,eR=ws.create,tR=ri.create,nR=Hu.create,vv=cr.create,tu=zt.create,rR=zt.strictCreate,wv=qa.create,iR=Ml.create,sR=ja.create,bv=Tr.create,oR=za.create,aR=$u.create,cR=Ts.create,uR=vo.create,lR=Va.create,fR=Wa.create,dR=Ri.create,hR=Ka.create,pR=Ro.create,wm=lr.create,mR=Sr.create,gR=Mi.create,yR=lr.createWithPreprocess,vR=_c.create,wR=()=>mv().optional(),bR=()=>gv().optional(),_R=()=>yv().optional(),AR={string:t=>ar.create({...t,coerce:!0}),number:t=>ki.create({...t,coerce:!0}),boolean:t=>Ha.create({...t,coerce:!0}),bigint:t=>Ti.create({...t,coerce:!0}),date:t=>ks.create({...t,coerce:!0})},ER=ze,bm=Object.freeze(Object.defineProperty({__proto__:null,BRAND:zT,DIRTY:co,EMPTY_PATH:ET,INVALID:ze,NEVER:ER,OK:Cn,ParseStatus:Sn,Schema:vt,ZodAny:To,ZodArray:cr,ZodBigInt:Ti,ZodBoolean:Ha,ZodBranded:Fh,ZodCatch:Za,ZodDate:ks,ZodDefault:Qa,ZodDiscriminatedUnion:Ml,ZodEffects:lr,ZodEnum:Ri,ZodError:qn,get ZodFirstPartyTypeKind(){return We},ZodFunction:vo,ZodIntersection:ja,ZodIssueCode:be,ZodLazy:Va,ZodLiteral:Wa,ZodMap:$u,ZodNaN:Gu,ZodNativeEnum:Ka,ZodNever:ri,ZodNull:Ga,ZodNullable:Mi,ZodNumber:ki,ZodObject:zt,ZodOptional:Sr,ZodParsedType:Oe,ZodPipeline:_c,ZodPromise:Ro,ZodReadonly:Ya,ZodRecord:za,ZodSchema:vt,ZodSet:Ts,ZodString:ar,ZodSymbol:Uu,ZodTransformer:lr,ZodTuple:Tr,ZodType:vt,ZodUndefined:$a,ZodUnion:qa,ZodUnknown:ws,ZodVoid:Hu,addIssueToContext:Re,any:Rd,array:vv,bigint:QT,boolean:yv,coerce:AR,custom:pv,date:ZT,datetimeRegex:dv,defaultErrorMap:ko,discriminatedUnion:iR,effect:wm,enum:dR,function:uR,getErrorMap:Fu,getParsedType:jr,instanceof:WT,intersection:sR,isAborted:Bd,isAsync:Ua,isDirty:kd,isValid:Bs,late:VT,lazy:lR,literal:fR,makeIssue:Du,map:aR,nan:KT,nativeEnum:hR,never:tR,null:XT,nullable:gR,number:gv,object:tu,get objectUtil(){return Sd},oboolean:_R,onumber:bR,optional:mR,ostring:wR,pipeline:vR,preprocess:yR,promise:pR,quotelessJson:_T,record:oR,set:cR,setErrorMap:AT,strictObject:rR,string:mv,symbol:YT,transformer:wm,tuple:bv,undefined:JT,union:wv,unknown:eR,get util(){return kt},void:nR},Symbol.toStringTag,{value:"Module"})),xR=t=>t.message?t.message:"unspecified error";class Mo extends Ke{constructor(e){super(),this.code=zB,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:
${this._compileErrors().join(`
`)}`}_compileErrors(){return this.errors.map(xR)}}const IR=["bool","int","uint","bytes","string","address","tuple"],_v=t=>typeof t=="object"&&"type"in t&&"name"in t,Dh=t=>typeof t=="string",Mt=t=>typeof t=="string"&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(t);function Av(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const qu=t=>typeof t=="number"||typeof t=="bigint"||typeof t=="string"&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(t);function Uh(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t.startsWith("0x")}const Hh=function(t){for(const[e,n]of Object.entries(t))if(n!==void 0&&n.length>0&&n[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${n.toString()}`)},SR=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],Gs=t=>{let e=t.replace(/ /,""),n,r=!1,s=[];if(t.includes("[")&&(e=e.slice(0,e.indexOf("[")),s=[...t.matchAll(/(?:\[(\d*)\])/g)].map(i=>parseInt(i[1],10)).map(i=>Number.isNaN(i)?-1:i),r=s.length>0),IR.includes(e))return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:s};if(e.startsWith("int"))n=parseInt(e.substring(3),10),e="int";else if(e.startsWith("uint"))n=parseInt(t.substring(4),10),e="uint";else if(e.startsWith("bytes"))n=parseInt(e.substring(5),10),e="bytes";else return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:s};return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:s}},Ff=(t,e={})=>{if(Object.keys(e).includes("type"))throw new Mo([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:t},instancePath:"",schemaPath:""}]);const{baseType:r,baseTypeSize:s}=Gs(t);if(!r&&!SR.includes(t))throw new Mo([{keyword:"eth",message:`Eth data type "${t}" is not valid`,params:{eth:t},instancePath:"",schemaPath:""}]);if(r){if(r==="tuple")throw new Error('"tuple" type is not implemented directly.');return{format:`${r}${s??""}`,required:!0}}return t?{format:t,required:!0}:{}},ju=(t,e="/0")=>{const n={type:"array",items:[],maxItems:t.length,minItems:t.length};for(const[r,s]of t.entries()){let i,a,o=[];_v(s)?(i=s.type,a=s.name||`${e}/${r}`,o=s.components):typeof s=="string"?(i=s,a=`${e}/${r}`):Array.isArray(s)&&(s[0]&&typeof s[0]=="string"&&s[0].startsWith("tuple")&&!Array.isArray(s[0])&&s[1]&&Array.isArray(s[1])?(i=s[0],a=`${e}/${r}`,o=s[1]):(i="tuple",a=`${e}/${r}`,o=s));const{baseType:f,isArray:d,arraySizes:p}=Gs(i);let y,B=n;for(let x=p.length-1;x>0;x-=1)y={type:"array",$id:a,items:[],maxItems:p[x],minItems:p[x]},p[x]<0&&(delete y.maxItems,delete y.minItems),Array.isArray(B.items)?B.items.length===0?B.items=[y]:B.items.push(y):B.items=[B.items,y],B=y;if(f==="tuple"&&!d){const x=ju(o,a);x.$id=a,B.items.push(x)}else if(f==="tuple"&&d){const x=p[0],M=Object.assign({type:"array",$id:a,items:ju(o,a)},x>=0&&{minItems:x,maxItems:x});B.items.push(M)}else if(d){const x=p[0],M=Object.assign({type:"array",$id:a,items:Ff(i)},x>=0&&{minItems:x,maxItems:x});B.items.push(M)}else Array.isArray(B.items)?B.items.push(Object.assign({$id:a},Ff(i))):B.items.push(Object.assign({$id:a},Ff(i)));B=n}return n},$h=t=>ju(t),Gh=(t,e)=>e===1?t:Gh(t[0],e-1),Ma=(t,e,n)=>{const r=[];for(const[s,i]of t.entries()){let a,o,f=[];_v(i)?(a=i.type,o=i.name,f=i.components):typeof i=="string"?a=i:Array.isArray(i)&&(i[1]&&Array.isArray(i[1])?(a=i[0],f=i[1]):(a="tuple",f=i));const{baseType:d,isArray:p,arraySizes:y}=Gs(a),B=Array.isArray(e)?e[s]:e[o];if(d==="tuple"&&!p)r.push(Ma(f,B,n));else if(d==="tuple"&&p){const x=[];for(const M of B)if(y.length>1){const I=Gh(M,y.length-1),R=[];for(const N of I)R.push(Ma(f,N,n));x.push(R)}else x.push(Ma(f,M,n));r.push(x)}else r.push(B)}return n=n??[],n.push(...r),n},Ev=t=>{if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;throw new Error(`Invalid code point: ${t}`)},Cl=t=>{if(!Mt(t))throw new Error("Invalid hex string");const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=BigInt(n);return r>Number.MAX_SAFE_INTEGER?e?-r:r:r<Number.MIN_SAFE_INTEGER?r:e?-1*Number(r):Number(r)},Pl=t=>{if((typeof t=="number"||typeof t=="bigint")&&t<0)return`-0x${t.toString(16).slice(1)}`;if((typeof t=="number"||typeof t=="bigint")&&t>=0)return`0x${t.toString(16)}`;if(typeof t=="string"&&Mt(t)){const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=n.split(/^(-)?0(x|X)/).slice(-1)[0];return`${e?"-":""}0x${r.replace(/^0+/,"").toLowerCase()}`}if(typeof t=="string"&&!Mt(t))return Pl(BigInt(t));throw new Rh(t)},zu=(t,e,n="0")=>{if(typeof t=="string"&&!Mt(t))return t.padStart(e,n);const r=typeof t=="string"&&Mt(t)?t:Pl(t),[s,i]=r.startsWith("-")?["-0x",r.slice(3)]:["0x",r.slice(2)];return`${s}${i.padStart(e,n)}`};function oi(t){let e="0x";for(const n of t){const r=n.toString(16);e+=r.length===1?`0${r}`:r}return e}const Fr={zero:48,nine:57,A:65,F:70,a:97,f:102};function _m(t){if(t>=Fr.zero&&t<=Fr.nine)return t-Fr.zero;if(t>=Fr.A&&t<=Fr.F)return t-(Fr.A-10);if(t>=Fr.a&&t<=Fr.f)return t-(Fr.a-10)}function qs(t){let e=0;if(t.startsWith("0")&&(t[1]==="x"||t[1]==="X")&&(e=2),t.length%2!==0)throw new yo(`hex string has odd length: ${t}`);const n=(t.length-e)/2,r=new Uint8Array(n);for(let s=0,i=e;s<n;s+=1){const a=_m(t.charCodeAt(i++)),o=_m(t.charCodeAt(i++));if(a===void 0||o===void 0)throw new yo(`Invalid byte sequence ("${t[i-2]}${t[i-1]}" in "${t}").`);r[s]=a*16+o}return r}function Nl(t){var e;return!(t instanceof Uint8Array)&&((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"?Uint8Array.from(t):t}const xv=Object.freeze(Object.defineProperty({__proto__:null,abiSchemaToJsonSchema:ju,codePointToInt:Ev,ensureIfUint8Array:Nl,ethAbiToJsonSchema:$h,fetchArrayElement:Gh,hexToNumber:Cl,hexToUint8Array:qs,numberToHex:Pl,padLeft:zu,parseBaseType:Gs,transformJsonDataToAbiFormat:Ma,uint8ArrayToHexString:oi},Symbol.toStringTag,{value:"Module"})),Md=t=>{var e,n;return t instanceof Uint8Array||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="Buffer"},Li=(t,e={abiType:"bytes"})=>{if(typeof t!="string"&&!Array.isArray(t)&&!Md(t)||typeof t=="string"&&Mt(t)&&t.startsWith("-")||typeof t=="string"&&!Mt(t))return!1;let n;if(typeof t=="string"){if(t.length%2!==0)return!1;n=qs(t)}else if(Array.isArray(t)){if(t.some(r=>r<0||r>255||!Number.isInteger(r)))return!1;n=new Uint8Array(t)}else n=t;if(e?.abiType){const{baseTypeSize:r}=Gs(e.abiType);return r?n.length===r:!0}return e?.size?n.length===e?.size:!0},Iv=t=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(t))return!1;const e=t.slice(2),n=So(e.toLowerCase()),r=oi(Bn(Nl(n))).slice(2);for(let s=0;s<40;s+=1)if(parseInt(r[s],16)>7&&e[s].toUpperCase()!==e[s]||parseInt(r[s],16)<=7&&e[s].toLowerCase()!==e[s])return!1;return!0},jn=(t,e=!0)=>{if(typeof t!="string"&&!Md(t))return!1;let n;return Md(t)?n=oi(t):typeof t=="string"&&!Mt(t)?n=t.toLowerCase().startsWith("0x")?t:`0x${t}`:n=t,/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x|0X)?[0-9a-f]{40}$/.test(n)||/^(0x|0X)?[0-9A-F]{40}$/.test(n)?!0:e?Iv(n):!0:!1},Rs=(t,e)=>{if(e===BigInt(0))return BigInt(1);let n=t;for(let r=1;r<e;r+=1)n*=t;return n},ii=(t,e={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="string"&&t.length===0)return!1;let n;if(e?.abiType){const{baseTypeSize:s}=Gs(e.abiType);s&&(n=s)}else e.bitSize&&(n=e.bitSize);const r=Rs(BigInt(2),BigInt(n??256))-BigInt(1);try{const s=typeof t=="string"&&Mt(t)?BigInt(Cl(t)):BigInt(t);return s>=0&&s<=r}catch{return!1}},Ja=(t,e={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="number"&&t>Number.MAX_SAFE_INTEGER)return!1;let n;if(e?.abiType){const{baseTypeSize:i,baseType:a}=Gs(e.abiType);if(a!=="int")return!1;i&&(n=i)}else e.bitSize&&(n=e.bitSize);const r=Rs(BigInt(2),BigInt((n??256)-1)),s=BigInt(-1)*Rs(BigInt(2),BigInt((n??256)-1));try{const i=typeof t=="string"&&Mt(t)?BigInt(Cl(t)):BigInt(t);return i>=s&&i<=r}catch{return!1}},Sv=t=>!!(Ja(t)||typeof t=="string"&&/[0-9.]/.test(t)&&t.indexOf(".")===t.lastIndexOf(".")||typeof t=="number"),Bv=t=>ii(t),dn=t=>Object.values(Kr).includes(t),Cd=t=>dn(t)||Bv(t),Ko=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(t)||/^(0x)?[0-9A-F]{512}$/.test(t)),Ll=(t,e)=>{if(typeof e=="string"&&!Mt(e)||!Ko(t))return!1;const n=typeof e=="string"?qs(e):e,r=oi(Bn(n)).slice(2);for(let s=0;s<12;s+=4){const i=(parseInt(r.slice(s,s+2),16)<<8)+parseInt(r.slice(s+2,s+4),16)&2047,a=Ev(t.charCodeAt(t.length-1-Math.floor(i/4))),o=1<<i%4;if((a&o)!==o)return!1}return!0},BR=(t,e)=>{if(!Ko(t)||!jn(e))return!1;const n=zu(e,64);return Ll(t,n)},kR=(t,e)=>!Ko(t)||!jn(e)?!1:Ll(t,e),TR=t=>["number","string","boolean"].includes(typeof t)?typeof t=="boolean"?!0:typeof t=="string"&&!Mt(t)?t==="1"||t==="0":typeof t=="string"&&Mt(t)?t==="0x1"||t==="0x0":t===1||t===0:!1,le=t=>t==null,Co=t=>typeof t=="object"&&!le(t)&&!Array.isArray(t)&&!(t instanceof kh),Vu=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{64}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{64}$/.test(t)||/^(0x)?[0-9A-F]{64}$/.test(t)),RR=(t,e)=>!Ko(t)||!Vu(e)?!1:Ll(t,e),MR=t=>{const e=["fromBlock","toBlock","address","topics","blockHash"];if(le(t)||typeof t!="object"||!Object.keys(t).every(n=>e.includes(n))||!le(t.fromBlock)&&!Cd(t.fromBlock)||!le(t.toBlock)&&!Cd(t.toBlock))return!1;if(!le(t.address)){if(Array.isArray(t.address)){if(!t.address.every(n=>jn(n)))return!1}else if(!jn(t.address))return!1}return!(!le(t.topics)&&!t.topics.every(n=>le(n)?!0:Array.isArray(n)?n.every(r=>Vu(r)):!!Vu(n)))},Ms={address:t=>jn(t),bloom:t=>Ko(t),blockNumber:t=>Bv(t),blockTag:t=>dn(t),blockNumberOrTag:t=>Cd(t),bool:t=>TR(t),bytes:t=>Li(t),filter:t=>MR(t),hex:t=>Mt(t),uint:t=>ii(t),int:t=>Ja(t),number:t=>Sv(t),string:t=>Dh(t)};for(let t=8;t<=256;t+=8)Ms[`int${t}`]=e=>Ja(e,{bitSize:t}),Ms[`uint${t}`]=e=>ii(e,{bitSize:t});for(let t=1;t<=32;t+=1)Ms[`bytes${t}`]=e=>Li(e,{size:t});Ms.bytes256=Ms.bytes;const Ba=t=>{if((!t?.type||t?.type==="object")&&t?.properties){const e={};for(const n of Object.keys(t.properties)){const r=Ba(t.properties[n]);r&&(e[n]=r)}return Array.isArray(t.required)?tu(e).partial().required(t.required.reduce((n,r)=>Object.assign(Object.assign({},n),{[r]:!0}),{})):tu(e).partial()}if(t?.type==="array"&&t?.items){if(Array.isArray(t.items)&&t.items.length>1&&t.maxItems!==void 0&&new Set(t.items.map(r=>r.$id)).size===t.items.length){const r=[];for(const s of t.items){const i=Ba(s);i&&r.push(i)}return bv(r)}const e=Array.isArray(t.items)?t.items[0]:t.items;let n=vv(Ba(e));return n=t.minItems!==void 0?n.min(t.minItems):n,n=t.maxItems!==void 0?n.max(t.maxItems):n,n}if(t.oneOf&&Array.isArray(t.oneOf))return wv(t.oneOf.map(e=>Ba(e)));if(t?.format){if(!Ms[t.format])throw new Xk(t.format);return Rd().refine(Ms[t.format],e=>({params:{value:e,format:t.format}}))}return t?.type&&t?.type!=="object"&&typeof bm[String(t.type)]=="function"?bm[String(t.type)]():tu({data:Rd()}).partial()};class uo{static factory(){return uo.validatorInstance||(uo.validatorInstance=new uo),uo.validatorInstance}validate(e,n,r){var s,i;const o=Ba(e).safeParse(n);if(!o.success){const f=this.convertErrors((i=(s=o.error)===null||s===void 0?void 0:s.issues)!==null&&i!==void 0?i:[]);if(f){if(r?.silent)return f;throw new Mo(f)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map(n=>{var r;let s,i,a,o;o=n.path.join("/");const f=String(n.path[n.path.length-1]),d=n.path.join("/");if(n.code===be.too_big)i="maxItems",o=`${d}/maxItems`,a={limit:n.maximum},s=`must NOT have more than ${n.maximum} items`;else if(n.code===be.too_small)i="minItems",o=`${d}/minItems`,a={limit:n.minimum},s=`must NOT have fewer than ${n.minimum} items`;else if(n.code===be.custom){const{value:p,format:y}=(r=n.params)!==null&&r!==void 0?r:{};typeof p>"u"?s=`value at "/${o}" is required`:s=`value "${typeof p=="object"?JSON.stringify(p):p}" at "/${o}" must pass "${y}" validation`,a={value:p}}return{keyword:i??f,instancePath:d?`/${d}`:"",schemaPath:o?`#${o}`:"#",params:a??{value:n.message},message:s??n.message}})}}class CR{constructor(){this._validator=uo.factory()}validateJSONSchema(e,n,r){return this._validator.validate(e,n,r)}validate(e,n,r={silent:!1}){var s,i;const a=$h(e);if(!(Array.isArray(a.items)&&((s=a.items)===null||s===void 0?void 0:s.length)===0&&n.length===0)){if(Array.isArray(a.items)&&((i=a.items)===null||i===void 0?void 0:i.length)===0&&n.length!==0)throw new Mo([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:n}]);return this._validator.validate(a,n,r)}}}const Ge=new CR;function Oi(t){var e,n;return t instanceof Uint8Array||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}function Pn(...t){const e=t.reduce((s,i)=>s+i.length,0),n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Ol(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n+=1)if(t[n]!==e[n])return!1;return!0}const Fl={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},Pd="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",Rr=t=>{if(Ge.validate(["bytes"],[t]),Oi(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return qs(t);throw new yo(t)},{uint8ArrayToHexString:PR}=xv,At=t=>PR(Rr(t)),$t=t=>typeof t=="string"&&t.slice(0,2).toLowerCase()!=="0x"?Rr(`0x${t}`):Rr(t),Ac=t=>(Ge.validate(["hex"],[t]),Cl(t)),NR=Ac,cn=(t,e)=>{typeof t!="bigint"&&Ge.validate(["int"],[t]);let n=Pl(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},LR=cn,OR=t=>Ac(t).toString(),fr=t=>{Ge.validate(["string"],[t]);let e=t.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),At(new TextEncoder().encode(e))},kv=fr,FR=fr,Dl=t=>cv($t(t)),DR=t=>typeof t=="string"?Dl(t):(Ge.validate(["bytes"],[t]),cv(t)),qh=So,UR=Dl,Tv=t=>{Ge.validate(["string"],[t]);let e="";for(let n=0;n<t.length;n+=1){const r=t.charCodeAt(n).toString(16);e+=r.length%2!==0?`0${r}`:r}return`0x${e}`},HR=Tv,Rv=t=>new TextDecoder("ascii").decode($t(t)),$R=Rv,si=(t,e)=>{if(typeof t=="string"&&jn(t))return e?"address":`0x${t.toLowerCase().replace(/^0x/i,"")}`;if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(typeof t=="number")return e?t<0?"int256":"uint256":cn(t);if(typeof t=="bigint")return e?"bigint":cn(t);if(Oi(t))return e?"bytes":At(t);if(typeof t=="object"&&t)return e?"string":fr(JSON.stringify(t));if(typeof t=="string"){if(t.startsWith("-0x")||t.startsWith("-0X"))return e?"int256":cn(t);if(Mt(t))return e?"bytes":t;if(qu(t)&&!Ja(t)&&!ii(t))return e?"bytes":`0x${t}`;if(qu(t)&&!Ja(t)&&ii(t))return e?"uint":cn(t);if(!Number.isFinite(t))return e?"string":fr(t)}throw new Ok(t)},Un=t=>{if(typeof t=="number")return t>1e20?(console.warn(Pd),BigInt(t)):t;if(typeof t=="bigint")return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?Number(t):t;if(typeof t=="string"&&Mt(t))return Ac(t);try{return Un(BigInt(t))}catch{throw new Rh(t)}},ds=t=>{if(typeof t=="number")return BigInt(t);if(typeof t=="bigint")return t;if(typeof t=="string"&&qu(t))return t.startsWith("-")?-BigInt(t.substring(1)):BigInt(t);throw new Rh(t)},GR=(t,e)=>{let n;if(typeof e=="string"){if(n=Fl[e],!n)throw new Yy(e)}else{if(e<0||!Number.isInteger(e))throw new Jy(e);n=Rs(BigInt(10),BigInt(e))}const r=String(Un(t)),s=n.toString().length-1;if(s<=0)return r.toString();const i=r.padStart(s,"0"),a=i.slice(0,-s),o=i.slice(-s).replace(/\.?0+$/,"");return a===""?o?`0.${o}`:"0":o===""?a:`${a}.${o}`.slice(0,a.length+s+1)},qR=(t,e)=>{Ge.validate(["number"],[t]);let n;if(typeof e=="string"){if(n=Fl[e],!n)throw new Yy(e)}else{if(e<0||!Number.isInteger(e))throw new Jy(e);n=Rs(BigInt(10),BigInt(e))}let r=t;typeof r=="number"&&(r<1e-15&&console.warn(Pd),r>1e20?(console.warn(Pd),r=BigInt(r)):r=r.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}));const[s,i]=String(typeof r=="string"&&!Mt(r)?r:Un(r)).split(".").concat(""),o=BigInt(`${s}${i}`)*n,f=i.length;return f===0?o.toString():o.toString().slice(0,-f)},Cr=t=>{if(!jn(t,!1))throw new Mh(t);const e=t.toLowerCase().replace(/^0x/i,""),n=oi(Bn(Nl(qh(e))));if(le(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const s=n.replace(/^0x/i,"");for(let i=0;i<e.length;i+=1)parseInt(s[i],16)>7?r+=e[i].toUpperCase():r+=e[i];return r},Mv=t=>{if(typeof t=="boolean")return t;if(typeof t=="number"&&(t===0||t===1)||typeof t=="bigint"&&(t===BigInt(0)||t===BigInt(1)))return!!t;if(typeof t=="string"&&!Mt(t)&&(t==="1"||t==="0"||t==="false"||t==="true"))return t==="true"?!0:t==="false"?!1:!!Number(t);if(typeof t=="string"&&Mt(t)&&(t==="0x1"||t==="0x0"))return!!Un(t);throw new Ch(t)};var Df={exports:{}},Am;function jR(){return Am||(Am=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(f,d,p){this.fn=f,this.context=d,this.once=p||!1}function i(f,d,p,y,B){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new s(p,y||f,B),M=n?n+d:d;return f._events[M]?f._events[M].fn?f._events[M]=[f._events[M],x]:f._events[M].push(x):(f._events[M]=x,f._eventsCount++),f}function a(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],p,y;if(this._eventsCount===0)return d;for(y in p=this._events)e.call(p,y)&&d.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},o.prototype.listeners=function(d){var p=n?n+d:d,y=this._events[p];if(!y)return[];if(y.fn)return[y.fn];for(var B=0,x=y.length,M=new Array(x);B<x;B++)M[B]=y[B].fn;return M},o.prototype.listenerCount=function(d){var p=n?n+d:d,y=this._events[p];return y?y.fn?1:y.length:0},o.prototype.emit=function(d,p,y,B,x,M){var I=n?n+d:d;if(!this._events[I])return!1;var R=this._events[I],N=arguments.length,D,U;if(R.fn){switch(R.once&&this.removeListener(d,R.fn,void 0,!0),N){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,p),!0;case 3:return R.fn.call(R.context,p,y),!0;case 4:return R.fn.call(R.context,p,y,B),!0;case 5:return R.fn.call(R.context,p,y,B,x),!0;case 6:return R.fn.call(R.context,p,y,B,x,M),!0}for(U=1,D=new Array(N-1);U<N;U++)D[U-1]=arguments[U];R.fn.apply(R.context,D)}else{var K=R.length,j;for(U=0;U<K;U++)switch(R[U].once&&this.removeListener(d,R[U].fn,void 0,!0),N){case 1:R[U].fn.call(R[U].context);break;case 2:R[U].fn.call(R[U].context,p);break;case 3:R[U].fn.call(R[U].context,p,y);break;case 4:R[U].fn.call(R[U].context,p,y,B);break;default:if(!D)for(j=1,D=new Array(N-1);j<N;j++)D[j-1]=arguments[j];R[U].fn.apply(R[U].context,D)}}return!0},o.prototype.on=function(d,p,y){return i(this,d,p,y,!1)},o.prototype.once=function(d,p,y){return i(this,d,p,y,!0)},o.prototype.removeListener=function(d,p,y,B){var x=n?n+d:d;if(!this._events[x])return this;if(!p)return a(this,x),this;var M=this._events[x];if(M.fn)M.fn===p&&(!B||M.once)&&(!y||M.context===y)&&a(this,x);else{for(var I=0,R=[],N=M.length;I<N;I++)(M[I].fn!==p||B&&!M[I].once||y&&M[I].context!==y)&&R.push(M[I]);R.length?this._events[x]=R.length===1?R[0]:R:a(this,x)}return this},o.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&a(this,p)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o}(Df)),Df.exports}var zR=jR();const Cv=Ni(zR);class jh extends Cv{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}}const VR=Mt,WR=qu,KR=Iv,QR=jn,ZR=Ko,YR=Ll,JR=BR,XR=kR,eM=Vu,tM=RR,nM=(t,e)=>{const n=typeof t=="string"&&dn(t),r=typeof e=="string"&&dn(e);if(t===e||(t==="earliest"||t===0)&&(e==="earliest"||e===0))return 0;if(t==="earliest")return-1;if(e==="earliest")return 1;if(n&&r){const a={[Kr.EARLIEST]:1,[Kr.FINALIZED]:2,[Kr.SAFE]:3,[Kr.LATEST]:4,[Kr.PENDING]:5};return a[t]<a[e]?-1:1}if(n&&!r||!n&&r)throw new Dk("Cannot compare blocktag with provided non-blocktag input.");const s=BigInt(t),i=BigInt(e);return s<i?-1:s===i?0:1},wi=t=>typeof t=="object"&&!le(t)&&Object.keys(t).length!==0&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some(e=>e in t),je=le,Em=t=>typeof t=="object"&&!le(t)&&!Array.isArray(t)&&!(t instanceof kh),Fi=(t,...e)=>{if(!Em(t))return t;const n=Object.assign({},t);for(const r of e)for(const s in r)Em(r[s])?(n[s]||(n[s]={}),n[s]=Fi(n[s],r[s])):!le(r[s])&&Object.hasOwnProperty.call(r,s)&&(Array.isArray(r[s])||r[s]instanceof kh?n[s]=r[s].slice(0):n[s]=r[s]);return n},Po=(t,e,n="0")=>typeof t=="string"?Mt(t)?zu(t,e,n):t.padStart(e,n):(Ge.validate(["int"],[t]),zu(t,e,n)),Pv=(t,e,n="0")=>{if(typeof t=="string"&&!Mt(t))return t.padEnd(e,n);const r=typeof t=="string"&&Mt(t)?t:cn(t),s=r.startsWith("-")?3:2;return Ge.validate([r.startsWith("-")?"int":"uint"],[t]),r.padEnd(e+s,n)},Nv=Pv,Xa=Po,Lv=(t,e=64)=>{Ge.validate(["int"],[t]);const n=Un(t);if(n>=0)return Po(si(n),e);const r=Rs(BigInt(2),BigInt(e*4));if(-n>=r)throw new Xy(`value: ${t}, nibbleWidth: ${e}`);const i=BigInt(n)+r;return Po(cn(i),e)},rM=(t,e=64)=>{Ge.validate(["int"],[t]);const n=Un(t);if(n<0)return n;const r=Math.ceil(Math.log(Number(n))/Math.log(2));if(r>e*4)throw new Xy(`value: "${t}", nibbleWidth: "${e}"`);if(e*4!==r)return n;const s=Rs(BigInt(2),BigInt(e)*BigInt(4));return Un(BigInt(n)-s)},{parseBaseType:iM}=xv,zr=t=>typeof t=="object"&&!le(t)&&"number"in t&&"bytes"in t,sM=(t,e,n=[])=>{let r=Object.assign({},t),s;for(const i of e){if(r.oneOf&&s){const a=s,o=n.find(([f])=>f===a);o&&o[0]===s&&(r=r.oneOf[o[1]])}if(!r.properties&&!r.items)return;r.properties?r=r.properties[i]:r.items&&r.items.properties?r=r.items.properties[i]:r.items&&Co(r.items)?r=r.items:r.items&&Array.isArray(r.items)&&(r=r.items[parseInt(i,10)]),r&&i&&(s=i)}return r},ec=(t,e,n)=>{try{const{baseType:r,baseTypeSize:s}=iM(e);if(r==="int"||r==="uint")switch(n.number){case nr.NUMBER:return Number(ds(t));case nr.HEX:return cn(ds(t));case nr.STR:return ds(t).toString();case nr.BIGINT:return ds(t);default:throw new Ed(`Invalid format: ${String(n.number)}`)}if(r==="bytes"){let i;switch(s?typeof t=="string"?i=Po(t,s*2):Oi(t)&&(i=Pn(new Uint8Array(s-t.length),t)):i=t,n.bytes){case ni.HEX:return At(Rr(i));case ni.UINT8ARRAY:return Rr(i);default:throw new Ed(`Invalid format: ${String(n.bytes)}`)}}if(r==="string")return String(t)}catch{return t}return t},xm=({value:t,schemaProp:e,schema:n,object:r,key:s,dataPath:i,format:a,oneOfPath:o=[]})=>{var f,d;if(Array.isArray(t)){let p=e;if(e?.oneOf!==void 0&&e.oneOf.forEach((y,B)=>{var x,M;!Array.isArray(e?.items)&&(typeof t[0]=="object"&&((x=y?.items)===null||x===void 0?void 0:x.type)==="object"||typeof t[0]=="string"&&((M=y?.items)===null||M===void 0?void 0:M.type)!=="object")&&(p=y,o.push([s,B]))}),le(p?.items))return delete r[s],i.pop(),!0;if(Co(p.items)&&!le(p.items.format)){for(let y=0;y<t.length;y+=1)r[s][y]=ec(t[y],(f=p?.items)===null||f===void 0?void 0:f.format,a);return i.pop(),!0}if(!Array.isArray(p?.items)&&((d=p?.items)===null||d===void 0?void 0:d.type)==="object"){for(const y of t)Ul(y,n,i,a,o);return i.pop(),!0}if(Array.isArray(p?.items)){for(let y=0;y<t.length;y+=1)r[s][y]=ec(t[y],p.items[y].format,a);return i.pop(),!0}}return!1},Ul=(t,e,n,r,s=[])=>{var i;if(!Co(t)&&!Array.isArray(t))return ec(t,e?.format,r);const a=t;if(Array.isArray(a)&&e?.type==="array"&&((i=e?.items)===null||i===void 0?void 0:i.type)==="object")xm({value:a,schemaProp:e,schema:e,object:a,key:"",dataPath:n,format:r,oneOfPath:s});else for(const[o,f]of Object.entries(a)){n.push(o);let d=sM(e,n,s);if(le(d)){delete a[o],n.pop();continue}if(Co(f)){Ul(f,e,n,r,s),n.pop();continue}if(!xm({value:f,schemaProp:d,schema:e,object:a,key:o,dataPath:n,format:r,oneOfPath:s})){if(d?.format===void 0&&d?.oneOf!==void 0){for(const[p,y]of d.oneOf.entries())if(y?.format!==void 0){d=y;break}}a[o]=ec(f,d.format,r),n.pop()}}return a},we=(t,e,n=kn)=>{let r;Co(e)?r=Fi({},e):Array.isArray(e)?r=[...e]:r=e;const s=Co(t)?t:$h(t);if(!s.properties&&!s.items&&!s.format)throw new Ed("Invalid json schema for formatting");return Ul(r,s,[],n)},Ov="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",No=t=>{let e;return typeof t=="bigint"||typeof t=="number"?e=So(t.toString()):Array.isArray(t)?e=new Uint8Array(t):typeof t=="string"&&!Mt(t)?e=So(t):e=Rr(t),At(Bn(Nl(e)))},Ec=t=>{let e;typeof t=="string"?t.startsWith("0x")&&Mt(t)?e=$t(t):e=So(t):e=t;const n=No(e);return n===Ov?void 0:n},zn=t=>{const e=Ec(t);return le(e)?Ov:e},oM=t=>{if(Array.isArray(t))throw new Error("Autodetection of array types is not supported.");let e,n;if(typeof t=="object"&&("t"in t||"type"in t)&&("v"in t||"value"in t))e="t"in t?t.t:t.type,n="v"in t?t.v:t.value,e=e.toLowerCase()==="bigint"?"int":e;else{if(typeof t=="bigint")return["int",t];e=si(t,!0),n=si(t),!e.startsWith("int")&&!e.startsWith("uint")&&(e="bytes")}return(e.startsWith("int")||e.startsWith("uint"))&&typeof n=="string"&&!/^(-)?0x/i.test(n)&&(n=ds(n)),[e,n]},aM=t=>t.startsWith("int[")?`int256${t.slice(3)}`:t==="int"?"int256":t.startsWith("uint[")?`uint256'${t.slice(4)}`:t==="uint"?"uint256":t,Uf=(t,e)=>{const n=/^(\d+).*$/.exec(t.slice(e));return n?parseInt(n[1],10):0},Im=t=>t.toString(2).length,Sm=(t,e)=>{const n=e.toString();if(t==="string"){if(typeof e=="string")return fr(e);throw new Lk(e)}if(t==="bool"||t==="boolean"){if(typeof e=="boolean")return e?"01":"00";throw new Ch(e)}if(t==="address"){if(!jn(n))throw new Mh(n);return n}const r=aM(t);if(t.startsWith("uint")){const s=Uf(r,4);if(s%8||s<8||s>256)throw new cm(n);const i=Un(n);if(Im(i)>s)throw new um(n);if(i<BigInt(0))throw new Fk(n);return s?Xa(i.toString(16),s/8*2):i.toString(16)}if(t.startsWith("int")){const s=Uf(r,3);if(s%8||s<8||s>256)throw new cm(t);const i=Un(n);if(Im(i)>s)throw new um(n);return i<BigInt(0)?Lv(i.toString(),s/8*2):s?Xa(i.toString(16),s/4):i.toString(16)}if(r==="bytes"){if(n.replace(/^0x/i,"").length%2!==0)throw new yo(n);return n}if(t.startsWith("bytes")){if(n.replace(/^0x/i,"").length%2!==0)throw new yo(n);const s=Uf(t,5);if(!s||s<1||s>64||s<n.replace(/^0x/i,"").length/2)throw new yo(n);return Nv(n,s*2)}return""},Fv=t=>{const[e,n]=oM(t);return Array.isArray(n)?n.map(i=>Sm(e,i).replace("0x","")).join(""):Sm(e,n).replace("0x","")},zh=(...t)=>`0x${t.map(Fv).join("").toLowerCase()}`,cM=(...t)=>Ec(zh(...t)),uM=(...t)=>zn(zh(...t)),lM=t=>Ec(`0x${(typeof t=="number"?t.toString():t).padStart(64,"0")}`);function fM(t){return iv(t)}const tc=t=>fM(t),dM=t=>At(tc(t));var Hl=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};function Dv(t){return(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Uv(t,e,n){return Hl(this,void 0,void 0,function*(){let r;const s=yield Promise.race([t instanceof Promise?t:t(),new Promise((i,a)=>{r=setTimeout(()=>n?a(n):i(void 0),e)})]);if(r&&clearTimeout(r),s instanceof Error)throw s;return s})}function Vh(t,e){let n;return[new Promise((s,i)=>{n=setInterval(function a(){return Hl(this,void 0,void 0,function*(){try{const o=yield Uv(t,e);le(o)||(clearInterval(n),s(o))}catch(o){clearInterval(n),i(o)}}),a}(),e)}),n]}function hM(t,e){return Hl(this,void 0,void 0,function*(){return Vh(t,e)[0]})}function Wh(t,e){let n;const r=new Promise((s,i)=>{n=setTimeout(()=>{i(e)},t)});return[n,r]}function Hv(t,e){let n;const r=new Promise((s,i)=>{n=setInterval(()=>{Hl(this,void 0,void 0,function*(){const a=yield t();a&&(clearInterval(n),i(a))})},e)});return[n,r]}const Kh=()=>{const t=tc(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=At(t);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")},Qh=t=>{const e=t.error.code;return Mn.has(e)||e>=-32099&&e<=-32e3},Ei=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"result"in t&&le(t.error)&&(typeof t.id=="number"||typeof t.id=="string"),xi=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&le(t.result)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),$l=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&!le(t.params)&&!le(t.method),$v=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"id"in t&&"result"in t,Wu=t=>Ei(t)||xi(t),Zh=t=>Array.isArray(t)?t.every(Wu):Wu(t),nc=t=>Array.isArray(t)&&t.length>0&&Zh(t);let nu;const Gv=t=>{nu=t},Cs=t=>{var e,n,r,s;return typeof nu<"u"&&(nu+=1),{jsonrpc:(e=t.jsonrpc)!==null&&e!==void 0?e:"2.0",id:(r=(n=t.id)!==null&&n!==void 0?n:nu)!==null&&r!==void 0?r:Kh(),method:t.method,params:(s=t.params)!==null&&s!==void 0?s:void 0}},Yh=t=>t.map(e=>Cs(e)),vr=t=>Array.isArray(t)&&t.length>0,pM=Object.freeze(Object.defineProperty({__proto__:null,isBatchRequest:vr,isBatchResponse:nc,isResponseRpcError:Qh,isResponseWithError:xi,isResponseWithNotification:$l,isResponseWithResult:Ei,isSubscriptionResult:$v,isValidResponse:Zh,setRequestIdStart:Gv,toBatchPayload:Yh,toPayload:Cs,validateResponse:Wu},Symbol.toStringTag,{value:"Module"}));var Hf=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})},qv;class Ku{constructor({timeout:e,eagerStart:n,timeoutMessage:r}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[qv]="Promise",this._state="pending",this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i}),this._timeoutMessage=r,this._timeoutInterval=e,n&&this.startTimer()}get state(){return this._state}then(e,n){return Hf(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return Hf(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return Hf(this,void 0,void 0,function*(){return this._promise.finally(e)})}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new qy(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}qv=Symbol.toStringTag;class jv{constructor(e,n){this.eventEmitter=e,this.autoReconnect=n,this.chunkTimeout=1e3*15}clearQueues(){typeof this._clearQueues=="function"&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){const n=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(s=>{let i=s;this.lastChunk&&(i=this.lastChunk+i);let a;try{a=JSON.parse(i)}catch{this.lastChunk=i,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new Rl({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},this.chunkTimeout);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,a&&n.push(a)}),n}}var Bm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class Jh extends wc{constructor(){super(...arguments),this._eventEmitter=new Cv,this._chainId="",this._accounts=[]}_getChainId(){return Bm(this,void 0,void 0,function*(){var e;const n=yield this.request(Cs({method:"eth_chainId",params:[]}));return(e=n?.result)!==null&&e!==void 0?e:""})}_getAccounts(){return Bm(this,void 0,void 0,function*(){var e;const n=yield this.request(Cs({method:"eth_accounts",params:[]}));return(e=n?.result)!==null&&e!==void 0?e:[]})}_onConnect(){Promise.all([this._getChainId().then(e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(e=>{console.error(e)}),this._getAccounts().then(e=>{this._accounts.length===e.length&&e.every(n=>e.includes(n))||(this._accounts=e,this._onAccountsChanged())}).catch(e=>{console.error(e)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(e=>{console.error(e)})}_onDisconnect(e,n){this._eventEmitter.emit("disconnect",new Hk(e,n))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var $f=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const mM={autoReconnect:!0,delay:5e3,maxAttempts:5},gM=1e3;class zv extends Jh{get SocketConnection(){return this._socketConnection}constructor(e,n,r){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new xd(e);this._socketPath=e,this._socketOptions=n,this._reconnectOptions=Object.assign(Object.assign({},mM),r??{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new jv(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else throw this._connectionStatus="disconnected",e&&e.message?new bc(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`):new xd(this._socketPath)}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,n){this._eventEmitter.on(e,n)}once(e,n){this._eventEmitter.once(e,n)}removeListener(e,n){this._eventEmitter.removeListener(e,n)}_onDisconnect(e,n){this._connectionStatus="disconnected",super._onDisconnect(e,n)}disconnect(e,n){const r=e??gM;this._removeSocketListeners(),this.getStatus()!=="disconnected"&&this._closeSocketConnection(r,n),this._onDisconnect(r,n)}safeDisconnect(e,n){return $f(this,arguments,void 0,function*(r,s,i=!1,a=1e3){let o=0;yield $f(this,void 0,void 0,function*(){return new Promise(d=>{const p=setInterval(()=>{i&&o>=5&&this.clearQueues(),this.getPendingRequestQueueSize()===0&&this.getSentRequestsQueueSize()===0&&(clearInterval(p),d(!0)),o+=1},a)})}),this.disconnect(r,s)})}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((e,n)=>{e.deferredPromise.reject(new tk),this._sentRequestsQueue.delete(n)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new ek(this._reconnectOptions.maxAttempts))))}request(e){return $f(this,void 0,void 0,function*(){if(je(this._socketConnection))throw new Error("Connection is undefined");this.getStatus()==="disconnected"&&this.connect();const n=vr(e)?e[0].id:e.id;if(!n)throw new ck("Request Id not defined");if(this._sentRequestsQueue.has(n))throw new nk(n);const r=new Ku;r.catch(i=>{this._eventEmitter.emit("error",i)});const s={payload:e,deferredPromise:r};if(this.getStatus()==="connecting")return this._pendingRequestsQueue.set(n,s),s.deferredPromise;this._sentRequestsQueue.set(n,s);try{this._sendToSocket(s.payload)}catch(i){this._sentRequestsQueue.delete(n),this._eventEmitter.emit("error",i)}return r})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[e,n]of this._pendingRequestsQueue.entries())try{this._sendToSocket(n.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,n)}catch(r){this._pendingRequestsQueue.delete(e),this._eventEmitter.emit("error",r)}}_onMessage(e){const n=this._parseResponses(e);if(!(je(n)||n.length===0))for(const r of n){if($l(r)&&r.method.endsWith("_subscription")){this._eventEmitter.emit("message",r);return}const s=nc(r)?r[0].id:r.id,i=this._sentRequestsQueue.get(s);if(!i)return;(nc(r)||Ei(r)||xi(r))&&(this._eventEmitter.emit("message",r),i.deferredPromise.resolve(r)),this._sentRequestsQueue.delete(s)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new Ad(e)),this._pendingRequestsQueue.delete(r)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new Ad(e)),this._sentRequestsQueue.delete(r)}),this._removeSocketListeners()}}const Vv=Object.freeze(Object.defineProperty({__proto__:null,ChunkResponseParser:jv,Eip1193Provider:Jh,EventEmitter:jh,SocketProvider:zv,Web3DeferredPromise:Ku,asciiToHex:Tv,bytesToHex:At,bytesToUint8Array:Rr,checkAddressCheckSum:KR,compareBlockNumbers:nM,convert:Ul,convertScalarValue:ec,encodePacked:zh,ethUnitMap:Fl,format:we,fromAscii:HR,fromDecimal:LR,fromTwosComplement:rM,fromUtf8:kv,fromWei:GR,getStorageSlotNumForLongString:lM,hexToAscii:Rv,hexToBytes:$t,hexToNumber:Ac,hexToNumberString:OR,hexToString:UR,hexToUtf8:Dl,isAddress:QR,isBatchRequest:vr,isBatchResponse:nc,isBloom:ZR,isContractAddressInBloom:XR,isContractInitOptions:wi,isDataFormat:zr,isHex:WR,isHexStrict:VR,isInBloom:YR,isNullish:je,isPromise:Dv,isResponseRpcError:Qh,isResponseWithError:xi,isResponseWithNotification:$l,isResponseWithResult:Ei,isSubscriptionResult:$v,isTopic:eM,isTopicInBloom:tM,isUint8Array:Oi,isUserEthereumAddressInBloom:JR,isValidResponse:Zh,jsonRpc:pM,keccak256:No,keccak256Wrapper:No,leftPad:Xa,mergeDeep:Fi,numberToHex:cn,padLeft:Po,padRight:Pv,pollTillDefined:hM,pollTillDefinedAndReturnIntervalId:Vh,processSolidityEncodePackedArgs:Fv,randomBytes:tc,randomHex:dM,rejectIfConditionAtInterval:Hv,rejectIfTimeout:Wh,rightPad:Nv,setRequestIdStart:Gv,sha3:Ec,sha3Raw:zn,soliditySha3:cM,soliditySha3Raw:uM,stringToHex:FR,toAscii:$R,toBatchPayload:Yh,toBigInt:ds,toBool:Mv,toChecksumAddress:Cr,toDecimal:NR,toHex:si,toNumber:Un,toPayload:Cs,toTwosComplement:Lv,toUtf8:DR,toWei:qR,uint8ArrayConcat:Pn,uint8ArrayEquals:Ol,utf8ToBytes:qh,utf8ToHex:fr,uuidV4:Kh,validateResponse:Wu,waitWithTimeout:Uv},Symbol.toStringTag,{value:"Module"}));class Gl{constructor(){this._emitter=new jh}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,n){this._emitter.emit(e,n)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}var Ps;(function(t){t.CONFIG_CHANGE="CONFIG_CHANGE"})(Ps||(Ps={}));class yM extends Gl{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:750*1e3,transactionReceiptPollingInterval:void 0,transactionSendTimeout:750*1e3,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:si(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,customTransactionSchema:void 0,defaultReturnFormat:kn,ignoreGasPricing:!1},this.setConfig(e??{})}setConfig(e){const n=Object.keys(e);for(const r of n)this._triggerConfigChange(r,e[r]),!je(e[r])&&typeof e[r]=="number"&&r==="maxListenersWarningThreshold"&&this.setMaxListenerWarningThreshold(Number(e[r]));Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(e){this._triggerConfigChange("defaultReturnFormat",e),this.config.defaultReturnFormat=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!je(this.config.defaultCommon)&&!je(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new dm(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!je(this.config.defaultCommon)&&!je(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new fm(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!je(this.config.defaultHardfork)&&!je(e)&&!je(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new fm(this.config.defaultHardfork,e.hardfork);if(!je(this.config.defaultChain)&&!je(e)&&!je(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new dm(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get ignoreGasPricing(){return this.config.ignoreGasPricing}set ignoreGasPricing(e){this._triggerConfigChange("ignoreGasPricing",e),this.config.ignoreGasPricing=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}get customTransactionSchema(){return this.config.customTransactionSchema}set customTransactionSchema(e){this._triggerConfigChange("customTransactionSchema",e),this.config.customTransactionSchema=e}_triggerConfigChange(e,n){this.emit(Ps.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:n})}}var qc={exports:{}},km;function vM(){return km||(km=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ro<"u"&&ro,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(a){var o=typeof i<"u"&&i||typeof self<"u"&&self||typeof ro<"u"&&ro||{},f={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function d(m){return m&&DataView.prototype.isPrototypeOf(m)}if(f.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=ArrayBuffer.isView||function(m){return m&&p.indexOf(Object.prototype.toString.call(m))>-1};function B(m){if(typeof m!="string"&&(m=String(m)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(m)||m==="")throw new TypeError('Invalid character in header field name: "'+m+'"');return m.toLowerCase()}function x(m){return typeof m!="string"&&(m=String(m)),m}function M(m){var b={next:function(){var E=m.shift();return{done:E===void 0,value:E}}};return f.iterable&&(b[Symbol.iterator]=function(){return b}),b}function I(m){this.map={},m instanceof I?m.forEach(function(b,E){this.append(E,b)},this):Array.isArray(m)?m.forEach(function(b){if(b.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+b.length);this.append(b[0],b[1])},this):m&&Object.getOwnPropertyNames(m).forEach(function(b){this.append(b,m[b])},this)}I.prototype.append=function(m,b){m=B(m),b=x(b);var E=this.map[m];this.map[m]=E?E+", "+b:b},I.prototype.delete=function(m){delete this.map[B(m)]},I.prototype.get=function(m){return m=B(m),this.has(m)?this.map[m]:null},I.prototype.has=function(m){return this.map.hasOwnProperty(B(m))},I.prototype.set=function(m,b){this.map[B(m)]=x(b)},I.prototype.forEach=function(m,b){for(var E in this.map)this.map.hasOwnProperty(E)&&m.call(b,this.map[E],E,this)},I.prototype.keys=function(){var m=[];return this.forEach(function(b,E){m.push(E)}),M(m)},I.prototype.values=function(){var m=[];return this.forEach(function(b){m.push(b)}),M(m)},I.prototype.entries=function(){var m=[];return this.forEach(function(b,E){m.push([E,b])}),M(m)},f.iterable&&(I.prototype[Symbol.iterator]=I.prototype.entries);function R(m){if(!m._noBody){if(m.bodyUsed)return Promise.reject(new TypeError("Already read"));m.bodyUsed=!0}}function N(m){return new Promise(function(b,E){m.onload=function(){b(m.result)},m.onerror=function(){E(m.error)}})}function D(m){var b=new FileReader,E=N(b);return b.readAsArrayBuffer(m),E}function U(m){var b=new FileReader,E=N(b),S=/charset=([A-Za-z0-9_-]+)/.exec(m.type),P=S?S[1]:"utf-8";return b.readAsText(m,P),E}function K(m){for(var b=new Uint8Array(m),E=new Array(b.length),S=0;S<b.length;S++)E[S]=String.fromCharCode(b[S]);return E.join("")}function j(m){if(m.slice)return m.slice(0);var b=new Uint8Array(m.byteLength);return b.set(new Uint8Array(m)),b.buffer}function J(){return this.bodyUsed=!1,this._initBody=function(m){this.bodyUsed=this.bodyUsed,this._bodyInit=m,m?typeof m=="string"?this._bodyText=m:f.blob&&Blob.prototype.isPrototypeOf(m)?this._bodyBlob=m:f.formData&&FormData.prototype.isPrototypeOf(m)?this._bodyFormData=m:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)?this._bodyText=m.toString():f.arrayBuffer&&f.blob&&d(m)?(this._bodyArrayBuffer=j(m.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(m)||y(m))?this._bodyArrayBuffer=j(m):this._bodyText=m=Object.prototype.toString.call(m):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof m=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var m=R(this);if(m)return m;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var m=R(this);return m||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(f.blob)return this.blob().then(D);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var m=R(this);if(m)return m;if(this._bodyBlob)return U(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(K(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}var ne=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function X(m){var b=m.toUpperCase();return ne.indexOf(b)>-1?b:m}function Z(m,b){if(!(this instanceof Z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');b=b||{};var E=b.body;if(m instanceof Z){if(m.bodyUsed)throw new TypeError("Already read");this.url=m.url,this.credentials=m.credentials,b.headers||(this.headers=new I(m.headers)),this.method=m.method,this.mode=m.mode,this.signal=m.signal,!E&&m._bodyInit!=null&&(E=m._bodyInit,m.bodyUsed=!0)}else this.url=String(m);if(this.credentials=b.credentials||this.credentials||"same-origin",(b.headers||!this.headers)&&(this.headers=new I(b.headers)),this.method=X(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.signal=b.signal||this.signal||function(){if("AbortController"in o){var O=new AbortController;return O.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&E)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(E),(this.method==="GET"||this.method==="HEAD")&&(b.cache==="no-store"||b.cache==="no-cache")){var S=/([?&])_=[^&]*/;if(S.test(this.url))this.url=this.url.replace(S,"$1_="+new Date().getTime());else{var P=/\?/;this.url+=(P.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Z.prototype.clone=function(){return new Z(this,{body:this._bodyInit})};function G(m){var b=new FormData;return m.trim().split("&").forEach(function(E){if(E){var S=E.split("="),P=S.shift().replace(/\+/g," "),O=S.join("=").replace(/\+/g," ");b.append(decodeURIComponent(P),decodeURIComponent(O))}}),b}function W(m){var b=new I,E=m.replace(/\r?\n[\t ]+/g," ");return E.split("\r").map(function(S){return S.indexOf(`
`)===0?S.substr(1,S.length):S}).forEach(function(S){var P=S.split(":"),O=P.shift().trim();if(O){var A=P.join(":").trim();try{b.append(O,A)}catch(h){console.warn("Response "+h.message)}}}),b}J.call(Z.prototype);function z(m,b){if(!(this instanceof z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(b||(b={}),this.type="default",this.status=b.status===void 0?200:b.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=b.statusText===void 0?"":""+b.statusText,this.headers=new I(b.headers),this.url=b.url||"",this._initBody(m)}J.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new I(this.headers),url:this.url})},z.error=function(){var m=new z(null,{status:200,statusText:""});return m.ok=!1,m.status=0,m.type="error",m};var _=[301,302,303,307,308];z.redirect=function(m,b){if(_.indexOf(b)===-1)throw new RangeError("Invalid status code");return new z(null,{status:b,headers:{location:m}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function(b,E){this.message=b,this.name=E;var S=Error(b);this.stack=S.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function l(m,b){return new Promise(function(E,S){var P=new Z(m,b);if(P.signal&&P.signal.aborted)return S(new a.DOMException("Aborted","AbortError"));var O=new XMLHttpRequest;function A(){O.abort()}O.onload=function(){var F={statusText:O.statusText,headers:W(O.getAllResponseHeaders()||"")};P.url.indexOf("file://")===0&&(O.status<200||O.status>599)?F.status=200:F.status=O.status,F.url="responseURL"in O?O.responseURL:F.headers.get("X-Request-URL");var $="response"in O?O.response:O.responseText;setTimeout(function(){E(new z($,F))},0)},O.onerror=function(){setTimeout(function(){S(new TypeError("Network request failed"))},0)},O.ontimeout=function(){setTimeout(function(){S(new TypeError("Network request timed out"))},0)},O.onabort=function(){setTimeout(function(){S(new a.DOMException("Aborted","AbortError"))},0)};function h(F){try{return F===""&&o.location.href?o.location.href:F}catch{return F}}if(O.open(P.method,h(P.url),!0),P.credentials==="include"?O.withCredentials=!0:P.credentials==="omit"&&(O.withCredentials=!1),"responseType"in O&&(f.blob?O.responseType="blob":f.arrayBuffer&&(O.responseType="arraybuffer")),b&&typeof b.headers=="object"&&!(b.headers instanceof I||o.Headers&&b.headers instanceof o.Headers)){var v=[];Object.getOwnPropertyNames(b.headers).forEach(function(F){v.push(B(F)),O.setRequestHeader(F,x(b.headers[F]))}),P.headers.forEach(function(F,$){v.indexOf($)===-1&&O.setRequestHeader($,F)})}else P.headers.forEach(function(F,$){O.setRequestHeader($,F)});P.signal&&(P.signal.addEventListener("abort",A),O.onreadystatechange=function(){O.readyState===4&&P.signal.removeEventListener("abort",A)}),O.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}return l.polyfill=!0,o.fetch||(o.fetch=l,o.Headers=I,o.Request=Z,o.Response=z),a.Headers=I,a.Request=Z,a.Response=z,a.fetch=l,a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e}(qc,qc.exports)),qc.exports}var wM=vM();const bM=Ni(wM);var _M=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class ql extends wc{constructor(e,n){if(super(),!ql.validateClientUrl(e))throw new xd(e);this.clientUrl=e,this.httpProviderOptions=n}static validateClientUrl(e){return typeof e=="string"?/^http(s)?:\/\//i.test(e):!1}getStatus(){throw new Or}supportsSubscriptions(){return!1}request(e,n){var r;return _M(this,void 0,void 0,function*(){const s=Object.assign(Object.assign({},(r=this.httpProviderOptions)===null||r===void 0?void 0:r.providerOptions),n),i=yield bM(this.clientUrl,Object.assign(Object.assign({},s),{method:"POST",headers:Object.assign(Object.assign({},s.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!i.ok)throw new Ar(yield i.json(),void 0,void 0,i.status);return yield i.json()})}on(){throw new Or}removeListener(){throw new Or}once(){throw new Or}removeAllListeners(){throw new Or}connect(){throw new Or}disconnect(){throw new Or}reset(){throw new Or}reconnect(){throw new Or}}var eo=null;typeof WebSocket<"u"?eo=WebSocket:typeof MozWebSocket<"u"?eo=MozWebSocket:typeof global<"u"?eo=global.WebSocket||global.MozWebSocket:typeof window<"u"?eo=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(eo=self.WebSocket||self.MozWebSocket);const AM=eo;class Wv extends zv{constructor(e,n,r){super(e,n,r)}_validateProviderPath(e){return typeof e=="string"?/^ws(s)?:\/\//i.test(e):!1}getStatus(){if(this._socketConnection&&!je(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new AM(this._socketPath,void 0,this._socketOptions&&Object.keys(this._socketOptions).length===0?void 0:this._socketOptions)}_closeSocketConnection(e,n){var r;(r=this._socketConnection)===null||r===void 0||r.close(e,n)}_sendToSocket(e){var n;if(this.getStatus()==="disconnected")throw new Ad;(n=this._socketConnection)===null||n===void 0||n.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,n,r,s;(e=this._socketConnection)===null||e===void 0||e.addEventListener("open",this._onOpenHandler),(n=this._socketConnection)===null||n===void 0||n.addEventListener("message",this._onMessageHandler),(r=this._socketConnection)===null||r===void 0||r.addEventListener("close",i=>this._onCloseHandler(i)),(s=this._socketConnection)===null||s===void 0||s.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,n,r;(e=this._socketConnection)===null||e===void 0||e.removeEventListener("message",this._onMessageHandler),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("open",this._onOpenHandler),(r=this._socketConnection)===null||r===void 0||r.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var n;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(e.code)||!e.wasClean)){this._reconnect();return}this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("error",this._onErrorHandler)}}const Kv=t=>wc.isWeb3Provider(t),Qv=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="Function",Zv=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="AsyncFunction",Yv=t=>typeof t!="string"&&"send"in t,Jv=t=>typeof t!="string"&&"sendAsync"in t,Qu=t=>t&&(Kv(t)||Zv(t)||Qv(t)||Jv(t)||Yv(t)),EM=t=>t&&"supportsSubscriptions"in t?t.supportsSubscriptions():!!(t&&typeof t!="string"&&"on"in t);var Gf=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})},Lo;(function(t){t.PROVIDER_CHANGED="PROVIDER_CHANGED",t.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE"})(Lo||(Lo={}));const Tm={HttpProvider:ql,WebsocketProvider:Wv};class bs extends Gl{constructor(e,n,r){super(),je(e)||this.setProvider(e),this.useRpcCallSpecification=n,je(r)||(this.middleware=r)}static get providers(){return Tm}get provider(){return this._provider}get providers(){return Tm}setProvider(e){let n;if(e&&typeof e=="string"&&this.providers)if(/^http(s)?:\/\//i.test(e))n=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))n=new this.providers.WebsocketProvider(e);else throw new Yc(`Can't autodetect provider for "${e}"`);else je(e)?n=void 0:n=e;return this.emit(Lo.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=n,this.emit(Lo.PROVIDER_CHANGED,this._provider),!0}setMiddleware(e){this.middleware=e}send(e){return Gf(this,void 0,void 0,function*(){const n=Object.assign({},e);let r=yield this._sendRequest(n);if(je(this.middleware)||(r=yield this.middleware.processResponse(r)),Ei(r))return r.result;throw new Ar(r)})}sendBatch(e){return Gf(this,void 0,void 0,function*(){return yield this._sendRequest(e)})}_sendRequest(e){return Gf(this,void 0,void 0,function*(){const{provider:n}=this;if(je(n))throw new Yc("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let r=vr(e)?Yh(e):Cs(e);if(je(this.middleware)||(r=yield this.middleware.processRequest(r)),Kv(n)){let s;try{s=yield n.request(r)}catch(i){s=i}return this._processJsonRpcResponse(r,s,{legacy:!1,error:!1})}if(Zv(n))return n.request(r).then(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!1})).catch(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!0}));if(Qv(n))return new Promise((s,i)=>{const a=d=>{i(this._processJsonRpcResponse(r,d,{legacy:!0,error:!0}))},o=d=>s(this._processJsonRpcResponse(r,d,{legacy:!0,error:!1})),f=n.request(r,(d,p)=>d?a(d):o(p));Dv(f)&&f.then(o).catch(p=>{try{const y=this._processJsonRpcResponse(r,p,{legacy:!0,error:!0});i(y)}catch(y){i(y)}})});if(Yv(n))return new Promise((s,i)=>{n.send(r,(a,o)=>{if(a)return i(this._processJsonRpcResponse(r,a,{legacy:!0,error:!0}));if(je(o))throw new Ar({},'Got a "nullish" response from provider.');return s(this._processJsonRpcResponse(r,o,{legacy:!0,error:!1}))})});if(Jv(n))return n.sendAsync(r).then(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!1})).catch(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!0}));throw new Yc("Provider does not have a request or send method to use.")})}_processJsonRpcResponse(e,n,{legacy:r,error:s}){if(je(n))return this._buildResponse(e,null,s);if(xi(n)){if(this.useRpcCallSpecification&&Qh(n)){const i=n;if(Mn.get(i.error.code)){const a=Mn.get(i.error.code).error;throw new a(i)}else throw new Vn(i)}else if(!bs._isReverted(n))throw new Rl(n,e)}if(Ei(n))return n;if(n instanceof Error)throw bs._isReverted(n),n;if(!r&&vr(e)&&nc(n)||r&&!s&&vr(e))return n;if(r&&s&&vr(e))throw n;if(r&&!xi(n)&&!Ei(n))return this._buildResponse(e,n,s);throw vr(e)&&!Array.isArray(n)?new Ar(n,"Got normal response for a batch request."):!vr(e)&&Array.isArray(n)?new Ar(n,"Got batch response for a normal request."):new Ar(n,"Invalid response")}static _isReverted(e){let n;if(xi(e)?n=e.error:e instanceof Error&&(n=e),n?.message.includes("revert"))throw new vs(n);return!1}_buildResponse(e,n,r){const s={jsonrpc:"2.0",id:vr(e)?e[0].id:"id"in e?e.id:null};return r?Object.assign(Object.assign({},s),{error:n}):Object.assign(Object.assign({},s),{result:n})}}var va=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class Zu{constructor(e,n,r=!1){this.requestManager=e,this.registeredSubscriptions=n,this.tolerateUnlinkedSubscription=r,this._subscriptions=new Map,this.requestManager.on(Lo.BEFORE_PROVIDER_CHANGE,()=>va(this,void 0,void 0,function*(){yield this.unsubscribe()})),this.requestManager.on(Lo.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents()}),this.listenToProviderEvents()}listenToProviderEvents(){const e=this.requestManager.provider;!this.requestManager.provider||typeof e?.supportsSubscriptions=="function"&&!e?.supportsSubscriptions()||typeof this.requestManager.provider.on=="function"&&(typeof this.requestManager.provider.request=="function"?this.requestManager.provider.on("message",n=>this.messageListener(n)):e.on("data",n=>this.messageListener(n)))}messageListener(e){var n,r,s;if(!e)throw new Gr("Should not call messageListener with no data. Type was");const i=((n=e.params)===null||n===void 0?void 0:n.subscription)||((r=e.data)===null||r===void 0?void 0:r.subscription)||((s=e.id)===null||s===void 0?void 0:s.toString(16));if(i){const a=this._subscriptions.get(i);a?.processSubscriptionData(e)}}subscribe(e,n){return va(this,arguments,void 0,function*(r,s,i=kn){const a=this.registeredSubscriptions[r];if(!a)throw new Gr("Invalid subscription type");const o=new a(s??void 0,{subscriptionManager:this,returnFormat:i});return yield this.addSubscription(o),o})}get subscriptions(){return this._subscriptions}addSubscription(e){return va(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new Yc("Provider not available");if(!this.supportsSubscriptions())throw new Gr("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new Gr(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),je(e.id))throw new Gr("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id})}removeSubscription(e){return va(this,void 0,void 0,function*(){const{id:n}=e;if(je(n))throw new Gr("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(n)&&!this.tolerateUnlinkedSubscription)throw new Gr(`Subscription with id "${n.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(n),n})}unsubscribe(e){return va(this,void 0,void 0,function*(){const n=[];for(const[r,s]of this.subscriptions.entries())(!e||typeof e=="function"&&e({id:r,sub:s}))&&n.push(this.removeSubscription(s));return Promise.all(n)})}clear(){this._subscriptions.clear()}supportsSubscriptions(){return je(this.requestManager.provider)?!1:EM(this.requestManager.provider)}}var wa=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class xc extends Gl{constructor(e,n){var r;super(),this.args=e;const{requestManager:s}=n,{subscriptionManager:i}=n;s?this._subscriptionManager=new Zu(s,{},!0):this._subscriptionManager=i,this._returnFormat=(r=n?.returnFormat)!==null&&r!==void 0?r:kn}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return wa(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this)})}processSubscriptionData(e){var n,r;e?.data?this._processSubscriptionResult((r=(n=e?.data)===null||n===void 0?void 0:n.result)!==null&&r!==void 0?r:e?.data):e&&$l(e)&&this._processSubscriptionResult(e?.params.result)}sendSubscriptionRequest(){return wa(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id})}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return wa(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe()})}unsubscribe(){return wa(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))})}sendUnsubscribeRequest(){return wa(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0})}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}var Ks=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class Yu extends cS{constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let e;try{e=window.localStorage;const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch(n){return n&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&!le(e)&&e.length!==0?e:void 0}}create(e){for(let n=0;n<e;n+=1)this.add(this._accountProvider.create());return this}add(e){var n;if(typeof e=="string")return this.add(this._accountProvider.privateKeyToAccount(e));let r=this.length;return this.get(e.address)&&(console.warn(`Account ${e.address.toLowerCase()} already exists.`),r=(n=this._addressMap.get(e.address.toLowerCase()))!==null&&n!==void 0?n:r),this._addressMap.set(e.address.toLowerCase(),r),this[r]=e,this}get(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return le(n)?void 0:this[n]}return this[e]}remove(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return le(n)?!1:(this._addressMap.delete(e.toLowerCase()),this.splice(n,1),!0)}return this[e]?(this.splice(e,1),!0):!1}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,n){return Ks(this,void 0,void 0,function*(){return Promise.all(this.map(r=>Ks(this,void 0,void 0,function*(){return r.encrypt(e,n)})))})}decrypt(e,n,r){return Ks(this,void 0,void 0,function*(){const s=yield Promise.all(e.map(i=>Ks(this,void 0,void 0,function*(){return this._accountProvider.decrypt(i,n,r)})));for(const i of s)this.add(i);return this})}save(e,n){return Ks(this,void 0,void 0,function*(){const r=Yu.getStorage();if(!r)throw new Error("Local storage not available.");return r.setItem(n??this._defaultKeyName,JSON.stringify(yield this.encrypt(e))),!0})}load(e,n){return Ks(this,void 0,void 0,function*(){const r=Yu.getStorage();if(!r)throw new Error("Local storage not available.");const s=r.getItem(n??this._defaultKeyName);return s&&(yield this.decrypt(JSON.parse(s)||[],e)),this})}}const Ir={web:Jc};function Xv(t,e,n){if(!n.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${n}`);if(e.length!==16)throw new Error("AES: wrong IV length");if(n.startsWith("aes-128")&&t.length!==16||n.startsWith("aes-256")&&t.length!==32)throw new Error("AES: wrong key length")}async function ew(t,e,n){if(!Ir.web)throw new Error("Browser crypto not available.");let r;if(["aes-128-cbc","aes-256-cbc"].includes(t)&&(r="cbc"),["aes-128-ctr","aes-256-ctr"].includes(t)&&(r="ctr"),!r)throw new Error("AES: unsupported mode");return[await Ir.web.subtle.importKey("raw",e,{name:`AES-${r.toUpperCase()}`,length:e.length*8},!0,["encrypt","decrypt"]),{name:`aes-${r}`,iv:n,counter:n,length:128}]}async function Xh(t,e,n,r="aes-128-ctr",s=!0){if(Xv(e,n,r),Ir.web){const[i,a]=await ew(r,e,n),o=await Ir.web.subtle.encrypt(a,i,t);let f=new Uint8Array(o);return!s&&a.name==="aes-cbc"&&!(t.length%16)&&(f=f.slice(0,-16)),f}else if(Ir.node){const i=Ir.node.createCipheriv(r,e,n);return i.setAutoPadding(s),Lu(i.update(t),i.final())}else throw new Error("The environment doesn't have AES module")}async function xM(t,e,n,r){const s=t.slice(-16);for(let a=0;a<16;a++)s[a]^=n[a]^16;return(await Xh(s,e,n,r)).slice(0,16)}async function IM(t,e,n,r="aes-128-ctr",s=!0){if(Xv(e,n,r),Ir.web){const[i,a]=await ew(r,e,n);if(!s&&a.name==="aes-cbc"){const d=await xM(t,e,n,r);t=Lu(t,d)}const o=await Ir.web.subtle.decrypt(a,i,t),f=new Uint8Array(o);if(a.name==="aes-cbc"){const d=await Xh(f,e,n,r);if(!wT(d,t))throw new Error("AES: wrong padding")}return f}else if(Ir.node){const i=Ir.node.createDecipheriv(r,e,n);return i.setAutoPadding(s),Lu(i.update(t),i.final())}else throw new Error("The environment doesn't have AES module")}class tw extends Lh{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Ph(e);const r=Bo(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return Ss(this),this.iHash.update(e),this}digestInto(e){Ss(this),Wo(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const e0=(t,e,n)=>new tw(t,e).update(n).digest();e0.create=(t,e)=>new tw(t,e);function SM(t,e,n,r){Ph(t);const s=nv({dkLen:32,asyncTick:10},r),{c:i,dkLen:a,asyncTick:o}=s;if(On(i),On(a),On(o),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const f=Bo(e),d=Bo(n),p=new Uint8Array(a),y=e0.create(t,f),B=y._cloneInto().update(d);return{c:i,dkLen:a,asyncTick:o,DK:p,PRF:y,PRFSalt:B}}function BM(t,e,n,r,s){return t.destroy(),e.destroy(),r&&r.destroy(),s.fill(0),n}function t0(t,e,n,r){const{c:s,dkLen:i,DK:a,PRF:o,PRFSalt:f}=SM(t,e,n,r);let d;const p=new Uint8Array(4),y=eu(p),B=new Uint8Array(o.outputLen);for(let x=1,M=0;M<i;x++,M+=o.outputLen){const I=a.subarray(M,M+o.outputLen);y.setInt32(0,x,!1),(d=f._cloneInto(d)).update(p).digestInto(B),I.set(B.subarray(0,I.length));for(let R=1;R<s;R++){o._cloneInto(d).update(B).digestInto(B);for(let N=0;N<I.length;N++)I[N]^=B[N]}}return BM(o,f,a,d,B)}function kM(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),f=r?4:0,d=r?0:4;t.setUint32(e+f,a,r),t.setUint32(e+d,o,r)}const TM=(t,e,n)=>t&e^~t&n,RM=(t,e,n)=>t&e^t&n^e&n;class MM extends Lh{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=eu(this.buffer)}update(e){Ss(this);const{view:n,buffer:r,blockLen:s}=this;e=Bo(e);const i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const f=eu(e);for(;s<=i-a;a+=s)this.process(f,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ss(this),Nh(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let y=a;y<s;y++)n[y]=0;kM(r,s-8,BigInt(this.length*8),i),this.process(r,0);const o=eu(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=f/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<d;y++)o.setUint32(4*y,p[y],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:o}=this;return e.length=s,e.pos=o,e.finished=i,e.destroyed=a,s%n&&e.buffer.set(r),e}}const CM=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gi=new Uint32Array(64);class PM extends MM{constructor(){super(64,32,8,!1),this.A=mi[0]|0,this.B=mi[1]|0,this.C=mi[2]|0,this.D=mi[3]|0,this.E=mi[4]|0,this.F=mi[5]|0,this.G=mi[6]|0,this.H=mi[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:a,G:o,H:f}=this;return[e,n,r,s,i,a,o,f]}set(e,n,r,s,i,a,o,f){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=f|0}process(e,n){for(let y=0;y<16;y++,n+=4)gi[y]=e.getUint32(n,!1);for(let y=16;y<64;y++){const B=gi[y-15],x=gi[y-2],M=mr(B,7)^mr(B,18)^B>>>3,I=mr(x,17)^mr(x,19)^x>>>10;gi[y]=I+gi[y-7]+M+gi[y-16]|0}let{A:r,B:s,C:i,D:a,E:o,F:f,G:d,H:p}=this;for(let y=0;y<64;y++){const B=mr(o,6)^mr(o,11)^mr(o,25),x=p+B+TM(o,f,d)+CM[y]+gi[y]|0,I=(mr(r,2)^mr(r,13)^mr(r,22))+RM(r,s,i)|0;p=d,d=f,f=o,o=a+x|0,a=i,i=s,s=r,r=x+I|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,f=f+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(r,s,i,a,o,f,d,p)}roundClean(){gi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const jl=rv(()=>new PM);function nw(t,e,n,r,s){if(!["sha256","sha512"].includes(s))throw new Error("Only sha256 and sha512 are supported");return Ou(t),Ou(e),t0(jl,t,e,{c:n,dkLen:r})}function Rm(t,e,n,r,s,i){let a=t[e++]^n[r++],o=t[e++]^n[r++],f=t[e++]^n[r++],d=t[e++]^n[r++],p=t[e++]^n[r++],y=t[e++]^n[r++],B=t[e++]^n[r++],x=t[e++]^n[r++],M=t[e++]^n[r++],I=t[e++]^n[r++],R=t[e++]^n[r++],N=t[e++]^n[r++],D=t[e++]^n[r++],U=t[e++]^n[r++],K=t[e++]^n[r++],j=t[e++]^n[r++],J=a,ne=o,X=f,Z=d,G=p,W=y,z=B,_=x,l=M,m=I,b=R,E=N,S=D,P=U,O=K,A=j;for(let h=0;h<8;h+=2)G^=Rt(J+S|0,7),l^=Rt(G+J|0,9),S^=Rt(l+G|0,13),J^=Rt(S+l|0,18),m^=Rt(W+ne|0,7),P^=Rt(m+W|0,9),ne^=Rt(P+m|0,13),W^=Rt(ne+P|0,18),O^=Rt(b+z|0,7),X^=Rt(O+b|0,9),z^=Rt(X+O|0,13),b^=Rt(z+X|0,18),Z^=Rt(A+E|0,7),_^=Rt(Z+A|0,9),E^=Rt(_+Z|0,13),A^=Rt(E+_|0,18),ne^=Rt(J+Z|0,7),X^=Rt(ne+J|0,9),Z^=Rt(X+ne|0,13),J^=Rt(Z+X|0,18),z^=Rt(W+G|0,7),_^=Rt(z+W|0,9),G^=Rt(_+z|0,13),W^=Rt(G+_|0,18),E^=Rt(b+m|0,7),l^=Rt(E+b|0,9),m^=Rt(l+E|0,13),b^=Rt(m+l|0,18),S^=Rt(A+O|0,7),P^=Rt(S+A|0,9),O^=Rt(P+S|0,13),A^=Rt(O+P|0,18);s[i++]=a+J|0,s[i++]=o+ne|0,s[i++]=f+X|0,s[i++]=d+Z|0,s[i++]=p+G|0,s[i++]=y+W|0,s[i++]=B+z|0,s[i++]=x+_|0,s[i++]=M+l|0,s[i++]=I+m|0,s[i++]=R+b|0,s[i++]=N+E|0,s[i++]=D+S|0,s[i++]=U+P|0,s[i++]=K+O|0,s[i++]=j+A|0}function qf(t,e,n,r,s){let i=r+0,a=r+16*s;for(let o=0;o<16;o++)n[a+o]=t[e+(2*s-1)*16+o];for(let o=0;o<s;o++,i+=16,e+=16)Rm(n,a,t,e,n,i),o>0&&(a+=16),Rm(n,i,t,e+=16,n,a)}function NM(t,e,n){const r=nv({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:s,r:i,p:a,dkLen:o,asyncTick:f,maxmem:d,onProgress:p}=r;if(On(s),On(i),On(a),On(o),On(f),On(d),p!==void 0&&typeof p!="function")throw new Error("progressCb should be function");const y=128*i,B=y/4;if(s<=1||(s&s-1)!==0||s>=2**(y/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/y)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(o<0||o>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const x=y*(s+a);if(x>d)throw new Error(`Scrypt: parameters too large, ${x} (128 * r * (N + p)) > ${d} (maxmem)`);const M=t0(jl,t,e,{c:1,dkLen:y*a}),I=Xc(M),R=Xc(new Uint8Array(y*s)),N=Xc(new Uint8Array(y));let D=()=>{};if(p){const U=2*s*a,K=Math.max(Math.floor(U/1e4),1);let j=0;D=()=>{j++,p&&(!(j%K)||j===U)&&p(j/U)}}return{N:s,r:i,p:a,dkLen:o,blockSize32:B,V:R,B32:I,B:M,tmp:N,blockMixCb:D,asyncTick:f}}function LM(t,e,n,r,s){const i=t0(jl,t,n,{c:1,dkLen:e});return n.fill(0),r.fill(0),s.fill(0),i}function OM(t,e,n){const{N:r,r:s,p:i,dkLen:a,blockSize32:o,V:f,B32:d,B:p,tmp:y,blockMixCb:B}=NM(t,e,n);Pu||Nu(d);for(let x=0;x<i;x++){const M=o*x;for(let I=0;I<o;I++)f[I]=d[M+I];for(let I=0,R=0;I<r-1;I++)qf(f,R,f,R+=o,s),B();qf(f,(r-1)*o,d,M,s),B();for(let I=0;I<r;I++){const R=d[M+o-16]%r;for(let N=0;N<o;N++)y[N]=d[M+N]^f[R*o+N];qf(y,0,d,M,s),B()}}return Pu||Nu(d),LM(t,a,p,f,y)}function rw(t,e,n,r,s,i,a){return Ou(t),Ou(e),OM(t,e,{N:n,r:s,p:r,dkLen:i,onProgress:a})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iw=BigInt(0),zl=BigInt(1),FM=BigInt(2);function Ns(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Ic(t){if(!Ns(t))throw new Error("Uint8Array expected")}const DM=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Oo(t){Ic(t);let e="";for(let n=0;n<t.length;n++)e+=DM[t[n]];return e}function sw(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function n0(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Dr={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Mm(t){if(t>=Dr._0&&t<=Dr._9)return t-Dr._0;if(t>=Dr._A&&t<=Dr._F)return t-(Dr._A-10);if(t>=Dr._a&&t<=Dr._f)return t-(Dr._a-10)}function Fo(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const a=Mm(t.charCodeAt(i)),o=Mm(t.charCodeAt(i+1));if(a===void 0||o===void 0){const f=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+i)}r[s]=a*16+o}return r}function _s(t){return n0(Oo(t))}function r0(t){return Ic(t),n0(Oo(Uint8Array.from(t).reverse()))}function Do(t,e){return Fo(t.toString(16).padStart(e*2,"0"))}function i0(t,e){return Do(t,e).reverse()}function UM(t){return Fo(sw(t))}function sr(t,e,n){let r;if(typeof e=="string")try{r=Fo(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Ns(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function rc(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Ic(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}function HM(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function $M(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function GM(t){let e;for(e=0;t>iw;t>>=zl,e+=1);return e}function qM(t,e){return t>>BigInt(e)&zl}function jM(t,e,n){return t|(n?zl:iw)<<BigInt(e)}const s0=t=>(FM<<BigInt(t-1))-zl,jf=t=>new Uint8Array(t),Cm=t=>Uint8Array.from(t);function ow(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=jf(t),s=jf(t),i=0;const a=()=>{r.fill(1),s.fill(0),i=0},o=(...y)=>n(s,r,...y),f=(y=jf())=>{s=o(Cm([0]),y),r=o(),y.length!==0&&(s=o(Cm([1]),y),r=o())},d=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const B=[];for(;y<e;){r=o();const x=r.slice();B.push(x),y+=r.length}return rc(...B)};return(y,B)=>{a(),f(y);let x;for(;!(x=B(d()));)f();return a(),x}}const zM={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Ns(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Sc(t,e,n={}){const r=(s,i,a)=>{const o=zM[i];if(typeof o!="function")throw new Error(`Invalid validator "${i}", expected function`);const f=t[s];if(!(a&&f===void 0)&&!o(f,t))throw new Error(`Invalid param ${String(s)}=${f} (${typeof f}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const VM=Object.freeze(Object.defineProperty({__proto__:null,abytes:Ic,bitGet:qM,bitLen:GM,bitMask:s0,bitSet:jM,bytesToHex:Oo,bytesToNumberBE:_s,bytesToNumberLE:r0,concatBytes:rc,createHmacDrbg:ow,ensureBytes:sr,equalBytes:HM,hexToBytes:Fo,hexToNumber:n0,isBytes:Ns,numberToBytesBE:Do,numberToBytesLE:i0,numberToHexUnpadded:sw,numberToVarBytesBE:UM,utf8ToBytes:$M,validateObject:Sc},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fn=BigInt(0),tn=BigInt(1),as=BigInt(2),WM=BigInt(3),Nd=BigInt(4),Pm=BigInt(5),Nm=BigInt(8);BigInt(9);BigInt(16);function Ln(t,e){const n=t%e;return n>=fn?n:e+n}function KM(t,e,n){if(n<=fn||e<fn)throw new Error("Expected power/modulo > 0");if(n===tn)return fn;let r=tn;for(;e>fn;)e&tn&&(r=r*t%n),t=t*t%n,e>>=tn;return r}function Wn(t,e,n){let r=t;for(;e-- >fn;)r*=r,r%=n;return r}function Ld(t,e){if(t===fn||e<=fn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Ln(t,e),r=e,s=fn,i=tn;for(;n!==fn;){const o=r/n,f=r%n,d=s-i*o;r=n,n=f,s=i,i=d}if(r!==tn)throw new Error("invert: does not exist");return Ln(s,e)}function QM(t){const e=(t-tn)/as;let n,r,s;for(n=t-tn,r=0;n%as===fn;n/=as,r++);for(s=as;s<t&&KM(s,e,t)!==t-tn;s++);if(r===1){const a=(t+tn)/Nd;return function(f,d){const p=f.pow(d,a);if(!f.eql(f.sqr(p),d))throw new Error("Cannot find square root");return p}}const i=(n+tn)/as;return function(o,f){if(o.pow(f,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let d=r,p=o.pow(o.mul(o.ONE,s),n),y=o.pow(f,i),B=o.pow(f,n);for(;!o.eql(B,o.ONE);){if(o.eql(B,o.ZERO))return o.ZERO;let x=1;for(let I=o.sqr(B);x<d&&!o.eql(I,o.ONE);x++)I=o.sqr(I);const M=o.pow(p,tn<<BigInt(d-x-1));p=o.sqr(M),y=o.mul(y,M),B=o.mul(B,p),d=x}return y}}function ZM(t){if(t%Nd===WM){const e=(t+tn)/Nd;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%Nm===Pm){const e=(t-Pm)/Nm;return function(r,s){const i=r.mul(s,as),a=r.pow(i,e),o=r.mul(s,a),f=r.mul(r.mul(o,as),a),d=r.mul(o,r.sub(f,r.ONE));if(!r.eql(r.sqr(d),s))throw new Error("Cannot find square root");return d}}return QM(t)}const YM=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function JM(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=YM.reduce((r,s)=>(r[s]="function",r),e);return Sc(t,n)}function XM(t,e,n){if(n<fn)throw new Error("Expected power > 0");if(n===fn)return t.ONE;if(n===tn)return e;let r=t.ONE,s=e;for(;n>fn;)n&tn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=tn;return r}function e3(t,e){const n=new Array(e.length),r=e.reduce((i,a,o)=>t.is0(a)?i:(n[o]=i,t.mul(i,a)),t.ONE),s=t.inv(r);return e.reduceRight((i,a,o)=>t.is0(a)?i:(n[o]=t.mul(i,n[o]),t.mul(i,a)),s),n}function aw(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function t3(t,e,n=!1,r={}){if(t<=fn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=aw(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=ZM(t),o=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:s0(s),ZERO:fn,ONE:tn,create:f=>Ln(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return fn<=f&&f<t},is0:f=>f===fn,isOdd:f=>(f&tn)===tn,neg:f=>Ln(-f,t),eql:(f,d)=>f===d,sqr:f=>Ln(f*f,t),add:(f,d)=>Ln(f+d,t),sub:(f,d)=>Ln(f-d,t),mul:(f,d)=>Ln(f*d,t),pow:(f,d)=>XM(o,f,d),div:(f,d)=>Ln(f*Ld(d,t),t),sqrN:f=>f*f,addN:(f,d)=>f+d,subN:(f,d)=>f-d,mulN:(f,d)=>f*d,inv:f=>Ld(f,t),sqrt:r.sqrt||(f=>a(o,f)),invertBatch:f=>e3(o,f),cmov:(f,d,p)=>p?d:f,toBytes:f=>n?i0(f,i):Do(f,i),fromBytes:f=>{if(f.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${f.length}`);return n?r0(f):_s(f)}});return Object.freeze(o)}function cw(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function uw(t){const e=cw(t);return e+Math.ceil(e/2)}function n3(t,e,n=!1){const r=t.length,s=cw(e),i=uw(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const a=n?_s(t):r0(t),o=Ln(a,e-tn)+tn;return n?i0(o,s):Do(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r3=BigInt(0),zf=BigInt(1);function i3(t,e){const n=(s,i)=>{const a=i.negate();return s?a:i},r=s=>{const i=Math.ceil(e/s)+1,a=2**(s-1);return{windows:i,windowSize:a}};return{constTimeNegate:n,unsafeLadder(s,i){let a=t.ZERO,o=s;for(;i>r3;)i&zf&&(a=a.add(o)),o=o.double(),i>>=zf;return a},precomputeWindow(s,i){const{windows:a,windowSize:o}=r(i),f=[];let d=s,p=d;for(let y=0;y<a;y++){p=d,f.push(p);for(let B=1;B<o;B++)p=p.add(d),f.push(p);d=p.double()}return f},wNAF(s,i,a){const{windows:o,windowSize:f}=r(s);let d=t.ZERO,p=t.BASE;const y=BigInt(2**s-1),B=2**s,x=BigInt(s);for(let M=0;M<o;M++){const I=M*f;let R=Number(a&y);a>>=x,R>f&&(R-=B,a+=zf);const N=I,D=I+Math.abs(R)-1,U=M%2!==0,K=R<0;R===0?p=p.add(n(U,i[N])):d=d.add(n(K,i[D]))}return{p:d,f:p}},wNAFCached(s,i,a,o){const f=s._WINDOW_SIZE||1;let d=i.get(s);return d||(d=this.precomputeWindow(s,f),f!==1&&i.set(s,o(d))),this.wNAF(f,d,a)}}}function lw(t){return JM(t.Fp),Sc(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...aw(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function s3(t){const e=lw(t);Sc(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:o3,hexToBytes:a3}=VM,hs={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=hs;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:o3(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=hs,n=typeof t=="string"?a3(t):t;Ic(n);let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=hs._parseInt(n.subarray(2)),{d:a,l:o}=hs._parseInt(i);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(t){const e=d=>Number.parseInt(d[0],16)&8?"00"+d:d,n=d=>{const p=d.toString(16);return p.length&1?`0${p}`:p},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,a=s.length/2,o=n(i),f=n(a);return`30${n(a+i+4)}02${f}${s}02${o}${r}`}},Qr=BigInt(0),Qn=BigInt(1);BigInt(2);const Lm=BigInt(3);BigInt(4);function c3(t){const e=s3(t),{Fp:n}=e,r=e.toBytes||((M,I,R)=>{const N=I.toAffine();return rc(Uint8Array.from([4]),n.toBytes(N.x),n.toBytes(N.y))}),s=e.fromBytes||(M=>{const I=M.subarray(1),R=n.fromBytes(I.subarray(0,n.BYTES)),N=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:R,y:N}});function i(M){const{a:I,b:R}=e,N=n.sqr(M),D=n.mul(N,M);return n.add(n.add(D,n.mul(M,I)),R)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function a(M){return typeof M=="bigint"&&Qr<M&&M<e.n}function o(M){if(!a(M))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(M){const{allowedPrivateKeyLengths:I,nByteLength:R,wrapPrivateKey:N,n:D}=e;if(I&&typeof M!="bigint"){if(Ns(M)&&(M=Oo(M)),typeof M!="string"||!I.includes(M.length))throw new Error("Invalid key");M=M.padStart(R*2,"0")}let U;try{U=typeof M=="bigint"?M:_s(sr("private key",M,R))}catch{throw new Error(`private key must be ${R} bytes, hex or bigint, not ${typeof M}`)}return N&&(U=Ln(U,D)),o(U),U}const d=new Map;function p(M){if(!(M instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(I,R,N){if(this.px=I,this.py=R,this.pz=N,I==null||!n.isValid(I))throw new Error("x required");if(R==null||!n.isValid(R))throw new Error("y required");if(N==null||!n.isValid(N))throw new Error("z required")}static fromAffine(I){const{x:R,y:N}=I||{};if(!I||!n.isValid(R)||!n.isValid(N))throw new Error("invalid affine point");if(I instanceof y)throw new Error("projective point not allowed");const D=U=>n.eql(U,n.ZERO);return D(R)&&D(N)?y.ZERO:new y(R,N,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){const R=n.invertBatch(I.map(N=>N.pz));return I.map((N,D)=>N.toAffine(R[D])).map(y.fromAffine)}static fromHex(I){const R=y.fromAffine(s(sr("pointHex",I)));return R.assertValidity(),R}static fromPrivateKey(I){return y.BASE.multiply(f(I))}_setWindowSize(I){this._WINDOW_SIZE=I,d.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:I,y:R}=this.toAffine();if(!n.isValid(I)||!n.isValid(R))throw new Error("bad point: x or y not FE");const N=n.sqr(R),D=i(I);if(!n.eql(N,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:I}=this.toAffine();if(n.isOdd)return!n.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){p(I);const{px:R,py:N,pz:D}=this,{px:U,py:K,pz:j}=I,J=n.eql(n.mul(R,j),n.mul(U,D)),ne=n.eql(n.mul(N,j),n.mul(K,D));return J&&ne}negate(){return new y(this.px,n.neg(this.py),this.pz)}double(){const{a:I,b:R}=e,N=n.mul(R,Lm),{px:D,py:U,pz:K}=this;let j=n.ZERO,J=n.ZERO,ne=n.ZERO,X=n.mul(D,D),Z=n.mul(U,U),G=n.mul(K,K),W=n.mul(D,U);return W=n.add(W,W),ne=n.mul(D,K),ne=n.add(ne,ne),j=n.mul(I,ne),J=n.mul(N,G),J=n.add(j,J),j=n.sub(Z,J),J=n.add(Z,J),J=n.mul(j,J),j=n.mul(W,j),ne=n.mul(N,ne),G=n.mul(I,G),W=n.sub(X,G),W=n.mul(I,W),W=n.add(W,ne),ne=n.add(X,X),X=n.add(ne,X),X=n.add(X,G),X=n.mul(X,W),J=n.add(J,X),G=n.mul(U,K),G=n.add(G,G),X=n.mul(G,W),j=n.sub(j,X),ne=n.mul(G,Z),ne=n.add(ne,ne),ne=n.add(ne,ne),new y(j,J,ne)}add(I){p(I);const{px:R,py:N,pz:D}=this,{px:U,py:K,pz:j}=I;let J=n.ZERO,ne=n.ZERO,X=n.ZERO;const Z=e.a,G=n.mul(e.b,Lm);let W=n.mul(R,U),z=n.mul(N,K),_=n.mul(D,j),l=n.add(R,N),m=n.add(U,K);l=n.mul(l,m),m=n.add(W,z),l=n.sub(l,m),m=n.add(R,D);let b=n.add(U,j);return m=n.mul(m,b),b=n.add(W,_),m=n.sub(m,b),b=n.add(N,D),J=n.add(K,j),b=n.mul(b,J),J=n.add(z,_),b=n.sub(b,J),X=n.mul(Z,m),J=n.mul(G,_),X=n.add(J,X),J=n.sub(z,X),X=n.add(z,X),ne=n.mul(J,X),z=n.add(W,W),z=n.add(z,W),_=n.mul(Z,_),m=n.mul(G,m),z=n.add(z,_),_=n.sub(W,_),_=n.mul(Z,_),m=n.add(m,_),W=n.mul(z,m),ne=n.add(ne,W),W=n.mul(b,m),J=n.mul(l,J),J=n.sub(J,W),W=n.mul(l,z),X=n.mul(b,X),X=n.add(X,W),new y(J,ne,X)}subtract(I){return this.add(I.negate())}is0(){return this.equals(y.ZERO)}wNAF(I){return x.wNAFCached(this,d,I,R=>{const N=n.invertBatch(R.map(D=>D.pz));return R.map((D,U)=>D.toAffine(N[U])).map(y.fromAffine)})}multiplyUnsafe(I){const R=y.ZERO;if(I===Qr)return R;if(o(I),I===Qn)return this;const{endo:N}=e;if(!N)return x.unsafeLadder(this,I);let{k1neg:D,k1:U,k2neg:K,k2:j}=N.splitScalar(I),J=R,ne=R,X=this;for(;U>Qr||j>Qr;)U&Qn&&(J=J.add(X)),j&Qn&&(ne=ne.add(X)),X=X.double(),U>>=Qn,j>>=Qn;return D&&(J=J.negate()),K&&(ne=ne.negate()),ne=new y(n.mul(ne.px,N.beta),ne.py,ne.pz),J.add(ne)}multiply(I){o(I);let R=I,N,D;const{endo:U}=e;if(U){const{k1neg:K,k1:j,k2neg:J,k2:ne}=U.splitScalar(R);let{p:X,f:Z}=this.wNAF(j),{p:G,f:W}=this.wNAF(ne);X=x.constTimeNegate(K,X),G=x.constTimeNegate(J,G),G=new y(n.mul(G.px,U.beta),G.py,G.pz),N=X.add(G),D=Z.add(W)}else{const{p:K,f:j}=this.wNAF(R);N=K,D=j}return y.normalizeZ([N,D])[0]}multiplyAndAddUnsafe(I,R,N){const D=y.BASE,U=(j,J)=>J===Qr||J===Qn||!j.equals(D)?j.multiplyUnsafe(J):j.multiply(J),K=U(this,R).add(U(I,N));return K.is0()?void 0:K}toAffine(I){const{px:R,py:N,pz:D}=this,U=this.is0();I==null&&(I=U?n.ONE:n.inv(D));const K=n.mul(R,I),j=n.mul(N,I),J=n.mul(D,I);if(U)return{x:n.ZERO,y:n.ZERO};if(!n.eql(J,n.ONE))throw new Error("invZ was invalid");return{x:K,y:j}}isTorsionFree(){const{h:I,isTorsionFree:R}=e;if(I===Qn)return!0;if(R)return R(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:I,clearCofactor:R}=e;return I===Qn?this:R?R(y,this):this.multiplyUnsafe(e.h)}toRawBytes(I=!0){return this.assertValidity(),r(y,this,I)}toHex(I=!0){return Oo(this.toRawBytes(I))}}y.BASE=new y(e.Gx,e.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);const B=e.nBitLength,x=i3(y,e.endo?Math.ceil(B/2):B);return{CURVE:e,ProjectivePoint:y,normPrivateKeyToScalar:f,weierstrassEquation:i,isWithinCurveOrder:a}}function u3(t){const e=lw(t);return Sc(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function l3(t){const e=u3(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function a(m){return Qr<m&&m<n.ORDER}function o(m){return Ln(m,r)}function f(m){return Ld(m,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:p,weierstrassEquation:y,isWithinCurveOrder:B}=c3({...e,toBytes(m,b,E){const S=b.toAffine(),P=n.toBytes(S.x),O=rc;return E?O(Uint8Array.from([b.hasEvenY()?2:3]),P):O(Uint8Array.from([4]),P,n.toBytes(S.y))},fromBytes(m){const b=m.length,E=m[0],S=m.subarray(1);if(b===s&&(E===2||E===3)){const P=_s(S);if(!a(P))throw new Error("Point is not on curve");const O=y(P);let A;try{A=n.sqrt(O)}catch(F){const $=F instanceof Error?": "+F.message:"";throw new Error("Point is not on curve"+$)}const h=(A&Qn)===Qn;return(E&1)===1!==h&&(A=n.neg(A)),{x:P,y:A}}else if(b===i&&E===4){const P=n.fromBytes(S.subarray(0,n.BYTES)),O=n.fromBytes(S.subarray(n.BYTES,2*n.BYTES));return{x:P,y:O}}else throw new Error(`Point of length ${b} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),x=m=>Oo(Do(m,e.nByteLength));function M(m){const b=r>>Qn;return m>b}function I(m){return M(m)?o(-m):m}const R=(m,b,E)=>_s(m.slice(b,E));class N{constructor(b,E,S){this.r=b,this.s=E,this.recovery=S,this.assertValidity()}static fromCompact(b){const E=e.nByteLength;return b=sr("compactSignature",b,E*2),new N(R(b,0,E),R(b,E,2*E))}static fromDER(b){const{r:E,s:S}=hs.toSig(sr("DER",b));return new N(E,S)}assertValidity(){if(!B(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!B(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(b){return new N(this.r,this.s,b)}recoverPublicKey(b){const{r:E,s:S,recovery:P}=this,O=ne(sr("msgHash",b));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const A=P===2||P===3?E+e.n:E;if(A>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=(P&1)===0?"02":"03",v=d.fromHex(h+x(A)),F=f(A),$=o(-O*F),Y=o(S*F),se=d.BASE.multiplyAndAddUnsafe(v,$,Y);if(!se)throw new Error("point at infinify");return se.assertValidity(),se}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new N(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Fo(this.toDERHex())}toDERHex(){return hs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Fo(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const D={isValidPrivateKey(m){try{return p(m),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const m=uw(e.n);return n3(e.randomBytes(m),e.n)},precompute(m=8,b=d.BASE){return b._setWindowSize(m),b.multiply(BigInt(3)),b}};function U(m,b=!0){return d.fromPrivateKey(m).toRawBytes(b)}function K(m){const b=Ns(m),E=typeof m=="string",S=(b||E)&&m.length;return b?S===s||S===i:E?S===2*s||S===2*i:m instanceof d}function j(m,b,E=!0){if(K(m))throw new Error("first arg must be private key");if(!K(b))throw new Error("second arg must be public key");return d.fromHex(b).multiply(p(m)).toRawBytes(E)}const J=e.bits2int||function(m){const b=_s(m),E=m.length*8-e.nBitLength;return E>0?b>>BigInt(E):b},ne=e.bits2int_modN||function(m){return o(J(m))},X=s0(e.nBitLength);function Z(m){if(typeof m!="bigint")throw new Error("bigint expected");if(!(Qr<=m&&m<X))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Do(m,e.nByteLength)}function G(m,b,E=W){if(["recovered","canonical"].some(re=>re in E))throw new Error("sign() legacy options not supported");const{hash:S,randomBytes:P}=e;let{lowS:O,prehash:A,extraEntropy:h}=E;O==null&&(O=!0),m=sr("msgHash",m),A&&(m=sr("prehashed msgHash",S(m)));const v=ne(m),F=p(b),$=[Z(F),Z(v)];if(h!=null&&h!==!1){const re=h===!0?P(n.BYTES):h;$.push(sr("extraEntropy",re))}const Y=rc(...$),se=v;function fe(re){const xe=J(re);if(!B(xe))return;const ye=f(xe),ke=d.BASE.multiply(xe).toAffine(),Ze=o(ke.x);if(Ze===Qr)return;const Ne=o(ye*o(se+Ze*F));if(Ne===Qr)return;let $e=(ke.x===Ze?0:2)|Number(ke.y&Qn),V=Ne;return O&&M(Ne)&&(V=I(Ne),$e^=1),new N(Ze,V,$e)}return{seed:Y,k2sig:fe}}const W={lowS:e.lowS,prehash:!1},z={lowS:e.lowS,prehash:!1};function _(m,b,E=W){const{seed:S,k2sig:P}=G(m,b,E),O=e;return ow(O.hash.outputLen,O.nByteLength,O.hmac)(S,P)}d.BASE._setWindowSize(8);function l(m,b,E,S=z){const P=m;if(b=sr("msgHash",b),E=sr("publicKey",E),"strict"in S)throw new Error("options.strict was renamed to lowS");const{lowS:O,prehash:A}=S;let h,v;try{if(typeof P=="string"||Ns(P))try{h=N.fromDER(P)}catch(ke){if(!(ke instanceof hs.Err))throw ke;h=N.fromCompact(P)}else if(typeof P=="object"&&typeof P.r=="bigint"&&typeof P.s=="bigint"){const{r:ke,s:Ze}=P;h=new N(ke,Ze)}else throw new Error("PARSE");v=d.fromHex(E)}catch(ke){if(ke.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(O&&h.hasHighS())return!1;A&&(b=e.hash(b));const{r:F,s:$}=h,Y=ne(b),se=f($),fe=o(Y*se),re=o(F*se),xe=d.BASE.multiplyAndAddUnsafe(v,fe,re)?.toAffine();return xe?o(xe.x)===F:!1}return{CURVE:e,getPublicKey:U,getSharedSecret:j,sign:_,verify:l,ProjectivePoint:d,Signature:N,utils:D}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function f3(t){return{hash:t,hmac:(e,...n)=>e0(t,e,Lu(...n)),randomBytes:iv}}function d3(t,e){const n=r=>l3({...t,...f3(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fw=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Om=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h3=BigInt(1),Od=BigInt(2),Fm=(t,e)=>(t+e/Od)/e;function p3(t){const e=fw,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),f=BigInt(88),d=t*t*t%e,p=d*d*t%e,y=Wn(p,n,e)*p%e,B=Wn(y,n,e)*p%e,x=Wn(B,Od,e)*d%e,M=Wn(x,s,e)*x%e,I=Wn(M,i,e)*M%e,R=Wn(I,o,e)*I%e,N=Wn(R,f,e)*R%e,D=Wn(N,o,e)*I%e,U=Wn(D,n,e)*p%e,K=Wn(U,a,e)*M%e,j=Wn(K,r,e)*d%e,J=Wn(j,Od,e);if(!Fd.eql(Fd.sqr(J),t))throw new Error("Cannot find square root");return J}const Fd=t3(fw,void 0,void 0,{sqrt:p3}),o0=d3({a:BigInt(0),b:BigInt(7),Fp:Fd,n:Om,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Om,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-h3*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),o=Fm(i*t,e),f=Fm(-r*t,e);let d=Ln(t-o*n-f*s,e),p=Ln(-o*r-f*i,e);const y=d>a,B=p>a;if(y&&(d=e-d),B&&(p=e-p),d>a||p>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:y,k1:d,k2neg:B,k2:p}}}},jl);BigInt(0);o0.ProjectivePoint;const m3=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:o0},Symbol.toStringTag,{value:"Module"}));var Vf;const ai=(Vf=o0)!==null&&Vf!==void 0?Vf:m3,Dm=BigInt("0xffffffffffffffff"),ic=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),g3=ai.CURVE.n,y3=g3/BigInt(2),v3={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var Ju;(function(t){t[t.Mainnet=1]="Mainnet",t[t.Goerli=5]="Goerli",t[t.Sepolia=11155111]="Sepolia"})(Ju||(Ju={}));var Ut;(function(t){t.Chainstart="chainstart",t.Homestead="homestead",t.Dao="dao",t.TangerineWhistle="tangerineWhistle",t.SpuriousDragon="spuriousDragon",t.Byzantium="byzantium",t.Constantinople="constantinople",t.Petersburg="petersburg",t.Istanbul="istanbul",t.MuirGlacier="muirGlacier",t.Berlin="berlin",t.London="london",t.ArrowGlacier="arrowGlacier",t.GrayGlacier="grayGlacier",t.MergeForkIdTransition="mergeForkIdTransition",t.Merge="merge",t.Shanghai="shanghai",t.ShardingForkDev="shardingFork"})(Ut||(Ut={}));var Um;(function(t){t.ProofOfStake="pos",t.ProofOfWork="pow",t.ProofOfAuthority="poa"})(Um||(Um={}));var Hm;(function(t){t.Ethash="ethash",t.Clique="clique",t.Casper="casper"})(Hm||(Hm={}));var An;(function(t){t.PolygonMainnet="polygon-mainnet",t.PolygonMumbai="polygon-mumbai",t.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",t.ArbitrumOne="arbitrum-one",t.xDaiChain="x-dai-chain",t.OptimisticKovan="optimistic-kovan",t.OptimisticEthereum="optimistic-ethereum"})(An||(An={}));var er;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(er||(er={}));const dw=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return Uh(t)?t.slice(2):t};function w3(t){return!t||t==="0x0"?"0x0000000000000000":Uh(t)?`0x${dw(t).padStart(16,"0")}`:`0x${t.padStart(16,"0")}`}const hw=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`};function b3(t,e=!0){var n,r;const{name:s,config:i,difficulty:a,mixHash:o,gasLimit:f,coinbase:d,baseFeePerGas:p}=t;let{extraData:y,timestamp:B,nonce:x}=t;const M=Number(B),{chainId:I}=i;if(y===""&&(y="0x"),Uh(B)||(B=hw(parseInt(B))),x.length!==18&&(x=w3(x)),i.eip155Block!==i.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const R={name:s,chainId:I,networkId:I,genesis:{timestamp:B,gasLimit:parseInt(f),difficulty:parseInt(a),nonce:x,extraData:y,mixHash:o,coinbase:d,baseFeePerGas:p},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:i.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:(n=i.clique.period)!==null&&n!==void 0?n:i.clique.blockperiodseconds,epoch:(r=i.clique.epoch)!==null&&r!==void 0?r:i.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},N={[Ut.Homestead]:{name:"homesteadBlock"},[Ut.Dao]:{name:"daoForkBlock"},[Ut.TangerineWhistle]:{name:"eip150Block"},[Ut.SpuriousDragon]:{name:"eip155Block"},[Ut.Byzantium]:{name:"byzantiumBlock"},[Ut.Constantinople]:{name:"constantinopleBlock"},[Ut.Petersburg]:{name:"petersburgBlock"},[Ut.Istanbul]:{name:"istanbulBlock"},[Ut.MuirGlacier]:{name:"muirGlacierBlock"},[Ut.Berlin]:{name:"berlinBlock"},[Ut.London]:{name:"londonBlock"},[Ut.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[Ut.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[Ut.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},D=Object.keys(N).reduce((j,J)=>(j[N[J].name]=J,j),{}),U=Object.keys(i).filter(j=>D[j]!==void 0&&i[j]!==void 0&&i[j]!==null);if(R.hardforks=U.map(j=>({name:D[j],block:N[D[j]].isTimestamp===!0||typeof i[j]!="number"?null:i[j],timestamp:N[D[j]].isTimestamp===!0&&typeof i[j]=="number"?i[j]:void 0})).filter(j=>j.block!==null||j.timestamp!==void 0),R.hardforks.sort((j,J)=>{var ne,X;return((ne=j.block)!==null&&ne!==void 0?ne:1/0)-((X=J.block)!==null&&X!==void 0?X:1/0)}),R.hardforks.sort((j,J)=>{var ne,X;return((ne=j.timestamp)!==null&&ne!==void 0?ne:M)-((X=J.timestamp)!==null&&X!==void 0?X:M)}),i.terminalTotalDifficulty!==void 0){const j={name:Ut.Merge,ttd:i.terminalTotalDifficulty,block:null},J=R.hardforks.findIndex(ne=>{var X;return((X=N[ne.name])===null||X===void 0?void 0:X.postMerge)===!0});J!==-1?R.hardforks.splice(J,0,j):R.hardforks.push(j)}const K=R.hardforks.length>0?R.hardforks.slice(-1)[0]:void 0;return R.hardfork=K?.name,R.hardforks.unshift({name:Ut.Chainstart,block:0}),R}function _3(t,e,n){try{if(["config","difficulty","gasLimit","alloc"].some(r=>!(r in t)))throw new Error("Invalid format, expected geth genesis fields missing");return e!==void 0&&(t.name=e),b3(t,n)}catch(r){throw new Error(`Error parsing parameters file: ${r.message}`)}}function pw(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}const A3=function(t){const e=hw(t);return $t(`0x${pw(e.slice(2))}`)},qt=function(t){var e;if(t==null)return new Uint8Array;if(t instanceof Uint8Array)return t;if(((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||Array.isArray(t))return Uint8Array.from(t);if(typeof t=="string"){if(!Av(t))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${t}`);return $t(pw(dw(t)))}if(typeof t=="number")return qt(cn(t));if(typeof t=="bigint"){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${t}`);let n=t.toString(16);return n.length%2&&(n=`0${n}`),qt(`0x${n}`)}if(t.toArray)return Uint8Array.from(t.toArray());throw new Error("invalid type")};function Ot(t){const e=At(t);return BigInt(e==="0x"?0:e)}function E3(t){return qt(`0x${t.toString(16)}`)}const mw=function(t){return new Uint8Array(t).fill(0)},x3=function(t,e,n){const r=mw(e);return t.length<e?(r.set(t,e-t.length),r):t.subarray(-e)};function a0(t){if(!Oi(t)){const e=`This method only supports Uint8Array but input was: ${t}`;throw new Error(e)}}const $m=function(t,e){return a0(t),x3(t,e)};function I3(t){let e=t[0];for(;t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t}const Xu=function(t){return a0(t),I3(t)},jt=t=>`0x${t.toString(16)}`;function Bt(t){return Xu(E3(t))}function S3(t,e){return t===BigInt(0)||t===BigInt(1)?t:e===void 0?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function B3(t){return t===BigInt(0)||t===BigInt(1)}const c0=function(t,e,n,r,s){const i=S3(e,s);if(!B3(i))throw new Error("Invalid signature v value");return new ai.Signature(Ot(n),Ot(r)).addRecoveryBit(Number(i)).recoverPublicKey(t).toRawBytes(!1).slice(1)};function Qs(t,e){if(t===null)return null;if(t===void 0)return;if(typeof t=="string"&&!Av(t))throw new Error(`A string must be provided with a 0x-prefix, given: ${t}`);if(typeof t=="number"&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=qt(t);switch(e){case er.Uint8Array:return n;case er.BigInt:return Ot(n);case er.Number:{const r=Ot(n);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(r)}case er.PrefixedHexString:return At(n);default:throw new Error("unknown outputType")}}var ir={},Gm;function k3(){if(Gm)return ir;Gm=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.RLP=ir.utils=ir.decode=ir.encode=void 0;function t(N){if(Array.isArray(N)){const U=[];let K=0;for(let j=0;j<N.length;j++){const J=t(N[j]);U.push(J),K+=J.length}return p(r(K,192),...U)}const D=R(N);return D.length===1&&D[0]<128?D:p(r(D.length,128),D)}ir.encode=t;function e(N,D,U){if(U>N.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return N.slice(D,U)}function n(N){if(N[0]===0)throw new Error("invalid RLP: extra zeros");return f(o(N))}function r(N,D){if(N<56)return Uint8Array.from([N+D]);const U=B(N),K=U.length/2,j=B(D+55+K);return Uint8Array.from(d(j+U))}function s(N,D=!1){if(typeof N>"u"||N===null||N.length===0)return Uint8Array.from([]);const U=R(N),K=i(U);if(D)return K;if(K.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return K.data}ir.decode=s;function i(N){let D,U,K,j,J;const ne=[],X=N[0];if(X<=127)return{data:N.slice(0,1),remainder:N.slice(1)};if(X<=183){if(D=X-127,X===128?K=Uint8Array.from([]):K=e(N,1,D),D===2&&K[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:K,remainder:N.slice(D)}}else if(X<=191){if(U=X-182,N.length-1<U)throw new Error("invalid RLP: not enough bytes for string length");if(D=n(e(N,1,U)),D<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return K=e(N,U,D+U),{data:K,remainder:N.slice(D+U)}}else if(X<=247){for(D=X-191,j=e(N,1,D);j.length;)J=i(j),ne.push(J.data),j=J.remainder;return{data:ne,remainder:N.slice(D)}}else{if(U=X-246,D=n(e(N,1,U)),D<56)throw new Error("invalid RLP: encoded list too short");const Z=U+D;if(Z>N.length)throw new Error("invalid RLP: total length is larger than the data");for(j=e(N,U,Z);j.length;)J=i(j),ne.push(J.data),j=J.remainder;return{data:ne,remainder:N.slice(Z)}}}const a=Array.from({length:256},(N,D)=>D.toString(16).padStart(2,"0"));function o(N){let D="";for(let U=0;U<N.length;U++)D+=a[N[U]];return D}function f(N){const D=Number.parseInt(N,16);if(Number.isNaN(D))throw new Error("Invalid byte sequence");return D}function d(N){if(typeof N!="string")throw new TypeError("hexToBytes: expected string, got "+typeof N);if(N.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const D=new Uint8Array(N.length/2);for(let U=0;U<D.length;U++){const K=U*2;D[U]=f(N.slice(K,K+2))}return D}function p(...N){if(N.length===1)return N[0];const D=N.reduce((K,j)=>K+j.length,0),U=new Uint8Array(D);for(let K=0,j=0;K<N.length;K++){const J=N[K];U.set(J,j),j+=J.length}return U}function y(N){return new TextEncoder().encode(N)}function B(N){if(N<0)throw new Error("Invalid integer as argument, must be unsigned!");const D=N.toString(16);return D.length%2?`0${D}`:D}function x(N){return N.length%2?`0${N}`:N}function M(N){return N.length>=2&&N[0]==="0"&&N[1]==="x"}function I(N){return typeof N!="string"?N:M(N)?N.slice(2):N}function R(N){if(N instanceof Uint8Array)return N;if(typeof N=="string")return M(N)?d(x(I(N))):y(N);if(typeof N=="number"||typeof N=="bigint")return N?d(B(N)):Uint8Array.from([]);if(N==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof N)}return ir.utils={bytesToHex:o,concatBytes:p,hexToBytes:d,utf8ToBytes:y},ir.RLP={encode:t,decode:s},ir}var tr=k3(),Wf={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */var qm;function T3(){return qm||(qm=1,function(t){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?t:{})})(function(e){e.version="1.2.2";function n(){for(var X=0,Z=new Array(256),G=0;G!=256;++G)X=G,X=X&1?-306674912^X>>>1:X>>>1,X=X&1?-306674912^X>>>1:X>>>1,X=X&1?-306674912^X>>>1:X>>>1,X=X&1?-306674912^X>>>1:X>>>1,X=X&1?-306674912^X>>>1:X>>>1,X=X&1?-306674912^X>>>1:X>>>1,X=X&1?-306674912^X>>>1:X>>>1,X=X&1?-306674912^X>>>1:X>>>1,Z[G]=X;return typeof Int32Array<"u"?new Int32Array(Z):Z}var r=n();function s(X){var Z=0,G=0,W=0,z=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(W=0;W!=256;++W)z[W]=X[W];for(W=0;W!=256;++W)for(G=X[W],Z=256+W;Z<4096;Z+=256)G=z[Z]=G>>>8^X[G&255];var _=[];for(W=1;W!=16;++W)_[W-1]=typeof Int32Array<"u"?z.subarray(W*256,W*256+256):z.slice(W*256,W*256+256);return _}var i=s(r),a=i[0],o=i[1],f=i[2],d=i[3],p=i[4],y=i[5],B=i[6],x=i[7],M=i[8],I=i[9],R=i[10],N=i[11],D=i[12],U=i[13],K=i[14];function j(X,Z){for(var G=Z^-1,W=0,z=X.length;W<z;)G=G>>>8^r[(G^X.charCodeAt(W++))&255];return~G}function J(X,Z){for(var G=Z^-1,W=X.length-15,z=0;z<W;)G=K[X[z++]^G&255]^U[X[z++]^G>>8&255]^D[X[z++]^G>>16&255]^N[X[z++]^G>>>24]^R[X[z++]]^I[X[z++]]^M[X[z++]]^x[X[z++]]^B[X[z++]]^y[X[z++]]^p[X[z++]]^d[X[z++]]^f[X[z++]]^o[X[z++]]^a[X[z++]]^r[X[z++]];for(W+=15;z<W;)G=G>>>8^r[(G^X[z++])&255];return~G}function ne(X,Z){for(var G=Z^-1,W=0,z=X.length,_=0,l=0;W<z;)_=X.charCodeAt(W++),_<128?G=G>>>8^r[(G^_)&255]:_<2048?(G=G>>>8^r[(G^(192|_>>6&31))&255],G=G>>>8^r[(G^(128|_&63))&255]):_>=55296&&_<57344?(_=(_&1023)+64,l=X.charCodeAt(W++)&1023,G=G>>>8^r[(G^(240|_>>8&7))&255],G=G>>>8^r[(G^(128|_>>2&63))&255],G=G>>>8^r[(G^(128|l>>6&15|(_&3)<<4))&255],G=G>>>8^r[(G^(128|l&63))&255]):(G=G>>>8^r[(G^(224|_>>12&15))&255],G=G>>>8^r[(G^(128|_>>6&63))&255],G=G>>>8^r[(G^(128|_&63))&255]);return~G}e.table=r,e.bstr=j,e.buf=J,e.str=ne})}(Wf)),Wf}var R3=T3();const M3=Ni(R3),C3={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},P3={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},N3={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},L3={name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},O3={name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},F3={name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},D3={name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},U3={name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},H3={name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},$3={name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},G3={name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},q3={name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},j3={name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},z3={name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},V3={name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},W3={name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},K3={name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},Q3={name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},Z3={name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},Y3={name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},J3={name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},X3={name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},eC={name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},tC={name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},nC={name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},Zs={1153:L3,1559:O3,2315:F3,2537:D3,2565:U3,2718:H3,2929:$3,2930:G3,3198:q3,3529:j3,3540:z3,3541:V3,3554:W3,3607:K3,3651:Q3,3670:Z3,3675:Y3,3855:J3,3860:X3,4345:eC,4399:tC,5133:nC},rC={name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},iC={name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},sC={name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},oC={name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},aC={name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},cC={name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},uC={name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},lC={name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},fC={name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},dC={name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},hC={name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},pC={name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},mC={name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},gC={name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},yC={name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},vC={name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},wC={name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},bC={chainstart:rC,homestead:sC,dao:iC,tangerineWhistle:oC,spuriousDragon:aC,byzantium:cC,constantinople:uC,petersburg:lC,istanbul:fC,muirGlacier:dC,berlin:hC,london:pC,shanghai:mC,arrowGlacier:gC,grayGlacier:yC,mergeForkIdTransition:vC,merge:wC},{buf:_C}=M3;class an extends jh{static custom(e,n={}){var r;const s=(r=n.baseChain)!==null&&r!==void 0?r:"mainnet",i=Object.assign({},an._getChainParams(s));if(i.name="custom-chain",typeof e!="string")return new an(Object.assign({chain:Object.assign(Object.assign({},i),e)},n));if(e===An.PolygonMainnet)return an.custom({name:An.PolygonMainnet,chainId:137,networkId:137},n);if(e===An.PolygonMumbai)return an.custom({name:An.PolygonMumbai,chainId:80001,networkId:80001},n);if(e===An.ArbitrumRinkebyTestnet)return an.custom({name:An.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},n);if(e===An.ArbitrumOne)return an.custom({name:An.ArbitrumOne,chainId:42161,networkId:42161},n);if(e===An.xDaiChain)return an.custom({name:An.xDaiChain,chainId:100,networkId:100},n);if(e===An.OptimisticKovan)return an.custom({name:An.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:Ut.Berlin},n));if(e===An.OptimisticEthereum)return an.custom({name:An.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:Ut.Berlin},n));throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:n,eips:r,genesisHash:s,hardfork:i,mergeForkIdPostMerge:a}){var o;const f=_3(e,n,a),d=new an({chain:(o=f.name)!==null&&o!==void 0?o:"custom",customChains:[f],eips:r,hardfork:i??f.hardfork});return s!==void 0&&d.setForkHashes(s),d}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,n){let r=e;const s=this._getInitializedChains(n);if(typeof r=="number"||typeof r=="bigint"){if(r=r.toString(),s.names[r]){const i=s.names[r];return s[i]}throw new Error(`Chain with ID ${r} not supported`)}if(s[r]!==void 0)return s[r];throw new Error(`Chain with name ${r} not supported`)}constructor(e){var n,r;super(),this._eips=[],this._customChains=(n=e.customChains)!==null&&n!==void 0?n:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=(r=this._chainParams.defaultHardfork)!==null&&r!==void 0?r:Ut.Merge,this.HARDFORK_CHANGES=this.hardforks().map(s=>[s.name,bC[s.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=an._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const n=["networkId","genesis","hardforks","bootstrapNodes"];for(const r of n)if(!(r in e))throw new Error(`Missing required chain parameter: ${r}`);this._chainParams=e}else throw new Error("Wrong input format");for(const n of this.hardforks())if(n.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let n=!1;for(const r of this.HARDFORK_CHANGES)r[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),n=!0);if(!n)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,n,r){const s=Qs(e,er.BigInt),i=Qs(n,er.BigInt),a=Qs(r,er.Number),o=this.hardforks().filter(x=>x.block!==null||x.ttd!==null&&x.ttd!==void 0||x.timestamp!==void 0),f=o.findIndex(x=>x.ttd!==null&&x.ttd!==void 0);if(o.slice(f+1).findIndex(x=>x.ttd!==null&&x.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let p=o.findIndex(x=>x.block!==null&&x.block>s||a!==void 0&&Number(x.timestamp)>a);if(p===-1)p=o.length;else if(p===0)throw Error("Must have at least one hardfork at block 0");if(a===void 0){const x=o.slice(0,p).reverse().findIndex(M=>M.block!==null||M.ttd!==void 0);p-=x}if(p-=1,o[p].block===null&&o[p].timestamp===void 0)(i==null||BigInt(o[p].ttd)>i)&&(p-=1);else if(f>=0&&i!==void 0&&i!==null){if(p>=f&&BigInt(o[f].ttd)>i)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(p<f&&BigInt(o[f].ttd)<=i)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const y=p;for(;p<o.length-1&&!(o[p].block!==o[p+1].block||o[p].timestamp!==o[p+1].timestamp);p+=1);if(a){if(o.slice(0,y).reduce((I,R)=>{var N;return Math.max(Number((N=R.timestamp)!==null&&N!==void 0?N:"0"),I)},0)>a)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(o.slice(p+1).reduce((I,R)=>{var N;return Math.min(Number((N=R.timestamp)!==null&&N!==void 0?N:a),I)},a)<a)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return o[p].name}setHardforkByBlockNumber(e,n,r){const s=this.getHardforkByBlockNumber(e,n,r);return this.setHardfork(s),s}_getHardfork(e){const n=this.hardforks();for(const r of n)if(r.name===e)return r;return null}setEIPs(e=[]){for(const n of e){if(!(n in Zs))throw new Error(`${n} not supported`);const r=this.gteHardfork(Zs[n].minimumHardfork);if(!r)throw new Error(`${n} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`);if(Zs[n].requiredEIPs!==void 0){for(const s of Zs[n].requiredEIPs)if(!(e.includes(s)||this.isActivatedEIP(s)))throw new Error(`${n} requires EIP ${s}, but is not included in the EIP list`)}}this._eips=e}param(e,n){let r;for(const s of this._eips)if(r=this.paramByEIP(e,n,s),r!==void 0)return r;return this.paramByHardfork(e,n,this._hardfork)}paramByHardfork(e,n,r){let s=null;for(const i of this.HARDFORK_CHANGES){if("eips"in i[1]){const a=i[1].eips;for(const o of a){const f=this.paramByEIP(e,n,o);s=typeof f=="bigint"?f:s}}else{if(i[1][e]===void 0)throw new Error(`Topic ${e} not defined`);i[1][e][n]!==void 0&&(s=i[1][e][n].v)}if(i[0]===r)break}return BigInt(s??0)}paramByEIP(e,n,r){if(!(r in Zs))throw new Error(`${r} not supported`);const s=Zs[r];if(!(e in s))throw new Error(`Topic ${e} not defined`);if(s[e][n]===void 0)return;const i=s[e][n].v;return BigInt(i)}paramByBlock(e,n,r,s,i){const a=this.getHardforkByBlockNumber(r,s,i);return this.paramByHardfork(e,n,a)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const n of this.HARDFORK_CHANGES){const r=n[1];if(this.gteHardfork(r.name)&&"eips"in r&&r.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,n){const r=Qs(n,er.BigInt),s=e??this._hardfork,i=this.hardforkBlock(s);return typeof i=="bigint"&&i!==BigInt(0)&&r>=i}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,n){const r=e??this._hardfork,s=this.hardforks();let i=-1,a=-1,o=0;for(const f of s)f.name===r&&(i=o),f.name===n&&(a=o),o+=1;return i>=a&&a!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.block;return s==null?null:BigInt(s)}hardforkTimestamp(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.timestamp;return s==null?null:BigInt(s)}eipBlock(e){for(const n of this.HARDFORK_CHANGES){const r=n[1];if("eips"in r&&r.eips.includes(e))return this.hardforkBlock(typeof n[0]=="number"?String(n[0]):n[0])}return null}hardforkTTD(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.ttd;return s==null?null:BigInt(s)}isHardforkBlock(e,n){const r=Qs(e,er.BigInt),s=n??this._hardfork,i=this.hardforkBlock(s);return typeof i=="bigint"&&i!==BigInt(0)?i===r:!1}nextHardforkBlockOrTimestamp(e){var n,r,s;const i=(n=e)!==null&&n!==void 0?n:this._hardfork,a=this.hardforks();let o=a.findIndex(y=>y.name===i);if(i===Ut.Merge&&(o-=1),o<0)return null;let f=(r=a[o].timestamp)!==null&&r!==void 0?r:a[o].block;f=f!=null?Number(f):null;const d=a.slice(o+1).find(y=>{var B;let x=(B=y.timestamp)!==null&&B!==void 0?B:y.block;return x=x!=null?Number(x):null,y.name!==Ut.Merge&&x!==null&&x!==void 0&&x!==f});if(d===void 0)return null;const p=(s=d.timestamp)!==null&&s!==void 0?s:d.block;return p==null?null:BigInt(p)}nextHardforkBlock(e){var n;const r=(n=e)!==null&&n!==void 0?n:this._hardfork;let s=this.hardforkBlock(r);if(s===null&&r===Ut.Merge){const a=this.hardforks(),o=a.findIndex(f=>f.ttd!==null&&f.ttd!==void 0);if(o<0)throw Error("Merge hardfork should have been found");s=this.hardforkBlock(a[o-1].name)}return s===null?null:this.hardforks().reduce((a,o)=>{const f=BigInt(o.block===null||o.ttd!==void 0&&o.ttd!==null?0:o.block);return f>s&&a===null?f:a},null)}isNextHardforkBlock(e,n){const r=Qs(e,er.BigInt),s=n??this._hardfork,i=this.nextHardforkBlock(s);return i===null?!1:i===r}_calcForkHash(e,n){let r=new Uint8Array,s=0;for(const o of this.hardforks()){const{block:f,timestamp:d,name:p}=o;let y=d??f;if(y=y!==null?Number(y):null,typeof y=="number"&&y!==0&&y!==s&&p!==Ut.Merge){const B=$t(y.toString(16).padStart(16,"0"));r=Pn(r,B),s=y}if(o.name===e)break}const i=Pn(n,r);return At(A3(_C(i)>>>0))}forkHash(e,n){const r=e??this._hardfork,s=this._getHardfork(r);if(s===null||s?.block===null&&s?.timestamp===void 0&&s?.ttd===void 0){const i="No fork hash calculation possible for future hardfork";throw new Error(i)}if(s?.forkHash!==null&&s?.forkHash!==void 0)return s.forkHash;if(!n)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(r,n)}hardforkForForkHash(e){const n=this.hardforks().filter(r=>r.forkHash===e);return n.length>=1?n[n.length-1]:null}setForkHashes(e){var n;for(const r of this.hardforks()){const s=(n=r.timestamp)!==null&&n!==void 0?n:r.block;(r.forkHash===null||r.forkHash===void 0)&&(s!=null||typeof r.ttd<"u")&&(r.forkHash=this.forkHash(r.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.type),r[0]===e)break;return n??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.algorithm),r[0]===e)break;return n??this._chainParams.consensus.algorithm}consensusConfig(){var e;const n=this.hardfork();let r;for(const s of this.HARDFORK_CHANGES)if("consensus"in s[1]&&(r=s[1].consensus[s[1].consensus.algorithm]),s[0]===n)break;return(e=r??this._chainParams.consensus[this.consensusAlgorithm()])!==null&&e!==void 0?e:{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const n={};for(const[s,i]of Object.entries(Ju))n[i]=s.toLowerCase();const r={mainnet:P3,goerli:C3,sepolia:N3};if(e)for(const s of e){const{name:i}=s;n[s.chainId.toString()]=i,r[i]=s}return r.names=n,r}}var Er;(function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"})(Er||(Er={}));function AC(t){if(t.length===0)return!0;const e=t[0];return!!Array.isArray(e)}function EC(t){return!AC(t)}class wo{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new wo(mw(20))}equals(e){return Ol(this.buf,e.buf)}isZero(){return this.equals(wo.zero())}toString(){return At(this.buf)}toArray(){return this.buf}static publicToAddress(e,n=!1){let r=e;if(a0(r),n&&r.length!==64&&(r=ai.ProjectivePoint.fromHex(r).toRawBytes(!1).slice(1)),r.length!==64)throw new Error("Expected pubKey to be of length 64");return Bn(r).slice(-20)}}const xC=(t,e)=>{const n=t.param("vm","maxInitCodeSize");if(n&&BigInt(e)>n)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${t.param("vm","maxInitCodeSize")}`)},gw=t=>{let e,n;if(EC(t)){e=t;const r=[];for(let s=0;s<t.length;s+=1){const i=t[s],a=qt(i.address),o=[];for(let f=0;f<i.storageKeys.length;f+=1)o.push(qt(i.storageKeys[f]));r.push([a,o])}n=r}else{n=t??[];const r=[];for(let s=0;s<n.length;s+=1){const i=n[s],a=At(i[0]),o=[];for(let d=0;d<i[1].length;d+=1)o.push(At(i[1][d]));const f={address:a,storageKeys:o};r.push(f)}e=r}return{AccessListJSON:e,accessList:n}},yw=t=>{for(let e=0;e<t.length;e+=1){const n=t[e],r=n[0],s=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(r.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let i=0;i<s.length;i+=1)if(s[i].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},vw=t=>{const e=[];for(let n=0;n<t.length;n+=1){const r=t[n],s={address:At($m(r[0],20)),storageKeys:[]},i=r&&r[1];for(let a=0;a<i.length;a+=1){const o=i[a];s.storageKeys.push(At($m(o,32)))}e.push(s)}return e},ww=(t,e)=>{const n=e.param("gasPrices","accessListStorageKeyCost"),r=e.param("gasPrices","accessListAddressCost");let s=0;for(let a=0;a<t.length;a+=1){const f=t[a][1];s+=f.length}return t.length*Number(r)+s*Number(n)};class Uo{constructor(e,n){var r,s;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=Ju.Mainnet,this.DEFAULT_HARDFORK=Ut.Merge;const{nonce:i,gasLimit:a,to:o,value:f,data:d,v:p,r:y,s:B,type:x}=e;this._type=Number(Ot(qt(x))),this.txOptions=n;const M=qt(o===""?"0x":o),I=qt(p===""?"0x":p),R=qt(y===""?"0x":y),N=qt(B===""?"0x":B);this.nonce=Ot(qt(i===""?"0x":i)),this.gasLimit=Ot(qt(a===""?"0x":a)),this.to=M.length>0?new wo(M):void 0,this.value=Ot(qt(f===""?"0x":f)),this.data=qt(d===""?"0x":d),this.v=I.length>0?Ot(I):void 0,this.r=R.length>0?Ot(R):void 0,this.s=N.length>0?Ot(N):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const D=this.to===void 0||this.to===null,U=(r=n.allowUnlimitedInitCodeSize)!==null&&r!==void 0?r:!1,K=(s=n.common)!==null&&s!==void 0?s:this._getCommon();D&&K.isActivatedEIP(3860)&&!U&&xC(K,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){const n=[];return this.getBaseFee()>this.gasLimit&&n.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&n.push("Invalid Signature"),e?n:n.length===0}_validateYParity(){const{v:e}=this;if(e!==void 0&&e!==BigInt(0)&&e!==BigInt(1)){const n=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(n)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==void 0&&e>y3){const n=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(n)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let n=this.getDataFee();if(e&&(n+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const r=this.common.param("gasPrices","txCreation");r&&(n+=r)}return n}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),n=this.common.param("gasPrices","txDataNonZero");let r=BigInt(0);for(let s=0;s<this.data.length;s+=1)this.data[s]===0?r+=e:r+=n;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const s=BigInt(Math.ceil(this.data.length/32)),i=this.common.param("gasPrices","initCodeWordCost")*s;r+=i}return r}toCreationAddress(){return this.to===void 0||this.to.buf.length===0}isSigned(){const{v:e,r:n,s:r}=this;return!(e===void 0||n===void 0||r===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return Xu(e).length!==0}catch{return!1}}getSenderAddress(){return new wo(wo.publicToAddress(this.getSenderPublicKey()))}sign(e){if(e.length!==32){const f=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(f)}let n=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(Er.EIP155ReplayProtection)&&(this.activeCapabilities.push(Er.EIP155ReplayProtection),n=!0);const r=this.getMessageToSign(!0),{v:s,r:i,s:a}=this._ecsign(r,e),o=this._processSignature(s,i,a);if(n){const f=this.activeCapabilities.indexOf(Er.EIP155ReplayProtection);f>-1&&this.activeCapabilities.splice(f,1)}return o}_getCommon(e,n){var r,s,i,a;if(n!==void 0){const o=Ot(qt(n));if(e){if(e.chainId()!==o){const f=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(f)}return e.copy()}return an.isSupportedChainId(o)?new an({chain:o,hardfork:this.DEFAULT_HARDFORK}):an.custom({name:"custom-chain",networkId:o,chainId:o},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}if(e?.copy&&typeof e?.copy=="function")return e.copy();if(e){const o=typeof e.hardfork=="function"?e.hardfork():e.hardfork;return an.custom({name:"custom-chain",networkId:e.networkId?e.networkId():(s=BigInt((r=e.customChain)===null||r===void 0?void 0:r.networkId))!==null&&s!==void 0?s:void 0,chainId:e.chainId?e.chainId():(a=BigInt((i=e.customChain)===null||i===void 0?void 0:i.chainId))!==null&&a!==void 0?a:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:o||this.DEFAULT_HARDFORK})}return new an({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,n=256,r=!1){for(const[s,i]of Object.entries(e))switch(n){case 64:if(r){if(i!==void 0&&i>=Dm){const a=this._errorMsg(`${s} cannot equal or exceed MAX_UINT64 (2^64-1), given ${i}`);throw new Error(a)}}else if(i!==void 0&&i>Dm){const a=this._errorMsg(`${s} cannot exceed MAX_UINT64 (2^64-1), given ${i}`);throw new Error(a)}break;case 256:if(r){if(i!==void 0&&i>=ic){const a=this._errorMsg(`${s} cannot equal or exceed MAX_INTEGER (2^256-1), given ${i}`);throw new Error(a)}}else if(i!==void 0&&i>ic){const a=this._errorMsg(`${s} cannot exceed MAX_INTEGER (2^256-1), given ${i}`);throw new Error(a)}break;default:{const a=this._errorMsg("unimplemented bits value");throw new Error(a)}}}static _validateNotArray(e){const n=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[r,s]of Object.entries(e))if(n.includes(r)&&Array.isArray(s))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?At(this.hash()):"not available (unsigned)"}catch{e="error"}let n="";try{n=this.isSigned().toString()}catch{e="error"}let r="";try{r=this.common.hardfork()}catch{r="error"}let s=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return s+=`signed=${n} hf=${r}`,s}_ecsign(e,n,r){const s=ai.sign(e,n),i=s.toCompactRawBytes(),a=i.subarray(0,32),o=i.subarray(32,64),f=r===void 0?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(r)*BigInt(2);return{r:a,s:o,v:f}}static fromSerializedTx(e,n={}){}static fromTxData(e,n={}){}}const Dd=2,Kf=$t(Dd.toString(16).padStart(2,"0"));class ps extends Uo{static fromTxData(e,n={}){return new ps(e,n)}static fromSerializedTx(e,n={}){if(!Ol(e.subarray(0,1),Kf))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${Dd}, received: ${At(e.subarray(0,1))}`);const r=tr.RLP.decode(e.subarray(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return ps.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[r,s,i,a,o,f,d,p,y,B,x,M]=e;return this._validateNotArray({chainId:r,v:B}),Hh({nonce:s,maxPriorityFeePerGas:i,maxFeePerGas:a,gasLimit:o,value:d,v:B,r:x,s:M}),new ps({chainId:Ot(r),nonce:s,maxPriorityFeePerGas:i,maxFeePerGas:a,gasLimit:o,to:f,value:d,data:p,accessList:y??[],v:B!==void 0?Ot(B):void 0,r:x,s:M},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:Dd}),n),this.DEFAULT_HARDFORK="london";const{chainId:s,accessList:i,maxFeePerGas:a,maxPriorityFeePerGas:o}=e;if(this.common=this._getCommon(n.common,s),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const f=gw(i??[]);if(this.accessList=f.accessList,this.AccessListJSON=f.AccessListJSON,yw(this.accessList),this.maxFeePerGas=Ot(qt(a===""?"0x":a)),this.maxPriorityFeePerGas=Ot(qt(o===""?"0x":o)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),Uo._validateNotArray(e),this.gasLimit*this.maxFeePerGas>ic){const p=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(p)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const p=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(p)}this._validateYParity(),this._validateHighS(),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(ww(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const n=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e,i=(n<r?n:r)+e;return this.gasLimit*i+this.value}raw(){return[Bt(this.chainId),Bt(this.nonce),Bt(this.maxPriorityFeePerGas),Bt(this.maxFeePerGas),Bt(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Bt(this.value),this.data,this.accessList,this.v!==void 0?Bt(this.v):Uint8Array.from([]),this.r!==void 0?Bt(this.r):Uint8Array.from([]),this.s!==void 0?Bt(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return Pn(Kf,tr.RLP.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,9),r=Pn(Kf,tr.RLP.encode(n));return e?Bn(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Bn(this.serialize())),this.cache.hash):Bn(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const i=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(i)}const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return c0(e,n+BigInt(27),Bt(r),Bt(s))}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){const s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return ps.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:Ot(n),s:Ot(r)},s)}toJSON(){const e=vw(this.accessList);return{chainId:jt(this.chainId),nonce:jt(this.nonce),maxPriorityFeePerGas:jt(this.maxPriorityFeePerGas),maxFeePerGas:jt(this.maxFeePerGas),gasLimit:jt(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:jt(this.value),data:At(this.data),accessList:e,v:this.v!==void 0?jt(this.v):void 0,r:this.r!==void 0?jt(this.r):void 0,s:this.s!==void 0?jt(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const Ud=1,Qf=$t(Ud.toString(16).padStart(2,"0"));class ms extends Uo{static fromTxData(e,n={}){return new ms(e,n)}static fromSerializedTx(e,n={}){if(!Ol(e.subarray(0,1),Qf))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${Ud}, received: ${At(e.subarray(0,1))}`);const r=tr.RLP.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return ms.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[r,s,i,a,o,f,d,p,y,B,x]=e;this._validateNotArray({chainId:r,v:y}),Hh({nonce:s,gasPrice:i,gasLimit:a,value:f,v:y,r:B,s:x});const M=[];return new ms({chainId:Ot(r),nonce:s,gasPrice:i,gasLimit:a,to:o,value:f,data:d,accessList:p??M,v:y!==void 0?Ot(y):void 0,r:B,s:x},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:Ud}),n),this.DEFAULT_HARDFORK="berlin";const{chainId:s,accessList:i,gasPrice:a}=e;if(this.common=this._getCommon(n.common,s),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const o=gw(i??[]);if(this.accessList=o.accessList,this.AccessListJSON=o.AccessListJSON,yw(this.accessList),this.gasPrice=Ot(qt(a===""?"0x":a)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Uo._validateNotArray(e),this.gasPrice*this.gasLimit>ic){const d=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(d)}this._validateYParity(),this._validateHighS(),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(ww(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[Bt(this.chainId),Bt(this.nonce),Bt(this.gasPrice),Bt(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Bt(this.value),this.data,this.accessList,this.v!==void 0?Bt(this.v):Uint8Array.from([]),this.r!==void 0?Bt(this.r):Uint8Array.from([]),this.s!==void 0?Bt(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return Pn(Qf,tr.RLP.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,8),r=Pn(Qf,tr.RLP.encode(n));return e?Bn(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Bn(this.serialize())),this.cache.hash):Bn(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const i=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(i)}const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return c0(e,n+BigInt(27),Bt(r),Bt(s))}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){const s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return ms.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:Ot(n),s:Ot(r)},s)}toJSON(){const e=vw(this.accessList);return{chainId:jt(this.chainId),nonce:jt(this.nonce),gasPrice:jt(this.gasPrice),gasLimit:jt(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:jt(this.value),data:At(this.data),accessList:e,v:this.v!==void 0?jt(this.v):void 0,r:this.r!==void 0?jt(this.r):void 0,s:this.s!==void 0?jt(this.s):void 0}}errorStr(){var e,n;let r=this._getSharedErrorPostfix();return r+=` gasPrice=${this.gasPrice} accessListCount=${(n=(e=this.accessList)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}`,r}_errorMsg(e){return`${e} (${this.errorStr()})`}}const IC=0;function jm(t,e){const n=Number(t),r=Number(e)*2;return n===r+35||n===r+36}class bi extends Uo{static fromTxData(e,n={}){return new bi(e,n)}static fromSerializedTx(e,n={}){const r=tr.RLP.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[r,s,i,a,o,f,d,p,y]=e;return Hh({nonce:r,gasPrice:s,gasLimit:i,value:o,v:d,r:p,s:y}),new bi({nonce:r,gasPrice:s,gasLimit:i,to:a,value:o,data:f,v:d,r:p,s:y},n)}constructor(e,n={}){var r;if(super(Object.assign(Object.assign({},e),{type:IC}),n),this.common=this._validateTxV(this.v,n.common),this.gasPrice=Ot(qt(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>ic){const i=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(i)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Uo._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?jm(this.v,this.common.chainId())&&this.activeCapabilities.push(Er.EIP155ReplayProtection):this.activeCapabilities.push(Er.EIP155ReplayProtection)),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}raw(){return[Bt(this.nonce),Bt(this.gasPrice),Bt(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Bt(this.value),this.data,this.v!==void 0?Bt(this.v):Uint8Array.from([]),this.r!==void 0?Bt(this.r):Uint8Array.from([]),this.s!==void 0?Bt(this.s):Uint8Array.from([])]}serialize(){return tr.RLP.encode(this.raw())}_getMessageToSign(){const e=[Bt(this.nonce),Bt(this.gasPrice),Bt(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Bt(this.value),this.data];return this.supports(Er.EIP155ReplayProtection)&&(e.push(qt(this.common.chainId())),e.push(Xu(qt(0))),e.push(Xu(qt(0)))),e}getMessageToSign(e=!0){const n=this._getMessageToSign();return e?Bn(tr.RLP.encode(n)):n}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Bn(tr.RLP.encode(this.raw()))),this.cache.hash):Bn(tr.RLP.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){const n=this._errorMsg("This transaction is not signed");throw new Error(n)}const e=this._getMessageToSign();return Bn(tr.RLP.encode(e))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return c0(e,n,Bt(r),Bt(s),this.supports(Er.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){let s=e;this.supports(Er.EIP155ReplayProtection)&&(s+=this.common.chainId()*BigInt(2)+BigInt(8));const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return bi.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:s,r:Ot(n),s:Ot(r)},i)}toJSON(){return{nonce:jt(this.nonce),gasPrice:jt(this.gasPrice),gasLimit:jt(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:jt(this.value),data:At(this.data),v:this.v!==void 0?jt(this.v):void 0,r:this.r!==void 0?jt(this.r):void 0,s:this.s!==void 0?jt(this.s):void 0}}_validateTxV(e,n){let r;const s=e!==void 0?Number(e):void 0;if(s!==void 0&&s<37&&s!==27&&s!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${s}`);if(s!==void 0&&s!==0&&(!n||n.gteHardfork("spuriousDragon"))&&s!==27&&s!==28)if(n){if(!jm(BigInt(s),n.chainId()))throw new Error(`Incompatible EIP155-based V ${s} and chain id ${n.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let i;(s-35)%2===0?i=35:i=36,r=BigInt(s-i)/BigInt(2)}return this._getCommon(n,r)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const Zf=new Map;class Ls{constructor(){}static typeToInt(e){return Number(Ot(qt(e)))}static registerTransactionType(e,n){const r=Ls.typeToInt(e);Zf.set(r,n)}static fromTxData(e,n={}){if(!("type"in e)||e.type===void 0)return bi.fromTxData(e,n);const r=Ls.typeToInt(e.type);if(r===0)return bi.fromTxData(e,n);if(r===1)return ms.fromTxData(e,n);if(r===2)return ps.fromTxData(e,n);const s=Zf.get(r);if(s?.fromTxData)return s.fromTxData(e,n);throw new Error(`Tx instantiation with type ${r} not supported`)}static fromSerializedData(e,n={}){if(e[0]<=127)switch(e[0]){case 1:return ms.fromSerializedTx(e,n);case 2:return ps.fromSerializedTx(e,n);default:{const r=Zf.get(Number(e[0]));if(r?.fromSerializedTx)return r.fromSerializedTx(e,n);throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}}else return bi.fromSerializedTx(e,n)}static fromBlockBodyData(e,n={}){if(Oi(e))return this.fromSerializedData(e,n);if(Array.isArray(e))return bi.fromValuesArray(e,n);throw new Error("Cannot decode transaction: unknown type input")}}var Vl=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const Qo=(t,e)=>{let n;if(!e&&typeof t=="string"&&Mt(t)&&t.length!==66)throw new nm;try{n=Oi(t)?t:Rr(t)}catch{throw new WB}if(!e&&n.byteLength!==32)throw new nm;return n},u0=(t,e=!1)=>{const n=Mt(t)?t:fr(t),r=$t(n),s=$t(kv(`Ethereum Signed Message:
${r.byteLength}`)),i=e?r:Pn(s,r);return zn(i)},SC=(t,e)=>{const n=Qo(e),r=ai.sign(t.substring(2),n),s=r.toCompactRawBytes(),i=r.r.toString(16).padStart(64,"0"),a=r.s.toString(16).padStart(64,"0"),o=r.recovery+27;return{messageHash:t,v:cn(o),r:`0x${i}`,s:`0x${a}`,signature:`${At(s)}${o.toString(16)}`}},bw=(t,e)=>{const n=u0(t),{messageHash:r,v:s,r:i,s:a,signature:o}=SC(n,e);return{message:t,messageHash:r,v:s,r:i,s:a,signature:o}},BC=(t,e)=>Vl(void 0,void 0,void 0,function*(){const n=t.sign($t(e));if(le(n.v)||le(n.r)||le(n.s))throw new Id("Signer Error");const r=n.validate(!0);if(r.length>0){let a="Signer Error ";for(const o of r)a+=`${a} ${o}.`;throw new Id(a)}const s=At(n.serialize()),i=zn(s);return{messageHash:At(n.getMessageToSign(!0)),v:`0x${n.v.toString(16)}`,r:`0x${n.r.toString(16).padStart(64,"0")}`,s:`0x${n.s.toString(16).padStart(64,"0")}`,rawTransaction:s,transactionHash:At(i)}}),kC=t=>{if(le(t))throw new lk;const e=Ls.fromSerializedData($t(t));return Cr(e.getSenderAddress().toString())},Hd=(t,e,n,r,s)=>{if(typeof t=="object"){const y=`${t.r}${t.s.slice(2)}${t.v.slice(2)}`;return Hd(t.messageHash,y,n)}if(typeof e=="string"&&typeof n=="string"&&!le(r)){const y=`${n}${r.slice(2)}${e.slice(2)}`;return Hd(t,y,s)}if(le(e))throw new KB("signature string undefined");const i=130,a=n?t:u0(t);let o=parseInt(e.substring(i),16);o>26&&(o-=27);const f=ai.Signature.fromCompact(e.slice(2,i)).addRecoveryBit(o).recoverPublicKey(a.replace("0x","")).toRawBytes(!1),d=zn(f.subarray(1));return Cr(`0x${d.slice(-40)}`)},Wl=t=>{const e=Qo(t),n=ai.getPublicKey(e,!1),s=zn(n.slice(1)).slice(-40);return Cr(`0x${s}`)},TC=(t,e)=>{const n=Qo(t);return`0x${At(ai.getPublicKey(n,e)).slice(4)}`},_w=(t,e,n)=>Vl(void 0,void 0,void 0,function*(){var r,s,i,a,o,f,d;const p=Qo(t);let y;if(n?.salt?y=typeof n.salt=="string"?$t(n.salt):n.salt:y=tc(32),!(Dh(e)||Oi(e)))throw new YB;const B=typeof e=="string"?$t(fr(e)):e;let x;if(n?.iv){if(x=typeof n.iv=="string"?$t(n.iv):n.iv,x.length!==16)throw new JB}else x=tc(16);const M=(r=n?.kdf)!==null&&r!==void 0?r:"scrypt";let I,R;if(M==="pbkdf2"){if(R={dklen:(s=n?.dklen)!==null&&s!==void 0?s:32,salt:At(y).replace("0x",""),c:(i=n?.c)!==null&&i!==void 0?i:262144,prf:"hmac-sha256"},R.c<1e3)throw new XB;I=nw(B,y,R.c,R.dklen,"sha256")}else if(M==="scrypt")R={n:(a=n?.n)!==null&&a!==void 0?a:8192,r:(o=n?.r)!==null&&o!==void 0?o:8,p:(f=n?.p)!==null&&f!==void 0?f:1,dklen:(d=n?.dklen)!==null&&d!==void 0?d:32,salt:At(y).replace("0x","")},I=rw(B,y,R.n,R.p,R.r,R.dklen);else throw new Gy;const N=yield Xh(p,I.slice(0,16),x,"aes-128-ctr"),D=At(N).slice(2),U=zn(Pn(I.slice(16,32),N)).replace("0x","");return{version:3,id:Kh(),address:Wl(p).toLowerCase().replace("0x",""),crypto:{ciphertext:D,cipherparams:{iv:At(x).replace("0x","")},cipher:"aes-128-ctr",kdf:M,kdfparams:R,mac:U}}}),l0=(t,e)=>{const n=Qo(t,e);return{address:Wl(n),privateKey:At(n),signTransaction:r=>{throw new Id("Do not have network access to sign the transaction")},sign:r=>bw(typeof r=="string"?r:JSON.stringify(r),n),encrypt:(r,s)=>Vl(void 0,void 0,void 0,function*(){return _w(n,r,s)})}},RC=()=>{const t=ai.utils.randomPrivateKey();return l0(`${At(t)}`)},MC=(t,e,n)=>Vl(void 0,void 0,void 0,function*(){const r=typeof t=="object"?t:JSON.parse(n?t.toLowerCase():t);if(Ge.validateJSONSchema(v3,r),r.version!==3)throw new ZB;const s=typeof e=="string"?$t(fr(e)):e;Ge.validate(["bytes"],[s]);let i;if(r.crypto.kdf==="scrypt"){const d=r.crypto.kdfparams,p=typeof d.salt=="string"?$t(d.salt):d.salt;i=rw(s,p,d.n,d.p,d.r,d.dklen)}else if(r.crypto.kdf==="pbkdf2"){const d=r.crypto.kdfparams,p=typeof d.salt=="string"?$t(d.salt):d.salt;i=nw(s,p,d.c,d.dklen,"sha256")}else throw new Gy;const a=$t(r.crypto.ciphertext);if(zn(Pn(i.slice(16,32),a)).replace("0x","")!==r.crypto.mac)throw new QB;const f=yield IM($t(r.crypto.ciphertext),i.slice(0,16),$t(r.crypto.cipherparams.iv));return l0(f)});var zm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const CC=1e3;class PC{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map(e=>e.payload)}add(e){const n=Cs(e),r=new Ku;return this._requests.set(n.id,{payload:n,promise:r}),r}execute(e){return zm(this,void 0,void 0,function*(){var n;if(this.requests.length===0)return Promise.resolve([]);const r=new Ku({timeout:(n=e?.timeout)!==null&&n!==void 0?n:CC,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(r).catch(s=>r.reject(s)),r.catch(s=>{s instanceof qy&&this._abortAllRequests("Batch request timeout"),r.reject(s)}),r})}_processBatchRequest(e){return zm(this,void 0,void 0,function*(){var n,r;const s=yield this._requestManager.sendBatch([...this._requests.values()].map(o=>o.payload));if(s.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new Ar(s,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${s.length}`);const i=this.requests.map(o=>o.id).map(Number).sort((o,f)=>o-f),a=s.map(o=>o.id).map(Number).sort((o,f)=>o-f);if(JSON.stringify(i)!==JSON.stringify(a))throw this._abortAllRequests("Invalid batch response"),new Ar(s,`Batch request mismatch the results. Requests: [${i.join()}], Responses: [${a.join()}]`);for(const o of s)Ei(o)?(n=this._requests.get(o.id))===null||n===void 0||n.promise.resolve(o.result):xi(o)&&((r=this._requests.get(o.id))===null||r===void 0||r.promise.reject(o.error));e.resolve(s)})}_abortAllRequests(e){for(const{promise:n}of this._requests.values())n.reject(new ok(e))}}var NC=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class Hn extends yM{constructor(e){var n;if(super(),this.providers=bs.providers,je(e)||typeof e=="string"&&e.trim()!==""||Qu(e)){this._requestManager=new bs(e),this._subscriptionManager=new Zu(this._requestManager,{});return}const{config:r,provider:s,requestManager:i,subscriptionManager:a,registeredSubscriptions:o,accountProvider:f,wallet:d,requestManagerMiddleware:p}=e;this.setConfig(r??{}),this._requestManager=i??new bs(s,(n=r?.enableExperimentalFeatures)===null||n===void 0?void 0:n.useSubscriptionWhenCheckingBlockTimeout,p),a?this._subscriptionManager=a:this._subscriptionManager=new Zu(this.requestManager,o??{}),f&&(this._accountProvider=f),d&&(this._wallet=d)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...e){return new this(...e.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:(e=this.subscriptionManager)===null||e===void 0?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e,...n){const r=new e(...n,this.getContextObject());return this.on(Ps.CONFIG_CHANGE,s=>{r.setConfig({[s.name]:s.newValue})}),this[e.name]=r,r}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(Ps.CONFIG_CHANGE,n=>{this.setConfig({[n.name]:n.newValue})})}registerPlugin(e){if(this[e.pluginNamespace]!==void 0)throw new ak(e.pluginNamespace);const n={[e.pluginNamespace]:e};n[e.pluginNamespace].link(this),Object.assign(this,n)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return Hn.givenProvider}setProvider(e){return this.provider=e,!0}setRequestManagerMiddleware(e){this.requestManager.setMiddleware(e)}get BatchRequest(){return PC.bind(void 0,this._requestManager)}extend(e){var n;return e.property&&!this[e.property]&&(this[e.property]={}),(n=e.methods)===null||n===void 0||n.forEach(r=>{const s=(...i)=>NC(this,void 0,void 0,function*(){return this.requestManager.send({method:r.call,params:i})});e.property?this[e.property][r.name]=s:this[r.name]=s}),this}}Hn.providers=bs.providers;class nn{constructor(e){if(this.toAddress=()=>{if(this.isDirect()){const n=this._iban.slice(4),r=nn._parseInt(n,36),s=Xa(r,40);return Cr(s)}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},nn.isIndirect(e)||nn.isDirect(e))this._iban=e;else throw new Error("Invalid IBAN was provided")}static isDirect(e){return e.length===34||e.length===35}isDirect(){return nn.isDirect(this._iban)}static isIndirect(e){return e.length===20}isIndirect(){return nn.isIndirect(this._iban)}static isValid(e){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(e)&&nn._mod9710(nn._iso13616Prepare(e))===1}isValid(){return nn.isValid(this._iban)}static fromBban(e){const s=`0${(98-this._mod9710(this._iso13616Prepare(`XE00${e}`))).toString()}`.slice(-2);return new nn(`XE${s}${e}`)}static createIndirect(e){return nn.fromBban(`ETH${e.institution}${e.identifier}`)}static fromAddress(e){if(!jn(e))throw new Mh(e);const r=BigInt(Ac(e)).toString(36),s=Xa(r,15);return nn.fromBban(s.toUpperCase())}static toIban(e){return nn.fromAddress(e).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}nn._iso13616Prepare=t=>{const r=t.toUpperCase();return`${r.slice(4)}${r.slice(0,4)}`.split("").map(i=>{const a=i.charCodeAt(0);return a>=65&&a<=90?a-65+10:i}).join("")};nn._parseInt=(t,e)=>[...t].reduce((n,r)=>BigInt(parseInt(r,e))+BigInt(e)*n,BigInt(0));nn._mod9710=t=>{let e=t,n;for(;e.length>2;)n=e.slice(0,9),e=`${(parseInt(n,10)%97).toString()}${e.slice(n.length)}`;return parseInt(e,10)%97};nn.toAddress=t=>new nn(t).toAddress();var Yf=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})},Aw;class Ew extends Gl{constructor(e){super(),this[Aw]="Promise",this._promise=new Promise(e)}then(e,n){return Yf(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return Yf(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return Yf(this,void 0,void 0,function*(){return this._promise.finally(e)})}on(e,n){return super.on(e,n),this}once(e,n){return super.once(e,n),this}}Aw=Symbol.toStringTag;var Jf={},Vm;function LC(){return Vm||(Vm=1,function(t,e){if(t.setImmediate)return;var n=1,r={},s=!1,i=t.document,a;function o(D){typeof D!="function"&&(D=new Function(""+D));for(var U=new Array(arguments.length-1),K=0;K<U.length;K++)U[K]=arguments[K+1];var j={callback:D,args:U};return r[n]=j,a(n),n++}function f(D){delete r[D]}function d(D){var U=D.callback,K=D.args;switch(K.length){case 0:U();break;case 1:U(K[0]);break;case 2:U(K[0],K[1]);break;case 3:U(K[0],K[1],K[2]);break;default:U.apply(e,K);break}}function p(D){if(s)setTimeout(p,0,D);else{var U=r[D];if(U){s=!0;try{d(U)}finally{f(D),s=!1}}}}function y(){a=function(D){process.nextTick(function(){p(D)})}}function B(){if(t.postMessage&&!t.importScripts){var D=!0,U=t.onmessage;return t.onmessage=function(){D=!1},t.postMessage("","*"),t.onmessage=U,D}}function x(){var D="setImmediate$"+Math.random()+"$",U=function(K){K.source===t&&typeof K.data=="string"&&K.data.indexOf(D)===0&&p(+K.data.slice(D.length))};t.addEventListener?t.addEventListener("message",U,!1):t.attachEvent("onmessage",U),a=function(K){t.postMessage(D+K,"*")}}function M(){var D=new MessageChannel;D.port1.onmessage=function(U){var K=U.data;p(K)},a=function(U){D.port2.postMessage(U)}}function I(){var D=i.documentElement;a=function(U){var K=i.createElement("script");K.onreadystatechange=function(){p(U),K.onreadystatechange=null,D.removeChild(K),K=null},D.appendChild(K)}}function R(){a=function(D){setTimeout(p,0,D)}}var N=Object.getPrototypeOf&&Object.getPrototypeOf(t);N=N&&N.setTimeout?N:t,{}.toString.call(t.process)==="[object process]"?y():B()?x():t.MessageChannel?M():i&&"onreadystatechange"in i.createElement("script")?I():R(),N.setImmediate=o,N.clearImmediate=f}(typeof self>"u"?typeof ro>"u"?Jf:ro:self)),Jf}LC();var Qe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};function OC(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_protocolVersion",params:[]})})}function xw(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_syncing",params:[]})})}function FC(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_coinbase",params:[]})})}function DC(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_mining",params:[]})})}function UC(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_hashrate",params:[]})})}function HC(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_gasPrice",params:[]})})}function $C(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_maxPriorityFeePerGas",params:[]})})}function GC(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_accounts",params:[]})})}function qC(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_blockNumber",params:[]})})}function jC(t,e,n){return Qe(this,void 0,void 0,function*(){return Ge.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getBalance",params:[e,n]})})}function zC(t,e,n,r){return Qe(this,void 0,void 0,function*(){return Ge.validate(["address","hex","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getStorageAt",params:[e,n,r]})})}function VC(t,e,n){return Qe(this,void 0,void 0,function*(){return Ge.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getTransactionCount",params:[e,n]})})}function WC(t,e){return Qe(this,void 0,void 0,function*(){return Ge.validate(["bytes32"],[e]),t.send({method:"eth_getBlockTransactionCountByHash",params:[e]})})}function KC(t,e){return Qe(this,void 0,void 0,function*(){return Ge.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getBlockTransactionCountByNumber",params:[e]})})}function QC(t,e){return Qe(this,void 0,void 0,function*(){return Ge.validate(["bytes32"],[e]),t.send({method:"eth_getUncleCountByBlockHash",params:[e]})})}function ZC(t,e){return Qe(this,void 0,void 0,function*(){return Ge.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getUncleCountByBlockNumber",params:[e]})})}function YC(t,e,n){return Qe(this,void 0,void 0,function*(){return Ge.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getCode",params:[e,n]})})}function JC(t,e,n){return Qe(this,void 0,void 0,function*(){return Ge.validate(["address","hex"],[e,n]),t.send({method:"eth_sign",params:[e,n]})})}function XC(t,e){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_signTransaction",params:[e]})})}function e8(t,e){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_sendTransaction",params:[e]})})}function Iw(t,e){return Qe(this,void 0,void 0,function*(){return Ge.validate(["hex"],[e]),t.send({method:"eth_sendRawTransaction",params:[e]})})}function t8(t,e,n){return Qe(this,void 0,void 0,function*(){return Ge.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_call",params:[e,n]})})}function n8(t,e,n){return Qe(this,void 0,void 0,function*(){return Ge.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_estimateGas",params:[e,n]})})}function r8(t,e,n){return Qe(this,void 0,void 0,function*(){return Ge.validate(["bytes32","bool"],[e,n]),t.send({method:"eth_getBlockByHash",params:[e,n]})})}function Sw(t,e,n){return Qe(this,void 0,void 0,function*(){return Ge.validate(["blockNumberOrTag","bool"],[e,n]),t.send({method:"eth_getBlockByNumber",params:[e,n]})})}function i8(t,e){return Qe(this,void 0,void 0,function*(){return Ge.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionByHash",params:[e]})})}function s8(t,e,n){return Qe(this,void 0,void 0,function*(){return Ge.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockHashAndIndex",params:[e,n]})})}function o8(t,e,n){return Qe(this,void 0,void 0,function*(){return Ge.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[e,n]})})}function a8(t,e){return Qe(this,void 0,void 0,function*(){return Ge.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionReceipt",params:[e]})})}function c8(t,e,n){return Qe(this,void 0,void 0,function*(){return Ge.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getUncleByBlockHashAndIndex",params:[e,n]})})}function u8(t,e,n){return Qe(this,void 0,void 0,function*(){return Ge.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getUncleByBlockNumberAndIndex",params:[e,n]})})}function l8(t,e){return Qe(this,void 0,void 0,function*(){return Ge.validate(["filter"],[e]),t.send({method:"eth_newFilter",params:[e]})})}function f8(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_newBlockFilter",params:[]})})}function d8(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_newPendingTransactionFilter",params:[]})})}function h8(t,e){return Qe(this,void 0,void 0,function*(){return Ge.validate(["hex"],[e]),t.send({method:"eth_uninstallFilter",params:[e]})})}function p8(t,e){return Qe(this,void 0,void 0,function*(){return Ge.validate(["hex"],[e]),t.send({method:"eth_getFilterChanges",params:[e]})})}function m8(t,e){return Qe(this,void 0,void 0,function*(){return Ge.validate(["hex"],[e]),t.send({method:"eth_getFilterLogs",params:[e]})})}function g8(t,e){return Qe(this,void 0,void 0,function*(){return Ge.validate(["filter"],[e]),t.send({method:"eth_getLogs",params:[e]})})}function y8(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_getWork",params:[]})})}function v8(t,e,n,r){return Qe(this,void 0,void 0,function*(){return Ge.validate(["bytes8","bytes32","bytes32"],[e,n,r]),t.send({method:"eth_submitWork",params:[e,n,r]})})}function w8(t,e,n,r){return Qe(this,void 0,void 0,function*(){Ge.validate(["hex","blockNumberOrTag"],[e,n]);for(const s of r)Ge.validate(["number"],[s]);return t.send({method:"eth_feeHistory",params:[e,n,r]})})}function b8(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_pendingTransactions",params:[]})})}function _8(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_requestAccounts",params:[]})})}function A8(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"eth_chainId",params:[]})})}function E8(t,e,n,r){return Qe(this,void 0,void 0,function*(){return Ge.validate(["address","bytes32[]","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getProof",params:[e,n,r]})})}function x8(t){return Qe(this,void 0,void 0,function*(){return t.send({method:"web3_clientVersion",params:[]})})}function I8(t,e,n){return Qe(this,void 0,void 0,function*(){return Ge.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_createAccessList",params:[e,n]})})}function S8(t,e,n,r=!1){return Qe(this,void 0,void 0,function*(){return Ge.validate(["address"],[e]),t.send({method:`eth_signTypedData${r?"":"_v4"}`,params:[e,n]})})}var f0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};function B8(t){return f0(this,void 0,void 0,function*(){return t.send({method:"net_version",params:[]})})}function k8(t){return f0(this,void 0,void 0,function*(){return t.send({method:"net_peerCount",params:[]})})}function T8(t){return f0(this,void 0,void 0,function*(){return t.send({method:"net_listening",params:[]})})}var ci=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const R8=t=>ci(void 0,void 0,void 0,function*(){return t.send({method:"personal_listAccounts",params:[]})}),M8=(t,e)=>ci(void 0,void 0,void 0,function*(){return t.send({method:"personal_newAccount",params:[e]})}),C8=(t,e,n,r)=>ci(void 0,void 0,void 0,function*(){return t.send({method:"personal_unlockAccount",params:[e,n,r]})}),P8=(t,e)=>ci(void 0,void 0,void 0,function*(){return t.send({method:"personal_lockAccount",params:[e]})}),N8=(t,e,n)=>ci(void 0,void 0,void 0,function*(){return t.send({method:"personal_importRawKey",params:[e,n]})}),L8=(t,e,n)=>ci(void 0,void 0,void 0,function*(){return t.send({method:"personal_sendTransaction",params:[e,n]})}),O8=(t,e,n)=>ci(void 0,void 0,void 0,function*(){return t.send({method:"personal_signTransaction",params:[e,n]})}),F8=(t,e,n,r)=>ci(void 0,void 0,void 0,function*(){return t.send({method:"personal_sign",params:[e,n,r]})}),D8=(t,e,n)=>ci(void 0,void 0,void 0,function*(){return t.send({method:"personal_ecRecover",params:[e,n]})}),Wm={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},Km={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},Qm={type:"object",properties:{gasPrice:{type:"null"}}},jc=(t,e,n)=>{try{Ge.validateJSONSchema(t,e)}catch(r){throw r instanceof Mo?new Nk(r.errors,n):r}},U8=t=>{var e,n;const r=t;if(!le(r.type)){let i;switch(r.type){case"0x0":i=Wm;break;case"0x1":i=Km;break;case"0x2":i=Qm;break;default:return we({format:"uint"},r.type,Ye)}return jc(i,r,r.type),we({format:"uint"},r.type,Ye)}if(!le(r.maxFeePerGas)||!le(r.maxPriorityFeePerGas))return jc(Qm,r,"0x2"),"0x2";if(!le(r.accessList))return jc(Km,r,"0x1"),"0x1";const s=(e=r.hardfork)!==null&&e!==void 0?e:(n=r.common)===null||n===void 0?void 0:n.hardfork;if(!le(s)){const i=Object.keys(Ta).indexOf(s);if(i>=Object.keys(Ta).indexOf("london"))return le(r.gasPrice)?"0x2":"0x0";if(i===Object.keys(Ta).indexOf("berlin"))return"0x0"}if(!le(r.gasPrice))return jc(Wm,r,"0x0"),"0x0"},H8=(t,e)=>{var n;return((n=e?.transactionTypeParser)!==null&&n!==void 0?n:U8)(t)},$8=t=>t[0]>127?"0x0":si(t[0]),G8={type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}},d0={type:"array",items:Object.assign({},G8)},q8={type:"object",properties:{accessList:Object.assign({},d0),gasUsed:{type:"string"}}},Zm={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},Ym={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},j8={type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}},Bw={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},d0),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},Zm),hardfork:Object.assign({},Ym),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},j8),baseChain:Object.assign({},Zm),hardfork:Object.assign({},Ym)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},$d={type:"object",properties:Object.assign(Object.assign({},Bw.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},d0),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},kw={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},el={type:"object",properties:{baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},$d)},{type:"array",items:{format:"bytes32"}}]},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},kw)},withdrawalsRoot:{format:"bytes32"}}},z8={type:"object",properties:{author:{format:"bytes32"},excessDataGas:{format:"uint"},baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{type:"array",items:{format:"bytes32"}},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},kw)},withdrawalsRoot:{format:"bytes32"}}},Zo={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},V8={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},Yo={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},Zo)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},W8={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},K8={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},Q8={type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}},Z8={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},Q8)}}};function $n(t,e=kn,n={transactionSchema:$d,fillInputAndData:!1}){var r,s;let i=Fi({},t);if(le(t?.common)||(i.common=Object.assign({},t.common),le((r=t.common)===null||r===void 0?void 0:r.customChain)||(i.common.customChain=Object.assign({},t.common.customChain))),i=we((s=n.transactionSchema)!==null&&s!==void 0?s:$d,i,e),!le(i.data)&&!le(i.input)&&si(i.data)!==si(i.input))throw new Wy({data:At(i.data),input:At(i.input)});return n.fillInputAndData&&(le(i.data)?le(i.input)||(i.data=i.input):i.input=i.data),le(i.gasLimit)||(i.gas=i.gasLimit,delete i.gasLimit),i}function Y8(t,e,n={fillInputAndData:!1}){return{raw:we({format:"bytes"},t,e),tx:$n(Object.assign(Object.assign({},Ls.fromSerializedData($t(t)).toJSON()),{hash:At(No($t(t))),type:$8($t(t))}),e,{fillInputAndData:n.fillInputAndData,transactionSchema:n.transactionSchema})}}var h0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};function p0(t,e){return h0(this,void 0,void 0,function*(){const n=yield B8(t.requestManager);return we({format:"uint"},n,e)})}function J8(t,e){return h0(this,void 0,void 0,function*(){const n=yield k8(t.requestManager);return we({format:"uint"},n,e)})}const X8=t=>h0(void 0,void 0,void 0,function*(){return T8(t.requestManager)});var Xf=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class Tw extends Hn{getId(e=this.defaultReturnFormat){return Xf(this,void 0,void 0,function*(){return p0(this,e)})}getPeerCount(e=this.defaultReturnFormat){return Xf(this,void 0,void 0,function*(){return J8(this,e)})}isListening(){return Xf(this,void 0,void 0,function*(){return X8(this)})}}const Ho="ALLEVENTS",Gd={name:Ho,signature:"",type:"event",inputs:[]},Kl={bytes:ni.HEX,number:nr.NUMBER};var Rw=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};function e6(t,e,n){return Rw(this,void 0,void 0,function*(){var r,s,i,a;const o=yield sb(e,e.defaultBlock,!1,Ye);if(le(o.baseFeePerGas))throw new Rk;let f;if(le(t.gasPrice)&&BigInt(o.baseFeePerGas)===BigInt(0)&&(f=yield E0(e,n)),!le(t.gasPrice)||!le(f)){const d=we({format:"uint"},(r=t.gasPrice)!==null&&r!==void 0?r:f,n);return{maxPriorityFeePerGas:d,maxFeePerGas:d}}return{maxPriorityFeePerGas:we({format:"uint"},(s=t.maxPriorityFeePerGas)!==null&&s!==void 0?s:e.defaultMaxPriorityFeePerGas,n),maxFeePerGas:we({format:"uint"},(i=t.maxFeePerGas)!==null&&i!==void 0?i:BigInt(o.baseFeePerGas)*BigInt(2)+BigInt((a=t.maxPriorityFeePerGas)!==null&&a!==void 0?a:e.defaultMaxPriorityFeePerGas),n)}})}function Mw(t,e,n){return Rw(this,void 0,void 0,function*(){const r=Cw(t,e);if(!le(r)){if(r.startsWith("-"))throw new om(r);if(Number(r)<0||Number(r)>127)throw new om(r);if(le(t.gasPrice)&&(r==="0x0"||r==="0x1"))return{gasPrice:yield E0(e,n),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if(r==="0x2")return Object.assign({gasPrice:void 0},yield e6(t,e,n))}})}var m0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const qd=(t,e,n,r)=>{if(n!==void 0&&t in n&&n[t]!==void 0){if(typeof n[t]=="string"&&jn(n[t]))return n[t];if(!Mt(n[t])&&Sv(n[t])){if(e.wallet){const s=e.wallet.get(we({format:"uint"},n[t],Kl));if(!le(s))return s.address;throw new am}throw new am}else throw t==="from"?new fk(n.from):new dk(n.to)}if(t==="from"){if(!le(r))return Wl(r);if(!le(e.defaultAccount))return e.defaultAccount}},t6=(t,e,...n)=>m0(void 0,[t,e,...n],void 0,function*(r,s,i=r.defaultReturnFormat){if(le(s))throw new Tk;return ab(r,s,r.defaultBlock,i)}),Cw=(t,e)=>{const n=H8(t,e);if(!le(n))return n;if(!le(e.defaultTransactionType))return we({format:"uint"},e.defaultTransactionType,Ye)};function n6(t){return m0(this,void 0,void 0,function*(){var e,n;let r=we(Bw,t.transaction,t.web3Context.defaultReturnFormat);if(le(r.from)&&(r.from=qd("from",t.web3Context,void 0,t.privateKey)),le(r.nonce)&&(r.nonce=yield t6(t.web3Context,r.from,Ye)),le(r.value)&&(r.value="0x0"),le(r.data))le(r.input)?r.input="0x":r.input.startsWith("0x")||(r.input=`0x${r.input}`);else{if(!le(r.input)&&r.data!==r.input)throw new Wy({data:At(r.data),input:At(r.input)});r.data.startsWith("0x")||(r.data=`0x${r.data}`)}if(le(r.common)){if(t.web3Context.defaultCommon){const s=t.web3Context.defaultCommon,i=s.customChain.chainId,a=s.customChain.networkId,o=s.customChain.name;r.common=Object.assign(Object.assign({},s),{customChain:{chainId:i,networkId:a,name:o}})}le(r.chain)&&(r.chain=t.web3Context.defaultChain),le(r.hardfork)&&(r.hardfork=t.web3Context.defaultHardfork)}if(le(r.chainId)&&le((e=r.common)===null||e===void 0?void 0:e.customChain.chainId)&&(r.chainId=yield ub(t.web3Context,Ye)),le(r.networkId)&&(r.networkId=(n=t.web3Context.defaultNetworkId)!==null&&n!==void 0?n:yield p0(t.web3Context,Ye)),le(r.gasLimit)&&!le(r.gas)&&(r.gasLimit=r.gas),r.type=Cw(r,t.web3Context),le(r.accessList)&&(r.type==="0x1"||r.type==="0x2")&&(r.accessList=[]),t.fillGasPrice&&(r=Object.assign(Object.assign({},r),yield Mw(r,t.web3Context,Ye))),le(r.gas)&&le(r.gasLimit)&&t.fillGasLimit){const s=yield S0(t.web3Context,r,"latest",Ye);r=Object.assign(Object.assign({},r),{gas:we({format:"uint"},s,Ye)})}return r})}const r6=t=>m0(void 0,void 0,void 0,function*(){var e;return((e=t.web3Context.transactionBuilder)!==null&&e!==void 0?e:n6)(Object.assign(Object.assign({},t),{transaction:t.transaction}))});var g0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};function jd(t,e,n){const r=t.transactionPollingInterval,[s,i]=Hv(()=>g0(this,void 0,void 0,function*(){let o;try{o=yield x0(t,Kl)}catch(d){console.warn("An error happen while trying to get the block number",d);return}const f=o-e;if(f>=t.transactionBlockTimeout)return new Zy({starterBlockNumber:e,numberOfBlocks:f,transactionHash:n})}),r);return[i,{clean:()=>{clearInterval(s)}}]}function i6(t,e,n){return g0(this,void 0,void 0,function*(){var r;let s=!0,i,a;function o(d,p){p&&console.warn("error happened at subscription. So revert to polling...",p),a.clean(),s=!1;const[y,B]=jd(t,e,n);a.clean=B.clean,y.catch(x=>d(x))}try{i=yield(r=t.subscriptionManager)===null||r===void 0?void 0:r.subscribe("newHeads"),a={clean:()=>{var d;i.id&&((d=t.subscriptionManager)===null||d===void 0||d.removeSubscription(i).then(()=>{}).catch(()=>{}))}}}catch{return jd(t,e,n)}return[new Promise((d,p)=>{try{i.on("data",y=>{if(s=!1,!y?.number)return;const B=Number(BigInt(y.number)-BigInt(e));B>=t.transactionBlockTimeout&&p(new Zy({starterBlockNumber:e,numberOfBlocks:B,transactionHash:n}))}),i.on("error",y=>{o(p,y)})}catch(y){o(p,y)}setTimeout(()=>{s&&o(p)},t.blockHeaderTimeout*1e3)}),a]})}function Pw(t,e){return g0(this,void 0,void 0,function*(){var n,r;const{provider:s}=t.requestManager;let i;const a=yield x0(t,Kl);return!((r=(n=s).supportsSubscriptions)===null||r===void 0)&&r.call(n)&&t.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?i=yield i6(t,a,e):i=jd(t,a,e),i})}var s6=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};function zd(t,e,n){return s6(this,void 0,void 0,function*(){const[r,s]=Wh(t.transactionSendTimeout,new Mk({numberOfSeconds:t.transactionSendTimeout/1e3,transactionHash:n})),[i,a]=yield Pw(t,n);try{return yield Promise.race([e(),s,i])}finally{clearTimeout(r),a.clean()}})}var Jm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};function Nw(t,e,n,r){return Jm(this,void 0,void 0,function*(){var s;const i=(s=t.transactionReceiptPollingInterval)!==null&&s!==void 0?s:t.transactionPollingInterval,[a,o]=Vh(()=>Jm(this,void 0,void 0,function*(){try{return(r??ob)(t,e,n)}catch(B){console.warn("An error happen while trying to get the transaction receipt",B);return}}),i),[f,d]=Wh(t.transactionPollingTimeout,new Qy({numberOfSeconds:t.transactionPollingTimeout/1e3,transactionHash:e})),[p,y]=yield Pw(t,e);try{return yield Promise.race([a,d,p])}finally{f&&clearTimeout(f),o&&clearInterval(o),y.clean()}})}var o6=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const ru=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})=>{var i;let a=1;const o=setInterval(()=>{o6(void 0,void 0,void 0,function*(){if(a>=t.transactionConfirmationBlocks){clearInterval(o);return}const f=yield Sw(t.requestManager,cn(BigInt(e.blockNumber)+BigInt(a)),!1);f?.hash&&(a+=1,n.emit("confirmation",{confirmations:we({format:"uint"},a,s),receipt:we(r??Yo,e,s),latestBlockHash:we({format:"bytes32"},f.hash,s)}))})},(i=t.transactionReceiptPollingInterval)!==null&&i!==void 0?i:t.transactionPollingInterval)};var Xm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const a6=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})=>{let i=!0,a;setImmediate(()=>{var o;(o=t.subscriptionManager)===null||o===void 0||o.subscribe("newHeads").then(f=>{f.on("data",d=>Xm(void 0,void 0,void 0,function*(){var p;if(i=!1,!d?.number||a===d?.parentHash)return;a=d?.parentHash;const y=BigInt(d.number)-BigInt(e.blockNumber)+BigInt(1);n.emit("confirmation",{confirmations:we({format:"uint"},y,s),receipt:we(r??Yo,e,s),latestBlockHash:we({format:"bytes32"},d.parentHash,s)}),y>=t.transactionConfirmationBlocks&&(yield(p=t.subscriptionManager)===null||p===void 0?void 0:p.removeSubscription(f))})),f.on("error",()=>Xm(void 0,void 0,void 0,function*(){var d;yield(d=t.subscriptionManager)===null||d===void 0?void 0:d.removeSubscription(f),i=!1,ru({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})}))}).catch(()=>{i=!1,ru({web3Context:t,transactionReceipt:e,customTransactionReceiptSchema:r,transactionPromiEvent:n,returnFormat:s})})}),setTimeout(()=>{i&&ru({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,returnFormat:s})},t.blockHeaderTimeout*1e3)};function c6(t,e,n,r,s,i){if(le(n)||le(n.blockHash))throw new Ck({receipt:n,blockHash:we({format:"bytes32"},n?.blockHash,s),transactionHash:we({format:"bytes32"},r,s)});if(!n.blockNumber)throw new Pk({receipt:n});e.emit("confirmation",{confirmations:we({format:"uint"},1,s),receipt:we(i??Yo,n,s),latestBlockHash:we({format:"bytes32"},n.blockHash,s)});const a=t.requestManager.provider;a&&"supportsSubscriptions"in a&&a.supportsSubscriptions()?a6({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:i,returnFormat:s}):ru({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:i,returnFormat:s})}const Ql=t=>!je(t)&&typeof t=="object"&&!je(t.type)&&t.type==="error",y0=t=>!je(t)&&typeof t=="object"&&!je(t.type)&&t.type==="event",Zl=t=>!je(t)&&typeof t=="object"&&!je(t.type)&&t.type==="function",u6=t=>!je(t)&&typeof t=="object"&&!je(t.type)&&t.type==="constructor",l6=t=>typeof t=="object"&&typeof t.components>"u"&&typeof t.name>"u",Lw=t=>t.includes("[]")?{type:"tuple[]",name:t.slice(0,-2)}:{type:"tuple",name:t},Ow=t=>{const e=[];for(const n of Object.keys(t)){const r=t[n];typeof r=="object"?e.push(Object.assign(Object.assign({},Lw(n)),{components:Ow(r)})):e.push({name:n,type:t[n]})}return e},Vd=(t,e)=>{const n=[];return e.forEach(r=>{if(typeof r.components=="object"){if(!r.type.startsWith("tuple"))throw new It(`Invalid value given "${r.type}". Error: components found but type is not tuple.`);const s=r.type.indexOf("["),i=s>=0?r.type.substring(s):"",a=Vd(t,r.components);n.push(`(${a.join(",")})${i}`)}else n.push(r.type)}),n},ei=t=>{var e,n,r,s;return Ql(t)||y0(t)||Zl(t)?!((e=t.name)===null||e===void 0)&&e.includes("(")?t.name:`${(n=t.name)!==null&&n!==void 0?n:""}(${Vd(!1,(r=t.inputs)!==null&&r!==void 0?r:[]).join(",")})`:`(${Vd(!1,(s=t.inputs)!==null&&s!==void 0?s:[]).join(",")})`},f6=t=>{if(typeof t!="string"&&!Ql(t))throw new It("Invalid parameter value in encodeErrorSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=ei(t):e=t,zn(e)},v0=t=>{if(typeof t!="string"&&!y0(t))throw new It("Invalid parameter value in encodeEventSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=ei(t):e=t,zn(e)};function w0(t,e){return t.exec(e)?.groups}var Fw=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Dw=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Uw=/^\(.+?\).*?$/,d6=Object.defineProperty,h6=(t,e,n)=>e in t?d6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ba=(t,e,n)=>(h6(t,typeof e!="symbol"?e+"":e,n),n),p6="abitype",m6="0.7.1",Fn=class extends Error{constructor(t,e={}){const n=e.cause instanceof Fn?e.cause.details:e.cause?.message?e.cause.message:e.details,r=e.cause instanceof Fn&&e.cause.docsPath||e.docsPath,s=[t||"An error occurred.","",...e.metaMessages?[...e.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...n?[`Details: ${n}`]:[],`Version: ${p6}@${m6}`].join(`
`);super(s),ba(this,"details"),ba(this,"docsPath"),ba(this,"metaMessages"),ba(this,"shortMessage"),ba(this,"name","AbiTypeError"),e.cause&&(this.cause=e.cause),this.details=n,this.docsPath=r,this.metaMessages=e.metaMessages,this.shortMessage=t}},Hw=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function $w(t){return Hw.test(t)}function g6(t){return w0(Hw,t)}var eg=new Set(["memory","indexed","storage","calldata"]),y6=new Set(["calldata","memory","storage"]);function v6(t,e){return e?`${e}:${t}`:t}var ed=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),w6=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,b6=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,_6=/^u?int$/;function tl(t,e){const n=v6(t,e?.type);if(ed.has(n))return ed.get(n);const r=Uw.test(t),s=w0(r?b6:w6,t);if(!s)throw new Fn("Invalid ABI parameter.",{details:t});if(s.name&&E6(s.name))throw new Fn("Invalid ABI parameter.",{details:t,metaMessages:[`"${s.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const i=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},o=e?.structs??{};let f,d={};if(r){f="tuple";const y=to(s.type),B=[],x=y.length;for(let M=0;M<x;M++)B.push(tl(y[M],{structs:o}));d={components:B}}else if(s.type in o)f="tuple",d={components:o[s.type]};else if(_6.test(s.type))f=`${s.type}256`;else if(f=s.type,e?.type!=="struct"&&!Gw(f))throw new Fn("Unknown type.",{metaMessages:[`Type "${f}" is not a valid ABI type.`]});if(s.modifier){if(!e?.modifiers?.has?.(s.modifier))throw new Fn("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s.modifier}" not allowed${e?.type?` in "${e.type}" type`:""}.`]});if(y6.has(s.modifier)&&!x6(f,!!s.array))throw new Fn("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s.modifier}" not allowed${e?.type?` in "${e.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${s.modifier}" was given.`]})}const p={type:`${f}${s.array??""}`,...i,...a,...d};return ed.set(n,p),p}function to(t,e=[],n="",r=0){if(t===""){if(n==="")return e;if(r!==0)throw new Fn("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`});return[...e,n.trim()]}const s=t.length;for(let i=0;i<s;i++){const a=t[i],o=t.slice(i+1);switch(a){case",":return r===0?to(o,[...e,n.trim()]):to(o,e,`${n}${a}`,r);case"(":return to(o,e,`${n}${a}`,r+1);case")":return to(o,e,`${n}${a}`,r-1);default:return to(o,e,`${n}${a}`,r)}}return[]}function Gw(t){return t==="address"||t==="bool"||t==="function"||t==="string"||Fw.test(t)||Dw.test(t)}var A6=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function E6(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||Fw.test(t)||Dw.test(t)||A6.test(t)}function x6(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function I6(t){const e={},n=t.length;for(let a=0;a<n;a++){const o=t[a];if(!$w(o))continue;const f=g6(o);if(!f)throw new Fn("Invalid struct signature.",{details:o});const d=f.properties.split(";"),p=[],y=d.length;for(let B=0;B<y;B++){const M=d[B].trim();if(!M)continue;const I=tl(M,{type:"struct"});p.push(I)}if(!p.length)throw new Fn("Invalid struct signature.",{details:o,metaMessages:["No properties exist."]});e[f.name]=p}const r={},s=Object.entries(e),i=s.length;for(let a=0;a<i;a++){const[o,f]=s[a];r[o]=qw(f,e)}return r}var S6=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function qw(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const a=t[i];if(Uw.test(a.type))r.push(a);else{const f=w0(S6,a.type);if(!f?.type)throw new Fn("Invalid ABI parameter.",{details:JSON.stringify(a,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:d,type:p}=f;if(p in e){if(n.has(p))throw new Fn("Circular reference detected.",{metaMessages:[`Struct "${p}" is a circular reference.`]});r.push({...a,type:`tuple${d??""}`,components:qw(e[p]??[],e,new Set([...n,p]))})}else if(Gw(p))r.push(a);else throw new Fn("Unknown type.",{metaMessages:[`Type "${p}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]})}}return r}function B6(t){let e;if(typeof t=="string")e=tl(t,{modifiers:eg});else{const n=I6(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(!$w(i)){e=tl(i,{modifiers:eg,structs:n});break}}}if(!e)throw new Fn("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return e}const Yt=32;function Wd(t=0){var e;if(((e=globalThis.Buffer)===null||e===void 0?void 0:e.alloc)!==void 0){const n=globalThis.Buffer.alloc(t);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}return new Uint8Array(t)}function jw(t){var e,n;return Object.assign(Object.assign({},t),{name:(e=t.name)!==null&&e!==void 0?e:"",components:(n=t.components)===null||n===void 0?void 0:n.map(r=>jw(r))})}function k6(t){return!je(t)&&typeof t=="object"&&!je(t.type)&&typeof t.type=="string"}function zw(t){return t.map(e=>{var n;if(k6(e))return e;if(typeof e=="string")return jw(B6(e.replace(/tuple/,"")));if(l6(e)){const r=Object.keys(e)[0],s=Lw(r);return s.name=(n=s.name)!==null&&n!==void 0?n:"",Object.assign(Object.assign({},s),{components:Ow(e[r])})}throw new It("Invalid abi")})}function b0(t){const e=t.type.lastIndexOf("["),n=t.type.substring(0,e),r=t.type.substring(e);let s=-1;if(r!=="[]"&&(s=Number(r.slice(1,-1)),isNaN(s)))throw new It("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:t.components},size:s}}function nl(t){var e,n;return t.type==="string"||t.type==="bytes"||t.type.endsWith("[]")?!0:t.type==="tuple"?(n=(e=t.components)===null||e===void 0?void 0:e.some(nl))!==null&&n!==void 0?n:!1:t.type.endsWith("]")?nl(b0(t).param):!1}const Vw=20,Ww=Yt-Vw;function T6(t,e){if(typeof e!="string")throw new It("address type expects string as input type",{value:e,name:t.name,type:t.type});let n=e.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!jn(n))throw new It("provided input is not valid address",{value:e,name:t.name,type:t.type});const r=qs(n),s=Wd(Yt);return s.set(r,Ww),{dynamic:!1,encoded:s}}function R6(t,e){const n=e.subarray(Ww,Yt);if(n.length!==Vw)throw new It("Invalid decoding input, not enough bytes to decode address",{bytes:e});const r=oi(n);return{result:Cr(r),encoded:e.subarray(Yt),consumed:Yt}}const Ci=new Map;let zc=BigInt(256);for(let t=8;t<=256;t+=8)Ci.set(`uint${t}`,{min:BigInt(0),max:zc-BigInt(1)}),Ci.set(`int${t}`,{min:-zc/BigInt(2),max:zc/BigInt(2)-BigInt(1)}),zc*=BigInt(256);Ci.set("int",Ci.get("int256"));Ci.set("uint",Ci.get("uint256"));const Kw=BigInt(1)<<BigInt(256);function M6(t,e=Yt){let n;return t<0?n=(Kw+t).toString(16):n=t.toString(16),n=Po(n,e*2),qs(n)}function C6(t,e){const n=oi(t),r=BigInt(n);return r<=e?r:r-Kw}function Bc(t,e){let n;try{n=ds(e)}catch{throw new It("provided input is not number value",{type:t.type,value:e,name:t.name})}const r=Ci.get(t.type);if(!r)throw new It("provided abi contains invalid number datatype",{type:t.type});if(n<r.min)throw new It("provided input is less then minimum for given type",{type:t.type,value:e,name:t.name,minimum:r.min.toString()});if(n>r.max)throw new It("provided input is greater then maximum for given type",{type:t.type,value:e,name:t.name,maximum:r.max.toString()});return{dynamic:!1,encoded:M6(n)}}function $o(t,e){if(e.length<Yt)throw new It("Not enough bytes left to decode",{param:t,bytesLeft:e.length});const n=e.subarray(0,Yt),r=Ci.get(t.type);if(!r)throw new It("provided abi contains invalid number datatype",{type:t.type});const s=C6(n,r.max);if(s<r.min)throw new It("decoded value is less then minimum for given type",{type:t.type,value:s,name:t.name,minimum:r.min.toString()});if(s>r.max)throw new It("decoded value is greater then maximum for given type",{type:t.type,value:s,name:t.name,maximum:r.max.toString()});return{result:s,encoded:e.subarray(Yt),consumed:Yt}}function P6(t,e){let n;try{n=Mv(e)}catch(r){if(r instanceof Ch)throw new It("provided input is not valid boolean value",{type:t.type,value:e,name:t.name})}return Bc({type:"uint8",name:""},Number(n))}function N6(t,e){const n=$o({type:"uint8",name:""},e);if(n.result>1||n.result<0)throw new It("Invalid boolean value encoded",{boolBytes:e.subarray(0,Yt),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:Yt}}const L6=32;function Qw(t,e){if(typeof e=="string"&&e.length%2!==0&&(e+="0"),!Li(e))throw new It("provided input is not valid bytes value",{type:t.type,value:e,name:t.name});const n=Rr(e),[,r]=t.type.split("bytes");if(r){if(Number(r)>L6||Number(r)<1)throw new It("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:t.type});if(Number(r)<n.length)throw new It("provided input size is different than type size",{type:t.type,value:e,name:t.name});const a=Wd(Yt);return a.set(n),{dynamic:!1,encoded:a}}const s=Math.ceil(n.length/Yt),i=Wd(Yt+s*Yt);return i.set(Bc({type:"uint32",name:""},n.length).encoded),i.set(n,Yt),{dynamic:!0,encoded:i}}function Zw(t,e){const[,n]=t.type.split("bytes");let r=Number(n),s=e,i=1,a=0;if(!r){const o=$o({type:"uint32",name:""},s);r=Number(o.result),a+=o.consumed,s=o.encoded,i=Math.ceil(r/Yt)}if(r>e.length)throw new It("there is not enough data to decode",{type:t.type,encoded:e,size:r});return{result:At(s.subarray(0,r)),encoded:s.subarray(i*Yt),consumed:a+i*Yt}}function O6(t,e){if(typeof e!="string")throw new It("invalid input, should be string",{input:e});const n=qh(e);return Qw({type:"bytes",name:""},n)}function F6(t,e){const n=Zw({type:"bytes"},e);return{result:Dl(n.result),encoded:n.encoded,consumed:n.consumed}}function Yw(t){let e=0,n=0;const r=[],s=[];for(const i of t)i.dynamic?e+=Yt:e+=i.encoded.length;for(const i of t)i.dynamic?(r.push(Bc({type:"uint256",name:""},e+n)),s.push(i),n+=i.encoded.length):r.push(i);return Pn(...r.map(i=>i.encoded),...s.map(i=>i.encoded))}function D6(t,e){if(!Array.isArray(e))throw new It("Expected value to be array",{abi:t,values:e});const{size:n,param:r}=b0(t),s=e.map(o=>Kd(r,o)),i=n===-1,a=s.length>0&&s[0].dynamic;if(!i&&e.length!==n)throw new It("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:e.length});if(i||a){const o=Yw(s);if(i){const f=Bc({type:"uint256",name:""},s.length).encoded;return{dynamic:!0,encoded:s.length>0?Pn(f,o):f}}return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Pn(...s.map(o=>o.encoded))}}function U6(t,e){let{size:n,param:r}=b0(t);const s=n===-1;let i=0;const a=[];let o=e;if(s){const d=$o({type:"uint32",name:""},e);n=Number(d.result),i=d.consumed,o=d.encoded}if(nl(r)){for(let d=0;d<n;d+=1){const p=$o({type:"uint32",name:""},o.subarray(d*Yt));i+=p.consumed;const y=rl(r,o.subarray(Number(p.result)));i+=y.consumed,a.push(y.result)}return{result:a,encoded:o.subarray(i),consumed:i}}for(let d=0;d<n;d+=1){const p=rl(r,e.subarray(i));i+=p.consumed,a.push(p.result)}return{result:a,encoded:e.subarray(i),consumed:i}}function Kd(t,e){if(t.type==="string")return O6(t,e);if(t.type==="bool")return P6(t,e);if(t.type==="address")return T6(t,e);if(t.type==="tuple")return _0(t,e);if(t.type.endsWith("]"))return D6(t,e);if(t.type.startsWith("bytes"))return Qw(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return Bc(t,e);throw new It("Unsupported",{param:t,value:e})}function rl(t,e){if(t.type==="string")return F6(t,e);if(t.type==="bool")return N6(t,e);if(t.type==="address")return R6(t,e);if(t.type==="tuple")return Jw(t,e);if(t.type.endsWith("]"))return U6(t,e);if(t.type.startsWith("bytes"))return Zw(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return $o(t,e);throw new It("Unsupported",{param:t,bytes:e})}function _0(t,e){var n,r,s;let i=!1;if(!Array.isArray(e)&&typeof e!="object")throw new It("param must be either Array or Object",{param:t,input:e});const a=e,o=[];for(let f=0;f<((r=(n=t.components)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);f+=1){const d=t.components[f];let p;if(Array.isArray(a)){if(f>=a.length)throw new It("input param length missmatch",{param:t,input:e});p=Kd(d,a[f])}else{const y=a[(s=d.name)!==null&&s!==void 0?s:""];if(y==null)throw new It("missing input defined in abi",{param:t,input:e,paramName:d.name});p=Kd(d,y)}p.dynamic&&(i=!0),o.push(p)}return i?{dynamic:!0,encoded:Yw(o)}:{dynamic:!1,encoded:Pn(...o.map(f=>f.encoded))}}function Jw(t,e){const n={__length__:0};let r=0;if(!t.components)return{result:n,encoded:e,consumed:r};let s=0;for(const[i,a]of t.components.entries()){let o;if(nl(a)){const f=$o({type:"uint32",name:""},e.subarray(r));o=rl(a,e.subarray(Number(f.result))),r+=f.consumed,s+=o.consumed}else o=rl(a,e.subarray(r)),r+=o.consumed;n.__length__+=1,n[i]=o.result,a.name&&a.name!==""&&(n[a.name]=o.result)}return{encoded:e.subarray(r+s),result:n,consumed:r+s}}function H6(t,e,n){const r=zw(t),s=qs(e);return Jw({components:r},s).result}function Xw(t){const e=[];return t.forEach(n=>{if(Array.isArray(n)){const r=Xw(n);e.push({type:"tuple",components:r,name:""})}else e.push({type:si(n,!0)})}),e}function Yl(t,e){if(t?.length!==e.length)throw new It("Invalid number of values received for given ABI",{expected:t?.length,received:e.length});const n=zw(t);return oi(_0({type:"tuple",name:"",components:n},e).encoded)}function $6(t){try{const e=Xw(t);return oi(_0({type:"tuple",name:"",components:e},t).encoded)}catch{throw new It("Could not infer types from given params",{params:t})}}const Qd=(t,e)=>Yl([t],[e]),eb=(t,e,n)=>{try{if(t.length>0&&(!e||e==="0x"||e==="0X"))throw new It("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return H6(t,`0x${e.replace(/0x/i,"")}`,n)}catch(r){throw new It(`Parameter decoding error: ${r.message}`,{internalErr:r})}},As=(t,e)=>eb(t,e,!1),tb=(t,e)=>As([t],e)[0],sc=t=>{if(typeof t!="string"&&!Zl(t))throw new It("Invalid parameter value in encodeFunctionSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=ei(t):e=t,zn(e).slice(0,10)},G6=(t,e)=>{var n;if(!Zl(t))throw new It("Invalid parameter value in encodeFunctionCall");return`${sc(t)}${Yl((n=t.inputs)!==null&&n!==void 0?n:[],e??[]).replace("0x","")}`},Zd=(t,e,n=!0)=>{const r=n&&e&&e.length>=10&&e.startsWith("0x")?e.slice(10):e;if(!t.inputs)throw new Tn("No inputs found in the ABI");const s=As([...t.inputs],r);return Object.assign(Object.assign({},s),{__method__:ei(t)})},q6=(t,e)=>{if(t.type==="constructor")return e;if(!e)return null;const n=e.length>=2?e.slice(2):e;if(!t.outputs)return null;const r=As([...t.outputs],n);return r.__length__===1?r[0]:r},j6=["bool","string","int","uint","address","fixed","ufixed"],z6=(t,e)=>t==="string"?e:tb(t,e),nb=(t,e,n)=>{const r=Array.isArray(n)?n:[n],s={},i={};for(const[B,x]of t.entries())x.indexed?s[B]=x:i[B]=x;const a=e?eb(Object.values(i),e,!0):{__length__:0},o=r.length-Object.keys(s).length,f=Object.values(s).map((B,x)=>j6.some(M=>B.type.startsWith(M))?z6(B.type,r[x+o]):r[x+o]),d={__length__:0};let p=0,y=0;for(const[B,x]of t.entries())d[B]=x.type==="string"?"":void 0,s[B]&&(d[B]=f[p],p+=1),i[B]&&(d[B]=a[String(y)],y+=1),x.name&&(d[x.name]=d[B]),d.__length__+=1;return d},iu=(t,e)=>{if(e?.data){let n,r,s;try{const i=e.data.slice(0,10),a=t.find(o=>f6(o).startsWith(i));a?.inputs?(n=a.name,r=ei(a),s=As([...a.inputs],e.data.substring(10))):e.data.startsWith("0x08c379a0")?(n="Error",r="Error(string)",s=As([{name:"message",type:"string"}],e.data.substring(10))):e.data.startsWith("0x4e487b71")?(n="Panic",r="Panic(uint256)",s=As([{name:"code",type:"uint256"}],e.data.substring(10))):console.error("No matching error abi found for error data",e.data)}catch(i){console.error(i)}n&&e.setDecodedProperties(n,r,s)}};var V6=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const W6=(t,e)=>{var n,r,s,i,a;if(t instanceof vs&&t.cause instanceof Tl){if(e!==void 0){const o=e.filter(f=>Ql(f));return iu(o,t.cause),{reason:t.cause.message,signature:(n=t.cause.data)===null||n===void 0?void 0:n.slice(0,10),data:(r=t.cause.data)===null||r===void 0?void 0:r.substring(10),customErrorName:t.cause.errorName,customErrorDecodedSignature:t.cause.errorSignature,customErrorArguments:t.cause.errorArgs}}return{reason:t.cause.message,signature:(s=t.cause.data)===null||s===void 0?void 0:s.slice(0,10),data:(i=t.cause.data)===null||i===void 0?void 0:i.substring(10)}}if(t instanceof Rl&&!Array.isArray((a=t.cause)===null||a===void 0?void 0:a.errors)&&t.cause!==void 0)return t.cause.message;throw t};function rb(t,e,n){return V6(this,arguments,void 0,function*(r,s,i,a=r.defaultReturnFormat){try{yield I0(r,s,r.defaultBlock,a);return}catch(o){return W6(o,i)}})}var K6=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};function td(t,e,n,r,s,i){return K6(this,void 0,void 0,function*(){let a=i;a===void 0&&t.handleRevert&&e!==void 0&&(a=yield rb(t,e,s));let o;if(a===void 0)o=new zy(n);else if(typeof a=="string")o=new Cu(a,void 0,n);else if(a.customErrorName!==void 0&&a.customErrorDecodedSignature!==void 0&&a.customErrorArguments!==void 0){const f=a;o=new jy(f.reason,f.customErrorName,f.customErrorDecodedSignature,f.customErrorArguments,f.signature,n,f.data)}else o=new Cu(a.reason,a.signature,n,a.data);return o})}const A0=(t,e,n,r=kn)=>{var s,i,a,o,f,d;let p=Object.assign({},t);const y=we(Zo,e,r);if([Ho,"allEvents"].includes(p.name)){const x=n.find(M=>M.signature===e.topics[0]);x?p=x:p={anonymous:!0}}if(p.inputs=(i=(s=p.inputs)!==null&&s!==void 0?s:t.inputs)!==null&&i!==void 0?i:[],!p.anonymous){let x=0;((a=p.inputs)!==null&&a!==void 0?a:[]).forEach(M=>{M.indexed&&(x+=1)}),x>0&&e?.topics&&e?.topics.length!==x+1&&(p=Object.assign(Object.assign({},p),{anonymous:!0,inputs:[]}))}const B=p.anonymous?e.topics:((o=e.topics)!==null&&o!==void 0?o:[]).slice(1);return Object.assign(Object.assign({},y),{returnValues:nb([...(f=p.inputs)!==null&&f!==void 0?f:[]],e.data,B),event:p.name,signature:!p.anonymous&&((d=e.topics)===null||d===void 0?void 0:d.length)>0&&e.topics[0]?e.topics[0]:void 0,raw:{data:e.data,topics:e.topics}})};var rs=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class ib{constructor({options:e,web3Context:n,promiEvent:r,returnFormat:s}){this.options={checkRevertBeforeSending:!0},this.options=e,this.web3Context=n,this.promiEvent=r,this.returnFormat=s}getReceiptWithEvents(e){var n,r;const s=Object.assign({},e??{});if(!((n=this.options)===null||n===void 0)&&n.contractAbi&&s.logs&&s.logs.length>0){s.events={};for(const i of s.logs){const a=A0(Gd,i,(r=this.options)===null||r===void 0?void 0:r.contractAbi,this.returnFormat);a.event&&(s.events[a.event]=a)}}return s}checkRevertBeforeSending(e){return rs(this,void 0,void 0,function*(){if(this.options.checkRevertBeforeSending!==!1){let n=e;le(e.data)&&le(e.input)&&le(e.gas)&&(n=Object.assign(Object.assign({},e),{gas:21e3}));const r=yield rb(this.web3Context,n,this.options.contractAbi);if(r!==void 0)throw yield td(this.web3Context,e,void 0,void 0,this.options.contractAbi,r)}})}emitSending(e){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",e)}populateGasPrice(e){return rs(this,arguments,void 0,function*({transactionFormatted:n,transaction:r}){var s;let i=n;return!this.web3Context.config.ignoreGasPricing&&!(!((s=this.options)===null||s===void 0)&&s.ignoreGasPricing)&&le(n.gasPrice)&&(le(r.maxPriorityFeePerGas)||le(r.maxFeePerGas))&&(i=Object.assign(Object.assign({},n),yield Mw(n,this.web3Context,Ye))),i})}signAndSend(e){return rs(this,arguments,void 0,function*({wallet:n,tx:r}){if(n){const s=yield n.signTransaction(r);return zd(this.web3Context,()=>rs(this,void 0,void 0,function*(){return Iw(this.web3Context.requestManager,s.rawTransaction)}),s.transactionHash)}return zd(this.web3Context,()=>rs(this,void 0,void 0,function*(){return e8(this.web3Context.requestManager,r)}))})}emitSent(e){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",e)}emitTransactionHash(e){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",e)}emitReceipt(e){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",e)}handleError(e){return rs(this,arguments,void 0,function*({error:n,tx:r}){var s;let i=n;return i instanceof vs&&this.web3Context.handleRevert&&(i=yield td(this.web3Context,r,void 0,void 0,(s=this.options)===null||s===void 0?void 0:s.contractAbi)),(i instanceof Rl||i instanceof vs||i instanceof jy||i instanceof zy||i instanceof Cu||i instanceof Qy)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",i),i})}emitConfirmation({receipt:e,transactionHash:n,customTransactionReceiptSchema:r}){this.promiEvent.listenerCount("confirmation")>0&&c6(this.web3Context,this.promiEvent,e,n,this.returnFormat,r)}handleResolve(e){return rs(this,arguments,void 0,function*({receipt:n,tx:r}){var s,i,a;if(!((s=this.options)===null||s===void 0)&&s.transactionResolver)return(i=this.options)===null||i===void 0?void 0:i.transactionResolver(n);if(n.status===BigInt(0)){const o=yield td(this.web3Context,r,n,void 0,(a=this.options)===null||a===void 0?void 0:a.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",o),o}else return n})}}var Pt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})},Q6=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Z6=t=>Pt(void 0,void 0,void 0,function*(){return xw(t.requestManager)});function Y6(t,e){return Pt(this,void 0,void 0,function*(){const n=yield UC(t.requestManager);return we({format:"uint"},n,e??t.defaultReturnFormat)})}function E0(t,e){return Pt(this,void 0,void 0,function*(){const n=yield HC(t.requestManager);return we({format:"uint"},n,e??t.defaultReturnFormat)})}function J6(t,e){return Pt(this,void 0,void 0,function*(){const n=yield $C(t.requestManager);return we({format:"uint"},n,e??t.defaultReturnFormat)})}function x0(t,e){return Pt(this,void 0,void 0,function*(){const n=yield qC(t.requestManager);return we({format:"uint"},n,e??t.defaultReturnFormat)})}function X6(t,e){return Pt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=dn(s)?s:we({format:"uint"},s,Ye),o=yield jC(n.requestManager,r,a);return we({format:"uint"},o,i??n.defaultReturnFormat)})}function eP(t,e,n){return Pt(this,arguments,void 0,function*(r,s,i,a=r.defaultBlock,o){const f=we({format:"uint"},i,Ye),d=dn(a)?a:we({format:"uint"},a,Ye),p=yield zC(r.requestManager,s,f,d);return we({format:"bytes"},p,o??r.defaultReturnFormat)})}function tP(t,e){return Pt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=dn(s)?s:we({format:"uint"},s,Ye),o=yield YC(n.requestManager,r,a);return we({format:"bytes"},o,i??n.defaultReturnFormat)})}function sb(t){return Pt(this,arguments,void 0,function*(e,n=e.defaultBlock,r=!1,s){var i;let a;if(Li(n)){const f=we({format:"bytes32"},n,Ye);a=yield r8(e.requestManager,f,r)}else{const f=dn(n)?n:we({format:"uint"},n,Ye);a=yield Sw(e.requestManager,f,r)}const o=we(el,a,s??e.defaultReturnFormat);return le(o)?o:Object.assign(Object.assign({},o),{transactions:(i=o.transactions)!==null&&i!==void 0?i:[]})})}function nP(t){return Pt(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let s;if(Li(n)){const i=we({format:"bytes32"},n,Ye);s=yield WC(e.requestManager,i)}else{const i=dn(n)?n:we({format:"uint"},n,Ye);s=yield KC(e.requestManager,i)}return we({format:"uint"},s,r??e.defaultReturnFormat)})}function rP(t){return Pt(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let s;if(Li(n)){const i=we({format:"bytes32"},n,Ye);s=yield QC(e.requestManager,i)}else{const i=dn(n)?n:we({format:"uint"},n,Ye);s=yield ZC(e.requestManager,i)}return we({format:"uint"},s,r??e.defaultReturnFormat)})}function iP(t){return Pt(this,arguments,void 0,function*(e,n=e.defaultBlock,r,s){const i=we({format:"uint"},r,Ye);let a;if(Li(n)){const o=we({format:"bytes32"},n,Ye);a=yield c8(e.requestManager,o,i)}else{const o=dn(n)?n:we({format:"uint"},n,Ye);a=yield u8(e.requestManager,o,i)}return we(el,a,s??e.defaultReturnFormat)})}function sP(t,e){return Pt(this,arguments,void 0,function*(n,r,s=n.defaultReturnFormat){const i=we({format:"bytes32"},r,kn),a=yield i8(n.requestManager,i);return le(a)?a:$n(a,s,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})})}function oP(t,e){return Pt(this,void 0,void 0,function*(){return(yield b8(t.requestManager)).map(r=>$n(r,e??t.defaultReturnFormat,{transactionSchema:t.config.customTransactionSchema,fillInputAndData:!0}))})}function aP(t){return Pt(this,arguments,void 0,function*(e,n=e.defaultBlock,r,s){const i=we({format:"uint"},r,Ye);let a;if(Li(n)){const o=we({format:"bytes32"},n,Ye);a=yield s8(e.requestManager,o,i)}else{const o=dn(n)?n:we({format:"uint"},n,Ye);a=yield o8(e.requestManager,o,i)}return le(a)?a:$n(a,s??e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})})}function ob(t,e,n){return Pt(this,void 0,void 0,function*(){const r=we({format:"bytes32"},e,kn);let s;try{s=yield a8(t.requestManager,r)}catch(i){if(typeof i=="object"&&!le(i)&&"message"in i&&i.message==="transaction indexing is in progress")console.warn("Transaction indexing is in progress.");else throw i}return le(s)?s:we(Yo,s,n??t.defaultReturnFormat)})}function ab(t,e){return Pt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=dn(s)?s:we({format:"uint"},s,Ye),o=yield VC(n.requestManager,r,a);return we({format:"uint"},o,i??n.defaultReturnFormat)})}function oc(t,e,n,r={checkRevertBeforeSending:!0},s){const i=new Ew((a,o)=>{setImmediate(()=>{Pt(this,void 0,void 0,function*(){const f=new ib({web3Context:t,promiEvent:i,options:r,returnFormat:n});let d=Object.assign({},e);le(s)||(d=yield s.processTransaction(d));let p=$n(Object.assign(Object.assign({},d),{from:qd("from",t,d),to:qd("to",t,d)}),Ye,{transactionSchema:t.config.customTransactionSchema});try{p=yield f.populateGasPrice({transaction:d,transactionFormatted:p}),yield f.checkRevertBeforeSending(p),f.emitSending(p);let y;t.wallet&&!le(p.from)&&(y=t.wallet.get(p.from));const B=yield f.signAndSend({wallet:y,tx:p}),x=we({format:"bytes32"},B,n??t.defaultReturnFormat);f.emitSent(p),f.emitTransactionHash(x);const M=yield Nw(t,B,n??t.defaultReturnFormat),I=f.getReceiptWithEvents(we(Yo,M,n??t.defaultReturnFormat));f.emitReceipt(I),a(yield f.handleResolve({receipt:I,tx:p})),f.emitConfirmation({receipt:I,transactionHash:B})}catch(y){o(yield f.handleError({error:y,tx:p}))}})})});return i}function cP(t,e,n,r={checkRevertBeforeSending:!0}){const s=new Ew((i,a)=>{setImmediate(()=>{Pt(this,void 0,void 0,function*(){const o=new ib({web3Context:t,promiEvent:s,options:r,returnFormat:n}),f=we({format:"bytes"},e,Ye),d=Ls.fromSerializedData(Rr($t(f))),p=Object.assign(Object.assign({},d.toJSON()),{from:d.getSenderAddress().toString()});try{const{v:y,r:B,s:x}=p,M=Q6(p,["v","r","s"]);yield o.checkRevertBeforeSending(M),o.emitSending(f);const I=yield zd(t,()=>Pt(this,void 0,void 0,function*(){return Iw(t.requestManager,f)}));o.emitSent(f);const R=we({format:"bytes32"},I,n??t.defaultReturnFormat);o.emitTransactionHash(R);const N=yield Nw(t,I,n??t.defaultReturnFormat),D=o.getReceiptWithEvents(we(Yo,N,n??t.defaultReturnFormat));o.emitReceipt(D),i(yield o.handleResolve({receipt:D,tx:p})),o.emitConfirmation({receipt:D,transactionHash:I})}catch(y){a(yield o.handleError({error:y,tx:p}))}})})});return s}function uP(t,e,n){return Pt(this,arguments,void 0,function*(r,s,i,a=r.defaultReturnFormat){var o;const f=we({format:"bytes"},s,kn);if(!((o=r.wallet)===null||o===void 0)&&o.get(i)){const y=r.wallet.get(i).sign(f);return we(W8,y,a)}if(typeof i=="number")throw new uk(s,'RPC method "eth_sign" does not support index signatures');const d=yield JC(r.requestManager,i,f);return we({format:"bytes"},d,a)})}function lP(t,e){return Pt(this,arguments,void 0,function*(n,r,s=n.defaultReturnFormat){const i=yield XC(n.requestManager,$n(r,Ye,{transactionSchema:n.config.customTransactionSchema}));return Dh(i)?Y8(i,s,{fillInputAndData:!0}):{raw:we({format:"bytes"},i.raw,s),tx:$n(i.tx,s,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})}})}function I0(t,e){return Pt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i=n.defaultReturnFormat){const a=dn(s)?s:we({format:"uint"},s,Ye),o=yield t8(n.requestManager,$n(r,Ye,{transactionSchema:n.config.customTransactionSchema}),a);return we({format:"bytes"},o,i)})}function S0(t,e){return Pt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=$n(r,Ye,{transactionSchema:n.config.customTransactionSchema}),o=dn(s)?s:we({format:"uint"},s,Ye),f=yield n8(n.requestManager,a,o);return we({format:"uint"},f,i??n.defaultReturnFormat)})}function cb(t,e,n){return Pt(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:s}=e;le(r)||(typeof r=="number"||typeof r=="bigint")&&(r=cn(r)),le(s)||(typeof s=="number"||typeof s=="bigint")&&(s=cn(s));const i=Object.assign(Object.assign({},e),{fromBlock:s,toBlock:r});return(yield g8(t.requestManager,i)).map(f=>typeof f=="string"?f:we(Zo,f,n??t.defaultReturnFormat))})}function ub(t,e){return Pt(this,void 0,void 0,function*(){const n=yield A8(t.requestManager);return we({format:"uint"},n,e??t.defaultReturnFormat)})}function fP(t,e,n){return Pt(this,arguments,void 0,function*(r,s,i,a=r.defaultBlock,o){const f=i.map(y=>we({format:"bytes"},y,Ye)),d=dn(a)?a:we({format:"uint"},a,Ye),p=yield E8(r.requestManager,s,f,d);return we(Z8,p,o??r.defaultReturnFormat)})}function dP(t,e){return Pt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i,a){const o=we({format:"uint"},r,Ye),f=dn(s)?s:we({format:"uint"},s,Ye),d=we({type:"array",items:{format:"uint"}},i,Kl),p=yield w8(n.requestManager,o,f,d);return we(K8,p,a??n.defaultReturnFormat)})}function lb(t,e){return Pt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=dn(s)?s:we({format:"uint"},s,Ye),o=yield I8(n.requestManager,$n(r,Ye,{transactionSchema:n.config.customTransactionSchema}),a);return we(q8,o,i??n.defaultReturnFormat)})}function hP(t,e,n,r,s){return Pt(this,void 0,void 0,function*(){const i=yield S8(t.requestManager,e,n,r);return we({format:"bytes"},i,s??t.defaultReturnFormat)})}var Jo=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};function pP(t,e){return Jo(this,void 0,void 0,function*(){const n=yield d8(t.requestManager);return we({format:"uint"},n,e??t.defaultReturnFormat)})}function mP(t,e,n){return Jo(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:s}=e;le(r)||(typeof r=="number"||typeof r=="bigint")&&(r=cn(r)),le(s)||(typeof s=="number"||typeof s=="bigint")&&(s=cn(s));const i=Object.assign(Object.assign({},e),{fromBlock:s,toBlock:r}),a=yield l8(t.requestManager,i);return we({format:"uint"},a,n??t.defaultReturnFormat)})}function gP(t,e){return Jo(this,void 0,void 0,function*(){const n=yield f8(t.requestManager);return we({format:"uint"},n,e??t.defaultReturnFormat)})}function yP(t,e){return Jo(this,void 0,void 0,function*(){return yield h8(t.requestManager,cn(e))})}function vP(t,e,n){return Jo(this,void 0,void 0,function*(){return(yield p8(t.requestManager,cn(e))).map(i=>typeof i=="string"?i:we(Zo,i,n??t.defaultReturnFormat))})}function wP(t,e,n){return Jo(this,void 0,void 0,function*(){return(yield m8(t.requestManager,cn(e))).map(i=>typeof i=="string"?i:we(Zo,i,n??t.defaultReturnFormat))})}class fb extends xc{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return we(Zo,e,super.returnFormat)}}class tg extends xc{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(e){return we({format:"string"},e,super.returnFormat)}}class il extends xc{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(e){return we(z8,e,super.returnFormat)}}class db extends xc{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if(typeof e=="boolean")this.emit("changed",e);else{const n=Object.fromEntries(Object.entries(e?.status||e).map(([r,s])=>[r.charAt(0).toLowerCase()+r.substring(1),s]));this.emit("changed",e.syncing),this.emit("data",we(V8,n,super.returnFormat))}}}var Je=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const Yd={logs:fb,newPendingTransactions:tg,newHeads:il,syncing:db,pendingTransactions:tg,newBlockHeaders:il};class Jl extends Hn{constructor(e){if(typeof e=="string"||Qu(e)){super({provider:e,registeredSubscriptions:Yd});return}if(e.registeredSubscriptions){super(e);return}super(Object.assign(Object.assign({},e),{registeredSubscriptions:Yd})),this.getFeeData=this.calculateFeeData}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}getProtocolVersion(){return Je(this,void 0,void 0,function*(){return OC(this.requestManager)})}isSyncing(){return Je(this,void 0,void 0,function*(){return xw(this.requestManager)})}getCoinbase(){return Je(this,void 0,void 0,function*(){return FC(this.requestManager)})}isMining(){return Je(this,void 0,void 0,function*(){return DC(this.requestManager)})}getHashrate(e){return Je(this,void 0,void 0,function*(){var n;return e===void 0&&(e=(n=this.defaultReturnFormat)!==null&&n!==void 0?n:kn),this.getHashRate(e)})}getHashRate(){return Je(this,arguments,void 0,function*(e=this.defaultReturnFormat){return Y6(this,e)})}getGasPrice(){return Je(this,arguments,void 0,function*(e=this.defaultReturnFormat){return E0(this,e)})}getMaxPriorityFeePerGas(){return Je(this,arguments,void 0,function*(e=this.defaultReturnFormat){return J6(this,e)})}calculateFeeData(){return Je(this,arguments,void 0,function*(e=BigInt(2),n=Fl.Gwei){var r;const s=yield this.getBlock(void 0,!1),i=(r=s?.baseFeePerGas)!==null&&r!==void 0?r:void 0;let a;try{a=yield this.getGasPrice()}catch{}let o;try{o=yield this.getMaxPriorityFeePerGas()}catch{}let f;if(i){o=o??n;let d;typeof e=="number"?d=BigInt(Math.floor(e*1e3))/BigInt(1e3):d=e,f=i*d+o}return{gasPrice:a,maxFeePerGas:f,maxPriorityFeePerGas:o,baseFeePerGas:i}})}getAccounts(){return Je(this,void 0,void 0,function*(){var e;return((e=yield GC(this.requestManager))!==null&&e!==void 0?e:[]).map(r=>Cr(r))})}getBlockNumber(){return Je(this,arguments,void 0,function*(e=this.defaultReturnFormat){return x0(this,e)})}getBalance(e){return Je(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return X6(this,n,r,s)})}getStorageAt(e,n){return Je(this,arguments,void 0,function*(r,s,i=this.defaultBlock,a=this.defaultReturnFormat){return eP(this,r,s,i,a)})}getCode(e){return Je(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return tP(this,n,r,s)})}getBlock(){return Je(this,arguments,void 0,function*(e=this.defaultBlock,n=!1,r=this.defaultReturnFormat){return sb(this,e,n,r)})}getBlockTransactionCount(){return Je(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return nP(this,e,n)})}getBlockUncleCount(){return Je(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return rP(this,e,n)})}getUncle(){return Je(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return iP(this,e,n,r)})}getTransaction(e){return Je(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const s=yield sP(this,n,r);if(!s)throw new sm;return s})}getPendingTransactions(){return Je(this,arguments,void 0,function*(e=this.defaultReturnFormat){return oP(this,e)})}getTransactionFromBlock(){return Je(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return aP(this,e,n,r)})}getTransactionReceipt(e){return Je(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const s=yield ob(this,n,r);if(!s)throw new sm;return s})}getTransactionCount(e){return Je(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return ab(this,n,r,s)})}sendTransaction(e,n=this.defaultReturnFormat,r){return oc(this,e,n,r,this.transactionMiddleware)}sendSignedTransaction(e,n=this.defaultReturnFormat,r){return cP(this,e,n,r)}sign(e,n){return Je(this,arguments,void 0,function*(r,s,i=this.defaultReturnFormat){return uP(this,r,s,i)})}signTransaction(e){return Je(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return lP(this,n,r)})}call(e){return Je(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return I0(this,n,r,s)})}estimateGas(e){return Je(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return S0(this,n,r,s)})}getPastLogs(e){return Je(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return cb(this,n,r)})}getWork(){return Je(this,void 0,void 0,function*(){return y8(this.requestManager)})}submitWork(e,n,r){return Je(this,void 0,void 0,function*(){return v8(this.requestManager,e,n,r)})}requestAccounts(){return Je(this,void 0,void 0,function*(){return _8(this.requestManager)})}getChainId(){return Je(this,arguments,void 0,function*(e=this.defaultReturnFormat){return ub(this,e)})}getNodeInfo(){return Je(this,void 0,void 0,function*(){return x8(this.requestManager)})}getProof(e,n){return Je(this,arguments,void 0,function*(r,s,i=this.defaultBlock,a=this.defaultReturnFormat){return fP(this,r,s,i,a)})}getFeeHistory(e){return Je(this,arguments,void 0,function*(n,r=this.defaultBlock,s,i=this.defaultReturnFormat){return dP(this,n,r,s,i)})}createAccessList(e){return Je(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return lb(this,n,r,s)})}signTypedData(e,n,r,s){return Je(this,void 0,void 0,function*(){var i;return r===void 0&&(r=!1),s===void 0&&(s=(i=this.defaultReturnFormat)!==null&&i!==void 0?i:kn),hP(this,e,n,r,s)})}subscribe(e,n,r){return Je(this,void 0,void 0,function*(){var s,i;r===void 0&&(r=(s=this.defaultReturnFormat)!==null&&s!==void 0?s:kn);const a=yield(i=this.subscriptionManager)===null||i===void 0?void 0:i.subscribe(e,n,r);return a instanceof fb&&e==="logs"&&typeof n=="object"&&!je(n.fromBlock)&&Number.isFinite(Number(n.fromBlock))&&setImmediate(()=>{this.getPastLogs(n).then(o=>{for(const f of o)a._processSubscriptionResult(f)}).catch(o=>{a._processSubscriptionError(o)})}),a})}static shouldClearSubscription({sub:e}){return!(e instanceof db)}clearSubscriptions(e=!1){var n;return(n=this.subscriptionManager)===null||n===void 0?void 0:n.unsubscribe(e?Jl.shouldClearSubscription:void 0)}createNewPendingTransactionFilter(){return Je(this,arguments,void 0,function*(e=this.defaultReturnFormat){return pP(this,e)})}createNewFilter(e){return Je(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return mP(this,n,r)})}createNewBlockFilter(){return Je(this,arguments,void 0,function*(e=this.defaultReturnFormat){return gP(this,e)})}uninstallFilter(e){return Je(this,void 0,void 0,function*(){return yP(this,e)})}getFilterChanges(e){return Je(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return vP(this,n,r)})}getFilterLogs(e){return Je(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return wP(this,n,r)})}}const bP=t=>{if(!le(t.common)){if(le(t.common.customChain))throw new hk;if(le(t.common.customChain.chainId))throw new pk;if(!le(t.chainId)&&t.chainId!==t.common.customChain.chainId)throw new mk({txChainId:t.chainId,customChainId:t.common.customChain.chainId})}},_P=t=>{if(!le(t.common)&&!le(t.chain)&&!le(t.hardfork))throw new vk;if(!le(t.chain)&&le(t.hardfork)||!le(t.hardfork)&&le(t.chain))throw new wk({chain:t.chain,hardfork:t.hardfork})},AP=t=>{if(!le(t.common)&&!le(t.common.baseChain)&&!le(t.chain)&&t.chain!==t.common.baseChain)throw new gk({txChain:t.chain,baseChain:t.common.baseChain})},EP=t=>{if(!le(t.common)&&!le(t.common.hardfork)&&!le(t.hardfork)&&t.hardfork!==t.common.hardfork)throw new yk({txHardfork:t.hardfork,commonHardfork:t.common.hardfork})},ng=t=>{if(le(t.gas)||!ii(t.gas)||le(t.gasPrice)||!ii(t.gasPrice))throw new xk({gas:t.gas,gasPrice:t.gasPrice});if(!le(t.maxFeePerGas)||!le(t.maxPriorityFeePerGas))throw new Vy({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas})},rg=t=>{if(!le(t.gasPrice)&&t.type==="0x2")throw new Sk(t.gasPrice);if(t.type==="0x0"||t.type==="0x1")throw new Vy({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas});if(le(t.maxFeePerGas)||!ii(t.maxFeePerGas)||le(t.maxPriorityFeePerGas)||!ii(t.maxPriorityFeePerGas))throw new Ik({maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},xP=t=>{const e=!le(t.gas)||!le(t.gasLimit),n=e&&!le(t.gasPrice),r=e&&!le(t.maxPriorityFeePerGas)&&!le(t.maxFeePerGas);if(!n&&!r)throw new _k({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});if(n&&r)throw new Ek({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});(n?ng:rg)(t),(!le(t.type)&&t.type>"0x1"?rg:ng)(t)},IP=(t,e,n={transactionSchema:void 0})=>{if(!le(e)){e(t);return}if(typeof t!="object"||le(t))throw new Bk(t);bP(t),_P(t),AP(t),EP(t);const r=$n(t,Ye,{transactionSchema:n.transactionSchema});if(xP(r),le(r.nonce)||le(r.chainId)||r.nonce.startsWith("-")||r.chainId.startsWith("-"))throw new kk({nonce:t.nonce,chainId:t.chainId})};var SP=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const BP=t=>{var e,n;return Object.assign(Object.assign({},t),{nonce:t.nonce,gasPrice:t.gasPrice,gasLimit:(e=t.gasLimit)!==null&&e!==void 0?e:t.gas,to:t.to,value:t.value,data:(n=t.data)!==null&&n!==void 0?n:t.input,type:t.type,chainId:t.chainId,accessList:t.accessList,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},kP=(t,e)=>{var n,r,s,i,a,o,f,d,p,y,B,x,M,I,R,N,D,U;const K=!le(t.chain)&&!le(t.hardfork)||!le(t.common);let j;if(!K)e.defaultCommon?(j=Object.assign({},e.defaultCommon),le(j.hardfork)&&(j.hardfork=(n=t.hardfork)!==null&&n!==void 0?n:e.defaultHardfork),le(j.baseChain)&&(j.baseChain=e.defaultChain)):j=an.custom({name:"custom-network",chainId:Un(t.chainId),networkId:le(t.networkId)?void 0:Un(t.networkId),defaultHardfork:(r=t.hardfork)!==null&&r!==void 0?r:e.defaultHardfork},{baseChain:e.defaultChain});else{const J=(o=(a=(i=(s=t?.common)===null||s===void 0?void 0:s.customChain)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:t.chain)!==null&&o!==void 0?o:"custom-network",ne=Un((p=(d=(f=t?.common)===null||f===void 0?void 0:f.customChain)===null||d===void 0?void 0:d.chainId)!==null&&p!==void 0?p:t?.chainId),X=Un((x=(B=(y=t?.common)===null||y===void 0?void 0:y.customChain)===null||B===void 0?void 0:B.networkId)!==null&&x!==void 0?x:t?.networkId),Z=(R=(I=(M=t?.common)===null||M===void 0?void 0:M.hardfork)!==null&&I!==void 0?I:t?.hardfork)!==null&&R!==void 0?R:e.defaultHardfork,G=(U=(D=(N=t.common)===null||N===void 0?void 0:N.baseChain)!==null&&D!==void 0?D:t.chain)!==null&&U!==void 0?U:e.defaultChain;ne&&X&&J&&(j=an.custom({name:J,chainId:ne,networkId:X,defaultHardfork:Z},{baseChain:G}))}return{common:j}},TP=(t,e,n,...r)=>SP(void 0,[t,e,n,...r],void 0,function*(s,i,a,o=!1,f=!0){const d=yield r6({transaction:s,web3Context:i,privateKey:a,fillGasPrice:o,fillGasLimit:f}),p=$n(d,Ye,{transactionSchema:i.config.customTransactionSchema});return IP(p,void 0,{transactionSchema:i.config.customTransactionSchema}),Ls.fromTxData(BP(p),kP(p,i))}),ig=({address:t},e,n)=>{var r,s;const i=n?.topics,a=(r=n?.filter)!==null&&r!==void 0?r:{},o={};if(je(n?.fromBlock)||(o.fromBlock=we(el.properties.number,n?.fromBlock,{number:nr.HEX,bytes:ni.HEX})),je(n?.toBlock)||(o.toBlock=we(el.properties.number,n?.toBlock,{number:nr.HEX,bytes:ni.HEX})),i&&Array.isArray(i))o.topics=[...i];else if(o.topics=[],e&&!e.anonymous&&![Ho,"allEvents"].includes(e.name)&&o.topics.push((s=e.signature)!==null&&s!==void 0?s:v0(ei(e))),![Ho,"allEvents"].includes(e.name)&&e.inputs)for(const f of e.inputs){if(!f.indexed)continue;const d=a[f.name];if(!d){o.topics.push(null);continue}Array.isArray(d)?o.topics.push(d.map(p=>Qd(f.type,p))):f.type==="string"?o.topics.push(No(d)):o.topics.push(Qd(f.type,d))}return o.topics.length||delete o.topics,t&&(o.address=t.toLowerCase()),o},Ca=(t,e,n)=>{const r=Array.isArray(t.inputs)?t.inputs.length:0;if(t.inputs&&r!==e.length)throw new Tn(`The number of arguments is not matching the methods required number. You need to pass ${r} arguments.`);let s;if(t.inputs?s=Yl(Array.isArray(t.inputs)?t.inputs:[],e).replace("0x",""):s=$6(e).replace("0x",""),u6(t)){if(!n)throw new Tn("The contract has no contract data option set. This is necessary to append the constructor parameters.");return n.startsWith("0x")?`${n}${s}`:`0x${n}${s}`}return`${sc(t)}${s}`};class hb extends xc{constructor(e,n){super(e,n),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(e){return A0(this.abi,e,this.jsonInterface,super.returnFormat)}}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));const Xl=(t,e,n,r)=>{var s,i;const a={};return(!je(t.data)||r==="both")&&(a.data=Ca(e,n,(s=t.data)!==null&&s!==void 0?s:t.input)),(!je(t.input)||r==="both")&&(a.input=Ca(e,n,(i=t.input)!==null&&i!==void 0?i:t.data)),je(a.input)&&je(a.data)&&(a[r]=Ca(e,n)),{data:a.data,input:a.input}},Jd=({abi:t,params:e,options:n,contractOptions:r})=>{var s,i,a;if(!((a=(i=(s=n?.input)!==null&&s!==void 0?s:n?.data)!==null&&i!==void 0?i:r.input)!==null&&a!==void 0?a:r.data)&&!n?.to&&!r.address)throw new Tn("Contract address not specified");if(!n?.from&&!r.from)throw new Tn('Contract "from" address not specified');let f=Fi({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const d=Xl(f,t,e,n?.dataInputFill);return f=Object.assign(Object.assign({},f),{data:d.data,input:d.input}),f},RP=({abi:t,params:e,options:n,contractOptions:r})=>{if(!n?.to&&!r.address)throw new Tn("Contract address not specified");let s=Fi({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const i=Xl(s,t,e,n?.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s},MP=({abi:t,params:e,options:n,contractOptions:r})=>{let s=Fi({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,data:r.data},n);const i=Xl(s,t,e,n?.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s},sg=t=>typeof t=="object"&&!je(t)&&Object.keys(t).length!==0&&!wi(t),CP=({abi:t,params:e,options:n,contractOptions:r})=>{if(!n?.to&&!r.address)throw new Tn("Contract address not specified");if(!n?.from&&!r.from)throw new Tn('Contract "from" address not specified');let s=Fi({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const i=Xl(s,t,e,n?.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s};var PP=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class NP{_contractMethodDeploySend(e){const n={transactionResolver:r=>{if(r.status===BigInt(0))throw new Tn("code couldn't be stored",r);const s=this.parent.clone();return s.options.address=r.contractAddress,s},contractAbi:this.parent.options.jsonInterface,checkRevertBeforeSending:!1};return le(this.parent.getTransactionMiddleware())?oc(this.parent,e,this.parent.defaultReturnFormat,n):oc(this.parent,e,this.parent.defaultReturnFormat,n,this.parent.getTransactionMiddleware())}constructor(e,n){this.parent=e,this.deployOptions=n;const{args:r,abi:s,contractOptions:i,deployData:a}=this.calculateDeployParams();this.args=r,this.constructorAbi=s,this.contractOptions=i,this.deployData=a}send(e){const n=Object.assign({},e),r=this.populateTransaction(n);return this._contractMethodDeploySend(r)}populateTransaction(e){var n,r;const s=Object.assign(Object.assign({},this.contractOptions),{from:(r=(n=this.contractOptions.from)!==null&&n!==void 0?n:this.parent.defaultAccount)!==null&&r!==void 0?r:void 0}),i=Jd({abi:this.constructorAbi,params:this.args,options:Object.assign(Object.assign({},e),{dataInputFill:this.parent.contractDataInputFill}),contractOptions:s});return i.dataInputFill&&delete i.dataInputFill,i}calculateDeployParams(){var e,n,r,s,i,a;let o=this.parent.options.jsonInterface.find(x=>x.type==="constructor");o||(o={type:"constructor",stateMutability:""});const f=we({format:"bytes"},(n=(e=this.deployOptions)===null||e===void 0?void 0:e.input)!==null&&n!==void 0?n:this.parent.options.input,kn),d=we({format:"bytes"},(s=(r=this.deployOptions)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:this.parent.options.data,kn);if((!f||f.trim()==="0x")&&(!d||d.trim()==="0x"))throw new Tn("contract creation without any data provided.");const p=(a=(i=this.deployOptions)===null||i===void 0?void 0:i.arguments)!==null&&a!==void 0?a:[],y=Object.assign(Object.assign({},this.parent.options),{input:f,data:d});return{args:p,abi:o,contractOptions:y,deployData:f??d}}estimateGas(e){return PP(this,arguments,void 0,function*(n,r=this.parent.defaultReturnFormat){const s=Object.assign({},n);return this.parent.contractMethodEstimateGas({abi:this.constructorAbi,params:this.args,returnFormat:r,options:s,contractOptions:this.contractOptions})})}encodeABI(){return Ca(this.constructorAbi,this.args,we({format:"bytes"},this.deployData,this.parent.defaultReturnFormat))}decodeData(e){return Object.assign(Object.assign({},Zd(this.constructorAbi,e.replace(this.deployData,""),!1)),{__method__:this.constructorAbi.type})}}var LP=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class OP extends Zu{constructor(e,n){super(e.requestManager,e.registeredSubscriptions),this.parentContract=n}subscribe(e,n){const r=Object.create(null,{subscribe:{get:()=>super.subscribe}});return LP(this,arguments,void 0,function*(s,i,a=kn){return r.subscribe.call(this,s,i??this.parentContract.options,a)})}}var is=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const FP={logs:hb,newHeads:il,newBlockHeaders:il};class Es extends Hn{get subscriptionManager(){return this._subscriptionManager}constructor(e,n,r,s,i){var a,o,f;const d=wi(n)?n:wi(r)?r:void 0;let p;sg(n)?p=n:sg(r)?p=r:p=s;let y;if(typeof n=="object"&&"provider"in n?y=n.provider:typeof r=="object"&&"provider"in r?y=r.provider:typeof s=="object"&&"provider"in s?y=s.provider:y=Es.givenProvider,super(Object.assign(Object.assign({},p),{provider:y,registeredSubscriptions:FP})),this.syncWithContext=!1,this._functions={},this._subscriptionManager=new OP(super.subscriptionManager,this),p?.wallet&&(this._wallet=p.wallet),p?.accountProvider&&(this._accountProvider=p.accountProvider),!le(d)&&!le(d.data)&&!le(d.input)&&this.config.contractDataInputFill!=="both")throw new rk({data:d.data,input:d.input});this._overloadedMethodAbis=new Map;const B=zr(s)?s:zr(r)?r:i??this.defaultReturnFormat,x=typeof n=="string"?n:void 0;this.config.contractDataInputFill=(a=d?.dataInputFill)!==null&&a!==void 0?a:this.config.contractDataInputFill,this._parseAndSetJsonInterface(e,B),this.defaultReturnFormat!==B&&(this.defaultReturnFormat=B),le(x)||this._parseAndSetAddress(x,B),this.options={address:x,jsonInterface:this._jsonInterface,gas:(o=d?.gas)!==null&&o!==void 0?o:d?.gasLimit,gasPrice:d?.gasPrice,from:d?.from,input:d?.input,data:d?.data},this.syncWithContext=(f=d?.syncWithContext)!==null&&f!==void 0?f:!1,p instanceof Hn&&this.subscribeToContextEvents(p),Object.defineProperty(this.options,"address",{set:M=>this._parseAndSetAddress(M,B),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:M=>this._parseAndSetJsonInterface(M,B),get:()=>this._jsonInterface}),p instanceof Hn&&p.on(Ps.CONFIG_CHANGE,M=>{this.setConfig({[M.name]:M.newValue})})}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}get events(){return this._events}get methods(){return this._methods}clone(){let e;return this.options.address?e=new Es([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):e=new Es([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){return new NP(this,e)}getPastEvents(e,n,r){return is(this,void 0,void 0,function*(){var s;const i=typeof e=="string"?e:Ho,a=typeof e!="string"&&!zr(e)?e:zr(n)?{}:n,o=zr(e)?e:zr(n)?n:r??this.defaultReturnFormat,f=i==="allEvents"||i===Ho?Gd:this._jsonInterface.find(N=>"name"in N&&N.name===i);if(!f)throw new Tn(`Event ${String(i)} not found.`);const{fromBlock:d,toBlock:p,topics:y,address:B}=ig(this.options,f,a??{}),x=yield cb(this,{fromBlock:d,toBlock:p,topics:y,address:B},o),M=x?x.map(N=>typeof N=="string"?N:A0(f,N,this._jsonInterface,o)):[],I=(s=a?.filter)!==null&&s!==void 0?s:{},R=Object.keys(I);return R.length>0?M.filter(N=>typeof N=="string"?!0:R.every(D=>{var U;if(Array.isArray(I[D]))return I[D].some(j=>String(N.returnValues[D]).toUpperCase()===String(j).toUpperCase());const K=(U=f.inputs)===null||U===void 0?void 0:U.filter(j=>j.name===D)[0];return K?.indexed&&K.type==="string"&&No(I[D])===String(N.returnValues[D])?!0:String(N.returnValues[D]).toUpperCase()===String(I[D]).toUpperCase()})):M})}_parseAndSetAddress(e,n=this.defaultReturnFormat){this._address=e&&Cr(we({format:"address"},e,n))}decodeMethodData(e){const n=e.slice(0,10),s=this._jsonInterface.filter(i=>i.type!=="error").find(i=>n===sc(ei(i)));if(!s)throw new Tn(`The ABI for the provided method signature ${n} was not found.`);return Zd(s,e)}_parseAndSetJsonInterface(e,n=this.defaultReturnFormat){var r,s;this._functions={},this._methods={},this._events={};let i=[];const a=e.filter(f=>f.type!=="error"),o=e.filter(f=>Ql(f));for(const f of a){const d=Object.assign(Object.assign({},f),{signature:""});if(Zl(d)){const p=ei(d),y=sc(p);d.methodNameWithInputs=p,d.signature=y,d.constant=d.stateMutability==="view"||d.stateMutability==="pure"||d.constant,d.payable=d.stateMutability==="payable"||d.payable,this._overloadedMethodAbis.set(d.name,[...(r=this._overloadedMethodAbis.get(d.name))!==null&&r!==void 0?r:[],d]);const B=(s=this._overloadedMethodAbis.get(d.name))!==null&&s!==void 0?s:[],x=this._createContractMethod(B,o),M=this._createContractMethod(B,o,!0);this._functions[p]={signature:y,method:M},this._methods[d.name]=x,this._methods[p]=M,this._methods[y]=M}else if(y0(d)){const p=ei(d),y=v0(p),B=this._createContractEvent(d,n);d.signature=y,(!(p in this._events)||d.name==="bound")&&(this._events[p]=B),this._events[d.name]=B,this._events[y]=B}i=[...i,d]}this._events.allEvents=this._createContractEvent(Gd,n),this._jsonInterface=[...i],this._errorsInterface=o}_getAbiParams(e,n){var r;try{return Ma((r=e.inputs)!==null&&r!==void 0?r:[],n)}catch(s){throw new Tn(`Invalid parameters for method ${e.name}: ${s.message}`)}}_createContractMethod(e,n,r=!1){const s=e[e.length-1];return(...i)=>{var a,o,f;let d;const p=(o=r?(a=this._overloadedMethodAbis.get(s.name))===null||a===void 0?void 0:a.filter(I=>I.signature===s.signature):this._overloadedMethodAbis.get(s.name))!==null&&o!==void 0?o:[];let y=p[0];const B=n,x=p.filter(I=>{var R;return((R=I.inputs)!==null&&R!==void 0?R:[]).length===i.length});if(p.length===1||x.length===0)d=this._getAbiParams(y,i),Ge.validate((f=s.inputs)!==null&&f!==void 0?f:[],d);else{const I=[],R=[];for(const N of x)try{d=this._getAbiParams(N,i),Ge.validate(N.inputs,d),R.push(N)}catch(D){I.push(D)}if(R.length===1?[y]=R:R.length>1&&([y]=R,console.warn(`Multiple methods found that is compatible with the given inputs.
	Found ${R.length} compatible methods: ${JSON.stringify(R.map(N=>`${N.methodNameWithInputs} (signature: ${N.signature})`))} 
	The first one will be used: ${y.methodNameWithInputs}`)),I.length===x.length)throw new Mo(I)}const M={arguments:d,call:(I,R)=>is(this,void 0,void 0,function*(){return this._contractMethodCall(y,d,B,I,R)}),send:I=>this._contractMethodSend(y,d,B,I),populateTransaction:(I,R)=>{var N,D;let U=R??this.options;U=Object.assign(Object.assign({},U),{input:void 0,from:(D=(N=U?.from)!==null&&N!==void 0?N:this.defaultAccount)!==null&&D!==void 0?D:void 0});const K=Jd({abi:s,params:i,options:Object.assign(Object.assign({},I),{dataInputFill:this.config.contractDataInputFill}),contractOptions:U});return K.dataInputFill&&delete K.dataInputFill,K},estimateGas:(I,...R)=>is(this,[I,...R],void 0,function*(N,D=this.defaultReturnFormat){return this.contractMethodEstimateGas({abi:y,params:d,returnFormat:D,options:N})}),encodeABI:()=>Ca(y,d),decodeData:I=>Zd(y,I),createAccessList:(I,R)=>is(this,void 0,void 0,function*(){return this._contractMethodCreateAccessList(y,d,B,I,R)})};return y.stateMutability==="payable",M}}_contractMethodCall(e,n,r,s,i){return is(this,void 0,void 0,function*(){var a;const o=RP({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(a=this.options.from)!==null&&a!==void 0?a:this.config.defaultAccount})});try{const f=yield I0(this,o,i,this.defaultReturnFormat);return q6(e,f)}catch(f){throw f instanceof vs&&iu(r,f.cause),f}})}_contractMethodCreateAccessList(e,n,r,s,i){return is(this,void 0,void 0,function*(){var a;const o=CP({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(a=this.options.from)!==null&&a!==void 0?a:this.config.defaultAccount})});try{return lb(this,o,i,this.defaultReturnFormat)}catch(f){throw f instanceof vs&&iu(r,f.cause),f}})}_contractMethodSend(e,n,r,s,i){var a,o;let f=i??this.options;f=Object.assign(Object.assign({},f),{input:void 0,from:(o=(a=f.from)!==null&&a!==void 0?a:this.defaultAccount)!==null&&o!==void 0?o:void 0});const d=Jd({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:f}),p=le(this.transactionMiddleware)?oc(this,d,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface}):oc(this,d,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface},this.transactionMiddleware);return p.on("error",y=>{y instanceof vs&&iu(r,y.cause)}),p}contractMethodEstimateGas(e){return is(this,arguments,void 0,function*({abi:n,params:r,returnFormat:s,options:i,contractOptions:a}){const o=MP({abi:n,params:r,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:a??this.options});return S0(this,o,Kr.LATEST,s??this.defaultReturnFormat)})}_createContractEvent(e,n=this.defaultReturnFormat){return(...r)=>{var s;const{topics:i,fromBlock:a}=ig(this.options,e,r[0]),o=new hb({address:this.options.address,topics:i,abi:e,jsonInterface:this._jsonInterface},{subscriptionManager:this.subscriptionManager,returnFormat:n});return le(a)||this.getPastEvents(e.name,{fromBlock:a,topics:i},n).then(f=>{f&&f.forEach(d=>o.emit("data",d))}).catch(f=>{o.emit("error",new Gr("Failed to get past events.",f))}),(s=this.subscriptionManager)===null||s===void 0||s.addSubscription(o).catch(f=>{o.emit("error",new Gr("Failed to subscribe.",f))}),o}}subscribeToContextEvents(e){const n=this;this.context=e,n.syncWithContext&&e.on(Ps.CONFIG_CHANGE,r=>{n.setConfig({[r.name]:r.newValue})})}}const og={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},Ys={setAddr:"addr",addr:"addr",pubkey:"pubkey",contenthash:"contenthash",text:"text",name:"name"},sl={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},DP={"0x1":"main","0x5":"goerli"},UP=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],HP=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"}];var $P="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const ag=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),cg=4;function GP(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,i=[0,1];for(let j=1;j<r;j++)i.push(s+=n());let a=n(),o=e;e+=a;let f=0,d=0;function p(){return f==0&&(d=d<<8|t[e++],f=8),d>>--f&1}const y=31,B=2**y,x=B>>>1,M=x>>1,I=B-1;let R=0;for(let j=0;j<y;j++)R=R<<1|p();let N=[],D=0,U=B;for(;;){let j=Math.floor(((R-D+1)*s-1)/U),J=0,ne=r;for(;ne-J>1;){let G=J+ne>>>1;j<i[G]?ne=G:J=G}if(J==0)break;N.push(J);let X=D+Math.floor(U*i[J]/s),Z=D+Math.floor(U*i[J+1]/s)-1;for(;((X^Z)&x)==0;)R=R<<1&I|p(),X=X<<1&I,Z=Z<<1&I|1;for(;X&~Z&M;)R=R&x|R<<1&I>>>1|p(),X=X<<1^x,Z=(Z^x)<<1|x|1;D=X,U=1+Z-X}let K=r-4;return N.map(j=>{switch(j-K){case 3:return K+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return K+256+(t[o++]<<8|t[o++]);case 1:return K+t[o++];default:return j-1}})}function qP(t){let e=0;return()=>t[e++]}function pb(t){return qP(GP(jP(t)))}function jP(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let n=t.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,a=0,o=0;s<n;s++)o=o<<6|e[t.charCodeAt(s)],a+=6,a>=8&&(r[i++]=o>>(a-=8));return r}function zP(t){return t&1?~t>>1:t>>1}function VP(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=zP(e());return n}function ac(t,e=0){let n=[];for(;;){let r=t(),s=t();if(!s)break;e+=r;for(let i=0;i<s;i++)n.push(e+i);e+=s+1}return n}function mb(t){return cc(()=>{let e=ac(t);if(e.length)return e})}function gb(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(WP(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(KP(n,t))}return e.flat()}function cc(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function yb(t,e,n){let r=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)VP(t,n).forEach((i,a)=>r[a].push(i));return r}function WP(t,e){let n=1+e(),r=e(),s=cc(e);return yb(s.length,1+t,e).flatMap((a,o)=>{let[f,...d]=a;return Array(s[o]).fill().map((p,y)=>{let B=y*r;return[f+y*n,d.map(x=>x+B)]})})}function KP(t,e){let n=1+e();return yb(n,1+t,e).map(s=>[s[0],s.slice(1)])}function QP(t){let e=[],n=ac(t);return s(r([]),[]),e;function r(i){let a=t(),o=cc(()=>{let f=ac(t).map(d=>n[d]);if(f.length)return r(f)});return{S:a,B:o,Q:i}}function s({S:i,B:a},o,f){if(!(i&4&&f===o[o.length-1])){i&2&&(f=o[o.length-1]),i&1&&e.push(o);for(let d of a)for(let p of d.Q)s(d,[...o,p],f)}}}function ZP(t){return t.toString(16).toUpperCase().padStart(2,"0")}function vb(t){return`{${ZP(t)}}`}function YP(t){let e=[];for(let n=0,r=t.length;n<r;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function Go(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let s=0;s<n;)r.push(String.fromCodePoint(...t.slice(s,s+=4096)));return r.join("")}function JP(t,e){let n=t.length,r=n-e.length;for(let s=0;r==0&&s<n;s++)r=t[s]-e[s];return r}var XP="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const uc=44032,ol=4352,al=4449,cl=4519,wb=19,bb=21,qo=28,ul=bb*qo,e4=wb*ul,t4=uc+e4,n4=ol+wb,r4=al+bb,i4=cl+qo;function ka(t){return t>>24&255}function _b(t){return t&16777215}let Xd,ug,eh,su;function s4(){let t=pb(XP);Xd=new Map(mb(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),ug=new Set(ac(t)),eh=new Map,su=new Map;for(let[e,n]of gb(t)){if(!ug.has(e)&&n.length==2){let[r,s]=n,i=su.get(r);i||(i=new Map,su.set(r,i)),i.set(s,e)}eh.set(e,n.reverse())}}function Ab(t){return t>=uc&&t<t4}function o4(t,e){if(t>=ol&&t<n4&&e>=al&&e<r4)return uc+(t-ol)*ul+(e-al)*qo;if(Ab(t)&&e>cl&&e<i4&&(t-uc)%qo==0)return t+(e-cl);{let n=su.get(t);return n&&(n=n.get(e),n)?n:-1}}function Eb(t){Xd||s4();let e=[],n=[],r=!1;function s(i){let a=Xd.get(i);a&&(r=!0,i|=a),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(Ab(i)){let a=i-uc,o=a/ul|0,f=a%ul/qo|0,d=a%qo;s(ol+o),s(al+f),d>0&&s(cl+d)}else{let a=eh.get(i);a?n.push(...a):s(i)}if(!n.length)break;i=n.pop()}if(r&&e.length>1){let i=ka(e[0]);for(let a=1;a<e.length;a++){let o=ka(e[a]);if(o==0||i<=o){i=o;continue}let f=a-1;for(;;){let d=e[f+1];if(e[f+1]=e[f],e[f]=d,!f||(i=ka(e[--f]),i<=o))break}i=ka(e[a])}}return e}function a4(t){let e=[],n=[],r=-1,s=0;for(let i of t){let a=ka(i),o=_b(i);if(r==-1)a==0?r=o:e.push(o);else if(s>0&&s>=a)a==0?(e.push(r,...n),n.length=0,r=o):n.push(o),s=a;else{let f=o4(r,o);f>=0?r=f:s==0&&a==0?(e.push(r),r=o):(n.push(o),s=a)}}return r>=0&&e.push(r,...n),e}function xb(t){return Eb(t).map(_b)}function c4(t){return a4(Eb(t))}const lg=45,Ib=".",Sb=65039,Bb=1,ll=t=>Array.from(t);function lc(t,e){return t.P.has(e)||t.Q.has(e)}class u4 extends Array{get is_emoji(){return!0}}let th,kb,gs,nh,Tb,bo,nd,no,ss,fg,rh;function B0(){if(th)return;let t=pb($P);const e=()=>ac(t),n=()=>new Set(e()),r=(p,y)=>y.forEach(B=>p.add(B));th=new Map(gb(t)),kb=n(),gs=e(),nh=new Set(e().map(p=>gs[p])),gs=new Set(gs),Tb=n(),n();let s=mb(t),i=t();const a=()=>{let p=new Set;return e().forEach(y=>r(p,s[y])),r(p,e()),p};bo=cc(p=>{let y=cc(t).map(B=>B+96);if(y.length){let B=p>=i;y[0]-=32,y=Go(y),B&&(y=`Restricted[${y}]`);let x=a(),M=a(),I=!t();return{N:y,P:x,Q:M,M:I,R:B}}}),nd=n(),no=new Map;let o=e().concat(ll(nd)).sort((p,y)=>p-y);o.forEach((p,y)=>{let B=t(),x=o[y]=B?o[y-B]:{V:[],M:new Map};x.V.push(p),nd.has(p)||no.set(p,x)});for(let{V:p,M:y}of new Set(no.values())){let B=[];for(let M of p){let I=bo.filter(N=>lc(N,M)),R=B.find(({G:N})=>I.some(D=>N.has(D)));R||(R={G:new Set,V:[]},B.push(R)),R.V.push(M),r(R.G,I)}let x=B.flatMap(M=>ll(M.G));for(let{G:M,V:I}of B){let R=new Set(x.filter(N=>!M.has(N)));for(let N of I)y.set(N,R)}}ss=new Set;let f=new Set;const d=p=>ss.has(p)?f.add(p):ss.add(p);for(let p of bo){for(let y of p.P)d(y);for(let y of p.Q)d(y)}for(let p of ss)!no.has(p)&&!f.has(p)&&no.set(p,Bb);r(ss,xb(ss)),fg=QP(t).map(p=>u4.from(p)).sort(JP),rh=new Map;for(let p of fg){let y=[rh];for(let B of p){let x=y.map(M=>{let I=M.get(B);return I||(I=new Map,M.set(B,I)),I});B===Sb?y.push(...x):y=x}for(let B of y)B.V=p}}function k0(t){return(Rb(t)?"":`${T0(ef([t]))} `)+vb(t)}function T0(t){return`"${t}"‎`}function l4(t){if(t.length>=4&&t[2]==lg&&t[3]==lg)throw new Error(`invalid label extension: "${Go(t.slice(0,4))}"`)}function f4(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function d4(t){let e=t[0],n=ag.get(e);if(n)throw Pa(`leading ${n}`);let r=t.length,s=-1;for(let i=1;i<r;i++){e=t[i];let a=ag.get(e);if(a){if(s==i)throw Pa(`${n} + ${a}`);s=i+1,n=a}}if(s==r)throw Pa(`trailing ${n}`)}function ef(t,e=1/0,n=vb){let r=[];h4(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let a=0;a<i;a++){let o=t[a];Rb(o)&&(r.push(Go(t.slice(s,a))),r.push(n(o)),s=a+1)}return r.push(Go(t.slice(s,i))),r.join("")}function h4(t){return B0(),gs.has(t)}function Rb(t){return B0(),Tb.has(t)}function p4(t){return v4(m4(t,c4,_4))}function m4(t,e,n){if(!t)return[];B0();let r=0;return t.split(Ib).map(s=>{let i=YP(s),a={input:i,offset:r};r+=i.length+1;try{let o=a.tokens=b4(i,e,n),f=o.length,d;if(!f)throw new Error("empty label");let p=a.output=o.flat();if(f4(p),!(a.emoji=f>1||o[0].is_emoji)&&p.every(B=>B<128))l4(p),d="ASCII";else{let B=o.flatMap(x=>x.is_emoji?[]:x);if(!B.length)d="Emoji";else{if(gs.has(p[0]))throw Pa("leading combining mark");for(let I=1;I<f;I++){let R=o[I];if(!R.is_emoji&&gs.has(R[0]))throw Pa(`emoji + combining mark: "${Go(o[I-1])} + ${ef([R[0]])}"`)}d4(p);let x=ll(new Set(B)),[M]=y4(x);w4(M,B),g4(M,x),d=M.N}}a.type=d}catch(o){a.error=o}return a})}function g4(t,e){let n,r=[];for(let s of e){let i=no.get(s);if(i===Bb)return;if(i){let a=i.M.get(s);if(n=n?n.filter(o=>a.has(o)):ll(a),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(i=>lc(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function y4(t){let e=bo;for(let n of t){let r=e.filter(s=>lc(s,n));if(!r.length)throw bo.some(s=>lc(s,n))?Cb(e[0],n):Mb(n);if(e=r,r.length==1)break}return e}function v4(t){return t.map(({input:e,error:n,output:r})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${T0(ef(e,63))}: ${s}`)}return Go(r)}).join(Ib)}function Mb(t){return new Error(`disallowed character: ${k0(t)}`)}function Cb(t,e){let n=k0(e),r=bo.find(s=>s.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Pa(t){return new Error(`illegal placement: ${t}`)}function w4(t,e){for(let n of e)if(!lc(t,n))throw Cb(t,n);if(t.M){let n=xb(e);for(let r=1,s=n.length;r<s;r++)if(nh.has(n[r])){let i=r+1;for(let a;i<s&&nh.has(a=n[i]);i++)for(let o=r;o<i;o++)if(n[o]==a)throw new Error(`duplicate non-spacing marks: ${k0(a)}`);if(i-r>cg)throw new Error(`excessive non-spacing marks: ${T0(ef(n.slice(r-1,i)))} (${i-r}/${cg})`);r=i}}}function b4(t,e,n){let r=[],s=[];for(t=t.slice().reverse();t.length;){let i=A4(t);if(i)s.length&&(r.push(e(s)),s=[]),r.push(n(i));else{let a=t.pop();if(ss.has(a))s.push(a);else{let o=th.get(a);if(o)s.push(...o);else if(!kb.has(a))throw Mb(a)}}}return s.length&&r.push(e(s)),r}function _4(t){return t.filter(e=>e!=Sb)}function A4(t,e){let n=rh,r,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:i}=n;i&&(r=i,t.length=s)}return r}const E4=t=>p4(t),br=t=>{let e="";for(let n=0;n<32;n+=1)e+="00";if(t){const r=E4(t).split(".");for(let s=r.length-1;s>=0;s-=1){const i=zn(r[s]).slice(2);e=zn(`0x${e}${i}`).slice(2)}}return`0x${e}`};var Vc=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class x4{constructor(e,n){this.contract=new Es(UP,n??sl.main,e),this.context=e}getOwner(e){return Vc(this,void 0,void 0,function*(){try{return this.contract.methods.owner(br(e)).call()}catch{throw new Error}})}getTTL(e){return Vc(this,void 0,void 0,function*(){try{return this.contract.methods.ttl(br(e)).call()}catch{throw new Error}})}recordExists(e){return Vc(this,void 0,void 0,function*(){try{return this.contract.methods.recordExists(br(e)).call()}catch{throw new Error}})}getResolver(e){return Vc(this,void 0,void 0,function*(){try{return this.contract.methods.resolver(br(e)).call().then(n=>{if(typeof n=="string")return new Es(HP,n,this.context);throw new Error})}catch{throw new Error}})}get events(){return this.contract.events}}var Ur=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class I4{constructor(e){this.registry=e}getResolverContractAdapter(e){return Ur(this,void 0,void 0,function*(){return this.registry.getResolver(e)})}checkInterfaceSupport(e,n){var r,s;return Ur(this,void 0,void 0,function*(){if(je(og[n]))throw new rm((r=e.options.address)!==null&&r!==void 0?r:"",n);if(!(yield e.methods.supportsInterface(og[n]).call()))throw new rm((s=e.options.address)!==null&&s!==void 0?s:"",n)})}supportsInterface(e,n){var r;return Ur(this,void 0,void 0,function*(){const s=yield this.getResolverContractAdapter(e);let i=n;if(!Mt(i)){if(i=(r=Ec(n))!==null&&r!==void 0?r:"",n==="")throw new Error("Invalid interface Id");i=i.slice(0,10)}return s.methods.supportsInterface(i).call()})}getAddress(e,n=60){return Ur(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,Ys.addr),r.methods.addr(br(e),n).call()})}getPubkey(e){return Ur(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,Ys.pubkey),n.methods.pubkey(br(e)).call()})}getContenthash(e){return Ur(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,Ys.contenthash),n.methods.contenthash(br(e)).call()})}setAddress(e,n,r){return Ur(this,void 0,void 0,function*(){const s=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(s,Ys.setAddr),s.methods.setAddr(br(e),n).send(r)})}getText(e,n){return Ur(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,Ys.text),r.methods.text(br(e),n).call()})}getName(e,n=!0){return Ur(this,void 0,void 0,function*(){const r=`${e.toLowerCase().substring(2)}.addr.reverse`,s=yield this.getResolverContractAdapter(r);return n&&(yield this.checkInterfaceSupport(s,Ys.name)),s.methods.name(br(r)).call()})}}var Kn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class Pb extends Hn{constructor(e,n){super(n??""),this.registryAddress=e??sl.main,this._registry=new x4(this.getContextObject(),e),this._resolver=new I4(this._registry)}getResolver(e){return Kn(this,void 0,void 0,function*(){return this._registry.getResolver(e)})}recordExists(e){return Kn(this,void 0,void 0,function*(){return this._registry.recordExists(e)})}getTTL(e){return Kn(this,void 0,void 0,function*(){return this._registry.getTTL(e)})}getOwner(e){return Kn(this,void 0,void 0,function*(){return this._registry.getOwner(e)})}getAddress(e,n=60){return Kn(this,void 0,void 0,function*(){return this._resolver.getAddress(e,n)})}getText(e,n){return Kn(this,void 0,void 0,function*(){return jn(e)?this._resolver.getText(yield this._resolver.getName(e,!1),n):this._resolver.getText(e,n)})}getName(e,n=!0){return Kn(this,void 0,void 0,function*(){return this._resolver.getName(e,n)})}getPubkey(e){return Kn(this,void 0,void 0,function*(){return this._resolver.getPubkey(e)})}getContenthash(e){return Kn(this,void 0,void 0,function*(){return this._resolver.getContenthash(e)})}checkNetwork(){return Kn(this,void 0,void 0,function*(){const e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){const s=yield Z6(this);if(!(typeof s=="boolean"&&!s))throw new sk;this._lastSyncCheck=e}if(this._detectedAddress)return this._detectedAddress;const n=yield p0(this,Object.assign(Object.assign({},this.defaultReturnFormat),{number:nr.HEX})),r=sl[DP[n]];if(typeof r>"u")throw new ik(n);return this._detectedAddress=r,this._detectedAddress})}supportsInterface(e,n){return Kn(this,void 0,void 0,function*(){return this._resolver.supportsInterface(e,n)})}get events(){return this._registry.events}setAddress(e,n,r){return Kn(this,void 0,void 0,function*(){return this._resolver.setAddress(e,n,r)})}}var ui=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const S4=t=>ui(void 0,void 0,void 0,function*(){return(yield R8(t)).map(Cr)}),B4=(t,e)=>ui(void 0,void 0,void 0,function*(){Ge.validate(["string"],[e]);const n=yield M8(t,e);return Cr(n)}),k4=(t,e,n,r)=>ui(void 0,void 0,void 0,function*(){return Ge.validate(["address","string","uint"],[e,n,r]),C8(t,e,n,r)}),T4=(t,e)=>ui(void 0,void 0,void 0,function*(){return Ge.validate(["address"],[e]),P8(t,e)}),R4=(t,e,n)=>ui(void 0,void 0,void 0,function*(){return Ge.validate(["string","string"],[e,n]),N8(t,e,n)}),M4=(t,e,n,r)=>ui(void 0,void 0,void 0,function*(){const s=$n(e,Ye,{transactionSchema:r?.customTransactionSchema});return L8(t,s,n)}),C4=(t,e,n,r)=>ui(void 0,void 0,void 0,function*(){const s=$n(e,Ye,{transactionSchema:r?.customTransactionSchema});return O8(t,s,n)}),P4=(t,e,n,r)=>ui(void 0,void 0,void 0,function*(){Ge.validate(["string","address","string"],[e,n,r]);const s=Mt(e)?e:fr(e);return F8(t,s,n,r)}),N4=(t,e,n)=>ui(void 0,void 0,void 0,function*(){Ge.validate(["string","string"],[e,n]);const r=Mt(e)?e:fr(e);return D8(t,r,n)});var Hr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class Nb extends Hn{getAccounts(){return Hr(this,void 0,void 0,function*(){return S4(this.requestManager)})}newAccount(e){return Hr(this,void 0,void 0,function*(){return B4(this.requestManager,e)})}unlockAccount(e,n,r){return Hr(this,void 0,void 0,function*(){return k4(this.requestManager,e,n,r)})}lockAccount(e){return Hr(this,void 0,void 0,function*(){return T4(this.requestManager,e)})}importRawKey(e,n){return Hr(this,void 0,void 0,function*(){return R4(this.requestManager,e,n)})}sendTransaction(e,n){return Hr(this,void 0,void 0,function*(){return M4(this.requestManager,e,n,this.config)})}signTransaction(e,n){return Hr(this,void 0,void 0,function*(){return C4(this.requestManager,e,n,this.config)})}sign(e,n,r){return Hr(this,void 0,void 0,function*(){return P4(this.requestManager,e,n,r)})}ecRecover(e,n){return Hr(this,void 0,void 0,function*(){return N4(this.requestManager,e,n)})}}var xr;(function(t){t.HTTPS="https",t.WebSocket="wss"})(xr||(xr={}));var Le;(function(t){t.ETH_MAINNET="eth_mainnet",t.ETH_SEPOLIA="eth_sepolia",t.ETH_HOLESKY="eth_holesky",t.POLYGON_MAINNET="polygon_mainnet",t.POLYGON_AMOY="polygon_amoy",t.AVALANCHE_C_MAINNET="avalanche_c_mainnet",t.AVALANCHE_P_MAINNET="avalanche_p_mainnet",t.AVALANCHE_X_MAINNET="avalanche_x_mainnet",t.ARBITRUM_MAINNET="arbitrum_mainnet",t.ARBITRUM_SEPOLIA="arbitrum_sepolia",t.BASE_MAINNET="base_mainnet",t.BASE_SEPOLIA="base_sepolia",t.OPTIMISM_MAINNET="optimism_mainnet",t.OPTIMISM_SEPOLIA="optimism_sepolia",t.FANTOM_MAINNET="fantom_mainnet",t.FANTOM_TESTNET="fantom_testnet",t.DYMENSION_MAINNET="dymension_mainnet",t.DYMENSION_TESTNET="dymension_testnet",t.BNB_MAINNET="bnb_mainnet",t.BNB_TESTNET="bnb_testnet",t.BSC_MAINNET="bsc_mainnet",t.BSC_TESTNET="bsc_testnet",t.ARBITRUM_ONE="arbitrum_one",t.ARBITRUM_NOVA="arbitrum_nova",t.AVALANCHE_FUJI_C="avalanche_fuji_c",t.AVALANCHE_FUJI_P="avalanche_fuji_p",t.AVALANCHE_FUJI_X="avalanche_fuji_x",t.BLAST_MAINNET="blast_mainnet",t.OPBNB_MAINNET="opbnb_mainnet",t.OPBNB_TESTNET="opbnb_testnet",t.GNOSIS_MAINNET="gnosis_mainnet",t.GNOSIS_CHIADO="gnosis_chiado",t.PULSECHAIN_MAINNET="pulsechain_mainnet",t.PULSECHAIN_TESTNET="pulsechain_testnet",t.KAVA_MAINNET="kava_mainnet",t.CRONOS_MAINNET="cronos_mainnet",t.MANTLE_MAINNET="mantle_mainnet",t.CHILIZ_MAINNET="chiliz_mainnet",t.CHILIZ_SPICY="chiliz_spicy",t.MOONBEAM_MAINNET="moonbeam_mainnet",t.TAIKO_MAINNET="taiko_mainnet",t.TAIKO_HEKLA="taiko_hekla",t.LINEA_MAINNET="linea_mainnet",t.LINEA_SEPOLIA="linea_sepolia",t.BAHAMUT_MAINNET="bahamut_mainnet",t.SCROLL_MAINNET="scroll_mainnet",t.SCROLL_SEPOLIA="scroll_sepolia",t.TRON_MAINNET="tron_mainnet",t.SYSCOIN_MAINNET="syscoin_mainnet",t.SYSCOIN_TANENBAUM="syscoin_tanenbaum",t.MOONRIVER_MAINNET="moonriver_mainnet",t.HAQQ_MAINNET="haqq_mainnet",t.EVMOS_MAINNET="evmos_mainnet",t.EVMOS_TESTNET="evmos_testnet",t.BERACHAIN_TESTNET="berachain_testnet"})(Le||(Le={}));const L4=1300;class O4 extends Ke{constructor(e){super("You've reach the rate limit of free RPC calls from our Partner Quick Nodes. There are two options you can either create a paid Quick Nodes account and get 20% off for 2 months using WEB3JS referral code, or use Free public RPC endpoint.",e),this.code=L4}}const F4=1301;class dg extends Ke{constructor(e){super(`Invalid provider config options given for ${e}`),this.code=F4}}var D4=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};class Lb extends Jh{constructor(e,n,r,s,i){if(super(),i!==void 0&&n===xr.HTTPS&&!("providerOptions"in i))throw new dg("HTTP Provider");if(i!==void 0&&n===xr.WebSocket&&!("socketOptions"in i||"reconnectOptions"in i))throw new dg("Websocket Provider");this.transport=n,n===xr.HTTPS?this.provider=new ql(this.getRPCURL(e,n,r,s),i):n===xr.WebSocket&&(this.provider=new Wv(this.getRPCURL(e,n,r,s),i?.socketOptions,i?.reconnectOptions))}request(e,n){return D4(this,void 0,void 0,function*(){return this.transport===xr.HTTPS?yield this.provider.request(e,n):this.provider.request(e)})}getStatus(){return this.provider.getStatus()}supportsSubscriptions(){return this.provider.supportsSubscriptions()}once(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.once&&this.provider.once(e,n)}removeAllListeners(e){var n;!((n=this.provider)===null||n===void 0)&&n.removeAllListeners&&this.provider.removeAllListeners(e)}connect(){var e;!((e=this.provider)===null||e===void 0)&&e.connect&&this.provider.connect()}disconnect(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.disconnect&&this.provider.disconnect(e,n)}reset(){var e;!((e=this.provider)===null||e===void 0)&&e.reset&&this.provider.reset()}on(e,n){this.provider&&this.provider.on(e,n)}removeListener(e,n){this.provider&&this.provider.removeListener(e,n)}}var U4=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const un=t=>t!==void 0&&t.trim().length>0;class H4 extends Lb{constructor(e=Le.ETH_MAINNET,n=xr.HTTPS,r="",s="",i){super(e,n,r,s,i)}request(e,n){const r=Object.create(null,{request:{get:()=>super.request}});return U4(this,void 0,void 0,function*(){try{return yield r.request.call(this,e,n)}catch(s){throw s instanceof Ar&&s.statusCode===429?new O4(s):s}})}getRPCURL(e,n,r,s){let i="",a="";switch(e){case Le.ETH_MAINNET:i=un(s)?s:"powerful-holy-bush.quiknode.pro",a=un(r)?r:"3240624a343867035925ff7561eb60dfdba2a668";break;case Le.ETH_SEPOLIA:i=un(s)?s:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",a=un(r)?r:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case Le.ETH_HOLESKY:i=un(s)?s:"yolo-morning-card.ethereum-holesky.quiknode.pro",a=un(r)?r:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case Le.ARBITRUM_MAINNET:i=un(s)?s:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",a=un(r)?r:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case Le.ARBITRUM_SEPOLIA:i=un(s)?s:"few-patient-pond.arbitrum-sepolia.quiknode.pro",a=un(r)?r:"3be985450970628c860b959c65cd2642dcafe53c";break;case Le.BNB_MAINNET:i=un(s)?s:"purple-empty-reel.bsc.quiknode.pro",a=un(r)?r:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case Le.BNB_TESTNET:i=un(s)?s:"floral-rough-scion.bsc-testnet.quiknode.pro",a=un(r)?r:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case Le.POLYGON_MAINNET:i=un(s)?s:"small-chaotic-moon.matic.quiknode.pro",a=un(r)?r:"847569f8a017e84d985e10d0f44365d965a951f1";break;case Le.POLYGON_AMOY:i=un(s)?s:"prettiest-side-shape.matic-amoy.quiknode.pro",a=un(r)?r:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw new Error("Network info not avalible.")}return`${n}://${i}/${a}`}}const $4=t=>t!==void 0&&t.trim().length>0,G4=[Le.DYMENSION_MAINNET,Le.DYMENSION_TESTNET,Le.KAVA_MAINNET,Le.CRONOS_MAINNET,Le.POLYGON_MAINNET];class fl extends Lb{constructor(e=Le.ETH_MAINNET,n=xr.HTTPS,r="",s){super(e,n,"",r,s)}getRPCURL(e,n,r,s){if(!fl.networkHostMap[e])throw new Error("Network info not avalible.");const i=`${fl.networkHostMap[e]}.publicnode.com`,a=$4(s)?s:i;return G4.includes(e)&&n===xr.WebSocket?`${n}://${a}/websocket`:`${n}://${a}`}}fl.networkHostMap={[Le.POLYGON_AMOY]:"polygon-amoy-bor-rpc",[Le.DYMENSION_MAINNET]:"dymension-evm-rpc",[Le.DYMENSION_TESTNET]:"dymension-testnet-evm-rpc",[Le.BLAST_MAINNET]:"blast-rpc",[Le.GNOSIS_MAINNET]:"gnosis-rpc",[Le.PULSECHAIN_MAINNET]:"pulsechain-rpc",[Le.PULSECHAIN_TESTNET]:"pulsechain-testnet-rpc",[Le.KAVA_MAINNET]:"kava-evm-rpc",[Le.CRONOS_MAINNET]:"cronos-evm-rpc",[Le.MANTLE_MAINNET]:"mantle-rpc",[Le.TAIKO_MAINNET]:"taiko-rpc",[Le.TAIKO_HEKLA]:"taiko-hekla-rpc",[Le.LINEA_MAINNET]:"linea-rpc",[Le.LINEA_SEPOLIA]:"linea-sepolia-rpc",[Le.SCROLL_MAINNET]:"scroll-rpc",[Le.SCROLL_SEPOLIA]:"scroll-sepolia-rpc",[Le.SYSCOIN_MAINNET]:"syscoin-evm-rpc",[Le.SYSCOIN_TANENBAUM]:"syscoin-tanenbaum-evm-rpc",[Le.HAQQ_MAINNET]:"haqq-evm-rpc",[Le.EVMOS_MAINNET]:"evmos-evm-rpc",[Le.EVMOS_TESTNET]:"evmos-testnet-evm-rpc",[Le.BERACHAIN_TESTNET]:"berachain-testnet-evm-rpc",[Le.ETH_MAINNET]:"ethereum-rpc",[Le.ETH_SEPOLIA]:"ethereum-sepolia-rpc",[Le.ETH_HOLESKY]:"ethereum-holesky-rpc",[Le.BSC_MAINNET]:"bsc-rpc",[Le.BSC_TESTNET]:"bsc-testnet-rpc",[Le.POLYGON_MAINNET]:"polygon-bor-rpc",[Le.BASE_MAINNET]:"base-rpc",[Le.BASE_SEPOLIA]:"base-sepolia-rpc",[Le.ARBITRUM_ONE]:"arbitrum-one-rpc",[Le.ARBITRUM_NOVA]:"arbitrum-nova-rpc",[Le.ARBITRUM_SEPOLIA]:"arbitrum-sepolia-rpc",[Le.AVALANCHE_C_MAINNET]:"avalanche-c-chain-rpc",[Le.AVALANCHE_P_MAINNET]:"avalanche-p-chain-rpc",[Le.AVALANCHE_X_MAINNET]:"avalanche-x-chain-rpc",[Le.AVALANCHE_FUJI_C]:"avalanche-fuji-c-chain-rpc",[Le.AVALANCHE_FUJI_P]:"avalanche-fuji-p-chain-rpc",[Le.AVALANCHE_FUJI_X]:"avalanche-fuji-x-chain-rpc",[Le.OPTIMISM_MAINNET]:"optimism-rpc",[Le.OPTIMISM_SEPOLIA]:"optimism-sepolia-rpc",[Le.FANTOM_MAINNET]:"fantom-rpc",[Le.FANTOM_TESTNET]:"fantom-testnet-rpc",[Le.OPBNB_MAINNET]:"opbnb-rpc",[Le.OPBNB_TESTNET]:"opbnb-testnet-rpc",[Le.GNOSIS_CHIADO]:"gnosis-chiado-rpc",[Le.CHILIZ_MAINNET]:"chiliz-rpc",[Le.CHILIZ_SPICY]:"chiliz-spicy-rpc",[Le.MOONBEAM_MAINNET]:"moonbeam-rpc",[Le.BAHAMUT_MAINNET]:"bahamut-rpc",[Le.TRON_MAINNET]:"tron-evm-rpc",[Le.MOONRIVER_MAINNET]:"moonriver-rpc"};const q4=new H4,j4={encodeEventSignature:v0,encodeFunctionCall:G6,encodeFunctionSignature:sc,encodeParameter:Qd,encodeParameters:Yl,decodeParameter:tb,decodeParameters:As,decodeLog:nb};var _a=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})};const z4=t=>{const e=(a,o)=>_a(void 0,void 0,void 0,function*(){const f=yield TP(a,t),d=we({format:"bytes"},o,Ye);return BC(f,d)}),n=a=>{const o=l0(a);return Object.assign(Object.assign({},o),{signTransaction:f=>_a(void 0,void 0,void 0,function*(){return e(f,o.privateKey)})})},r=(a,o,f)=>_a(void 0,void 0,void 0,function*(){var d;const p=yield MC(a,o,(d=f?.nonStrict)!==null&&d!==void 0?d:!0);return Object.assign(Object.assign({},p),{signTransaction:y=>_a(void 0,void 0,void 0,function*(){return e(y,p.privateKey)})})}),s=()=>{const a=RC();return Object.assign(Object.assign({},a),{signTransaction:o=>_a(void 0,void 0,void 0,function*(){return e(o,a.privateKey)})})},i=new Yu({create:s,privateKeyToAccount:n,decrypt:r});return{signTransaction:e,create:s,privateKeyToAccount:n,decrypt:r,recoverTransaction:kC,hashMessage:u0,sign:bw,recover:Hd,encrypt:_w,wallet:i,privateKeyToAddress:Wl,parseAndValidatePrivateKey:Qo,privateKeyToPublicKey:TC}},V4={version:"4.16.0"};var W4=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{d(r.next(p))}catch(y){a(y)}}function f(p){try{d(r.throw(p))}catch(y){a(y)}}function d(p){p.done?i(p.value):s(p.value).then(o,f)}d((r=r.apply(t,e||[])).next())})},dl;(function(t){t.eip6963announceProvider="eip6963:announceProvider",t.eip6963requestProvider="eip6963:requestProvider"})(dl||(dl={}));const rd=new Map,Ob="web3:providersMapUpdated",K4=()=>W4(void 0,void 0,void 0,function*(){return new Promise((t,e)=>{typeof window>"u"&&e(new Error("window object not available, EIP-6963 is intended to be used within a browser")),window.addEventListener(dl.eip6963announceProvider,n=>{rd.set(n.detail.info.uuid,n.detail);const r=new CustomEvent(Ob,{detail:rd});window.dispatchEvent(r),t(rd)}),window.dispatchEvent(new Event(dl.eip6963requestProvider))})}),Q4=t=>{if(typeof window>"u")throw new Error("window object not available, EIP-6963 is intended to be used within a browser");window.addEventListener(Ob,t)};class Xo extends Hn{constructor(e=q4){var n;(je(e)||typeof e=="string"&&e.trim()===""||typeof e!="string"&&!Qu(e)&&!e.provider)&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let r={};typeof e=="string"||Qu(e)?r.provider=e:e?r=e:r={},r.registeredSubscriptions=Object.assign(Object.assign({},Yd),(n=r.registeredSubscriptions)!==null&&n!==void 0?n:{}),super(r);const s=z4(this);this._wallet=s.wallet,this._accountProvider=s,this.utils=Vv;const i=this;class a extends Es{constructor(d,p,y,B,x){if(wi(p)&&wi(y))throw new im("Should not provide options at both 2nd and 3rd parameters");let M,I={},R,N;if(!je(p)&&typeof p!="object"&&typeof p!="string")throw new im;if(typeof p=="string"&&(M=p),wi(p)?I=p:wi(y)?I=y:I={},p instanceof Hn?R=p:y instanceof Hn?R=y:B instanceof Hn?R=B:R=i.getContextObject(),x?N=x:zr(y)?N=y:zr(B)&&(N=B),super(d,M,I,R,N),super.subscribeToContextEvents(i),!je(o)){const D=o.getTransactionMiddleware();je(D)||super.setTransactionMiddleware(D)}}}const o=i.use(Jl);this.eth=Object.assign(o,{ens:i.use(Pb,sl.main),Iban:nn,net:i.use(Tw),personal:i.use(Nb),Contract:a,abi:j4,accounts:s})}}Xo.version=V4.version;Xo.utils=Vv;Xo.requestEIP6963Providers=K4;Xo.onNewProviderDiscovered=Q4;Xo.modules={Web3Eth:Jl,Iban:nn,Net:Tw,ENS:Pb,Personal:Nb};const Fb=pl("web3",()=>{const t=He(null),e=He(!1),n=He(!1),r=He(null),s=He({glib:"0",glid:"0",glil:"0",usdt:"0"}),i=He(null),a=_t(()=>n.value?"connecting":e.value?"connected":"disconnected"),o=async()=>{try{if(n.value=!0,i.value=null,typeof window.ethereum<"u"){const x=await window.ethereum.request({method:"eth_requestAccounts"});if(x.length>0){t.value=new Xo(window.ethereum);const M=await t.value.eth.getChainId(),I=await t.value.eth.getBalance(x[0]);r.value={address:x[0],balance:t.value.utils.fromWei(I,"ether"),chainId:Number(M),networkName:p(Number(M))},e.value=!0,await d()}}else throw new Error("MetaMask is not installed")}catch(x){i.value=x.message||"Failed to connect wallet",console.error("Wallet connection error:",x)}finally{n.value=!1}},f=()=>{t.value=null,e.value=!1,r.value=null,s.value={glib:"0",glid:"0",glil:"0",usdt:"0"},i.value=null},d=async()=>{if(!(!t.value||!r.value))try{s.value={glib:"1000.5",glid:"500.25",glil:"2000.75",usdt:"100.0"}}catch(x){console.error("Failed to load token balances:",x)}},p=x=>({1:"Ethereum Mainnet",3:"Ropsten",4:"Rinkeby",5:"Goerli",56:"BSC Mainnet",97:"BSC Testnet",137:"Polygon Mainnet",80001:"Polygon Mumbai"})[x]||`Chain ID: ${x}`,y=()=>{typeof window.ethereum<"u"&&(window.ethereum.on("accountsChanged",x=>{x.length===0?f():o()}),window.ethereum.on("chainChanged",()=>{window.location.reload()}))};return{web3:t,isConnected:e,isConnecting:n,walletInfo:r,tokenBalances:s,error:i,connectionStatus:a,connectWallet:o,disconnectWallet:f,loadTokenBalances:d,init:async()=>{if(y(),typeof window.ethereum<"u")try{(await window.ethereum.request({method:"eth_accounts"})).length>0&&await o()}catch(x){console.error("Failed to restore session:",x)}}}}),Z4={class:"sidebar-header"},Y4={key:0},J4={key:1},X4={class:"sidebar-nav"},eN={class:"nav-section"},tN={class:"nav-list"},nN={class:"nav-item"},rN={key:0,class:"nav-text"},iN={key:1,class:"nav-tooltip"},sN={class:"nav-item"},oN={key:0,class:"nav-text"},aN={key:1,class:"nav-tooltip"},cN={key:2,class:"progress-badge"},uN={class:"nav-item"},lN={key:0,class:"nav-text"},fN={key:1,class:"nav-tooltip"},dN={class:"nav-item"},hN={key:0,class:"nav-text"},pN={key:1,class:"nav-tooltip"},mN={class:"nav-item"},gN={key:0,class:"nav-text"},yN={key:1,class:"nav-tooltip"},vN={class:"nav-item"},wN={key:0,class:"nav-text"},bN={key:1,class:"nav-tooltip"},_N={key:2,class:"count-badge"},AN={class:"nav-item"},EN={key:0,class:"nav-text"},xN={key:1,class:"nav-tooltip"},IN={key:0,class:"token-balances"},SN={class:"balance-title"},BN={class:"balance-list"},kN={class:"balance-item"},TN={class:"token-amount"},RN={class:"balance-item"},MN={class:"token-amount"},CN={class:"balance-item"},PN={class:"token-amount"},NN={class:"balance-item"},LN={class:"token-amount"},ON=gn({__name:"GLILeftSidebar",setup(t){ml();const{t:e}=jo(),n=Fb(),r=He(!1),s=He(65),i=He(3),a=_t(()=>n.isConnected),o=_t(()=>n.tokenBalances),f=()=>{r.value=!r.value};return(d,p)=>{const y=oh("router-link");return Be(),Te("aside",{class:xt(["gli-sidebar",{collapsed:r.value}])},[q("div",Z4,[q("button",{class:"collapse-btn",onClick:f},[r.value?(Be(),Te("span",Y4,"▶️")):(Be(),Te("span",J4,"◀️"))])]),q("nav",X4,[q("div",eN,[q("ul",tN,[q("li",nN,[Ht(y,{to:"/business",class:xt(["nav-link",{active:d.$route.path.startsWith("/business")}])},{default:Nn(()=>[p[0]||(p[0]=q("span",{class:"nav-icon"},"📄",-1)),r.value?St("",!0):(Be(),Te("span",rN,Ee(d.$t("nav.business")),1)),r.value?(Be(),Te("span",iN,Ee(d.$t("nav.business")),1)):St("",!0)]),_:1,__:[0]},8,["class"])]),q("li",sN,[Ht(y,{to:"/auth",class:xt(["nav-link",{active:d.$route.path.startsWith("/auth")}])},{default:Nn(()=>[p[1]||(p[1]=q("span",{class:"nav-icon"},"🔐",-1)),r.value?St("",!0):(Be(),Te("span",oN,Ee(d.$t("nav.auth")),1)),r.value?(Be(),Te("span",aN,Ee(d.$t("nav.auth")),1)):St("",!0),!r.value&&s.value<100?(Be(),Te("span",cN,Ee(s.value)+"% ",1)):St("",!0)]),_:1,__:[1]},8,["class"])]),q("li",uN,[Ht(y,{to:"/conversion",class:xt(["nav-link",{active:d.$route.path.startsWith("/conversion")}])},{default:Nn(()=>[p[2]||(p[2]=q("span",{class:"nav-icon"},"💱",-1)),r.value?St("",!0):(Be(),Te("span",lN,Ee(d.$t("nav.conversion")),1)),r.value?(Be(),Te("span",fN,Ee(d.$t("nav.conversion")),1)):St("",!0)]),_:1,__:[2]},8,["class"])]),q("li",dN,[Ht(y,{to:"/shopping",class:xt(["nav-link",{active:d.$route.path.startsWith("/shopping")}])},{default:Nn(()=>[p[3]||(p[3]=q("span",{class:"nav-icon"},"🛍️",-1)),r.value?St("",!0):(Be(),Te("span",hN,Ee(d.$t("nav.shopping")),1)),r.value?(Be(),Te("span",pN,Ee(d.$t("nav.shopping")),1)):St("",!0)]),_:1,__:[3]},8,["class"])]),q("li",mN,[Ht(y,{to:"/mypage",class:xt(["nav-link",{active:d.$route.path.startsWith("/mypage")}])},{default:Nn(()=>[p[4]||(p[4]=q("span",{class:"nav-icon"},"🧑",-1)),r.value?St("",!0):(Be(),Te("span",gN,Ee(d.$t("nav.mypage")),1)),r.value?(Be(),Te("span",yN,Ee(d.$t("nav.mypage")),1)):St("",!0)]),_:1,__:[4]},8,["class"])]),q("li",vN,[Ht(y,{to:"/referral",class:xt(["nav-link",{active:d.$route.path.startsWith("/referral")}])},{default:Nn(()=>[p[5]||(p[5]=q("span",{class:"nav-icon"},"🤝",-1)),r.value?St("",!0):(Be(),Te("span",wN,Ee(d.$t("nav.referral")),1)),r.value?(Be(),Te("span",bN,Ee(d.$t("nav.referral")),1)):St("",!0),!r.value&&i.value>0?(Be(),Te("span",_N,Ee(i.value),1)):St("",!0)]),_:1,__:[5]},8,["class"])]),q("li",AN,[Ht(y,{to:"/help-center",class:xt(["nav-link",{active:d.$route.path.startsWith("/help-center")}])},{default:Nn(()=>[p[6]||(p[6]=q("span",{class:"nav-icon"},"📑",-1)),r.value?St("",!0):(Be(),Te("span",EN,Ee(d.$t("nav.help")),1)),r.value?(Be(),Te("span",xN,Ee(d.$t("nav.help")),1)):St("",!0)]),_:1,__:[6]},8,["class"])])])]),!r.value&&a.value?(Be(),Te("div",IN,[q("h4",SN,"💰 "+Ee(d.$t("common.balance")),1),q("div",BN,[q("div",kN,[p[7]||(p[7]=q("span",{class:"token-name"},"GLIB",-1)),q("span",TN,Ee(o.value.glib),1)]),q("div",RN,[p[8]||(p[8]=q("span",{class:"token-name"},"GLID",-1)),q("span",MN,Ee(o.value.glid),1)]),q("div",CN,[p[9]||(p[9]=q("span",{class:"token-name"},"GLIL",-1)),q("span",PN,Ee(o.value.glil),1)]),q("div",NN,[p[10]||(p[10]=q("span",{class:"token-name"},"USDT",-1)),q("span",LN,Ee(o.value.usdt),1)])])])):St("",!0)])],2)}}}),FN=$s(ON,[["__scopeId","data-v-611e6a7c"]]),DN={class:"panel-toggle"},UN={key:0},HN={key:1},$N={key:0,class:"panel-content"},GN={class:"panel-header"},qN={class:"panel-title"},jN={class:"panel-tabs"},zN=["onClick"],VN={class:"tab-icon"},WN={class:"tab-label"},KN={class:"tab-content"},QN={class:"help-content"},ZN={class:"current-page-help"},YN={class:"help-section-title"},JN={class:"help-card"},XN={class:"help-icon"},eL={class:"help-text"},tL={key:0,class:"help-steps"},nL={class:"steps-title"},rL={class:"steps-list"},iL={class:"common-help"},sL={class:"help-section-title"},oL={class:"help-topics"},aL=["onClick"],cL={class:"topic-header"},uL={class:"topic-icon"},lL={class:"topic-title"},fL={class:"expand-icon"},dL={key:0,class:"topic-content"},hL={key:0,class:"topic-links"},pL=["href"],mL={class:"tab-content"},gL={class:"guide-content"},yL={class:"guide-header"},vL={class:"guide-title"},wL={class:"guide-controls"},bL={class:"guide-icon"},_L={class:"guide-sections"},AL=["onClick"],EL={class:"section-icon"},xL={class:"section-info"},IL={class:"section-name"},SL={class:"section-desc"},BL={class:"section-meta"},kL={class:"step-count"},TL={class:"duration"},RL={key:0,class:"active-guide"},ML={class:"guide-progress"},CL={class:"progress-header"},PL={class:"progress-title"},NL={class:"progress-indicator"},LL={class:"progress-bar"},OL={class:"guide-step-content"},FL={class:"step-title"},DL={class:"step-description"},UL={class:"step-actions"},HL=["disabled"],$L=["disabled"],GL={class:"tab-content"},qL={class:"chat-content"},jL={class:"chat-header"},zL={class:"chat-status"},VL={class:"status-text"},WL={class:"chat-info"},KL={class:"response-time"},QL={key:0,class:"chat-welcome"},ZL={class:"welcome-title"},YL={class:"welcome-text"},JL={class:"quick-questions"},XL={class:"quick-title"},eO={class:"question-buttons"},tO=["onClick"],nO={key:1},rO={class:"message-avatar"},iO={key:0},sO={key:1},oO={class:"message-content"},aO={class:"message-text"},cO={class:"message-time"},uO={key:0,class:"typing-indicator"},lO={class:"chat-input-area"},fO={class:"chat-input-container"},dO=["placeholder","disabled"],hO=["disabled"],pO={class:"chat-footer"},mO={class:"file-upload"},gO={class:"tooltip-content"},yO={class:"tooltip-header"},vO={class:"tooltip-step"},wO={class:"tooltip-body"},bO={class:"tooltip-title"},_O={class:"tooltip-description"},AO={class:"tooltip-footer"},EO={class:"tooltip-navigation"},xO=["disabled"],IO=gn({__name:"GLIRightPanel",setup(t){const e=ml(),{t:n}=jo(),r=He(!0),s=He(!0),i=He("help"),a=He(!1),o=He(!1),f=He(1),d=He(null),p=He(null),y=He({top:"50%",left:"50%"}),B=He(!0),x=He(2),M=He([]),I=He(""),R=He(!1),N=He([]),D=[{id:"help",icon:"❓",label:"Help"},{id:"guide",icon:"🗺️",label:"Guide"},{id:"chat",icon:"💬",label:"Chat"}],U=[{id:"wallet",icon:"💳",links:[{id:"metamask",url:"https://metamask.io/download.html"},{id:"walletconnect",url:"https://walletconnect.com/"}]},{id:"tokens",icon:"🪙",links:[{id:"tokenomics",url:"#"},{id:"whitepaper",url:"#"}]},{id:"conversion",icon:"💱"},{id:"security",icon:"🔒"}],K=[{id:"wallet",icon:"💳",steps:5,duration:3},{id:"conversion",icon:"💱",steps:7,duration:5},{id:"staking",icon:"🏦",steps:6,duration:4},{id:"referral",icon:"🤝",steps:4,duration:2}],j=[{id:"wallet",text:"How to connect wallet?"},{id:"conversion",text:"How to convert tokens?"},{id:"fees",text:"What are the fees?"},{id:"support",text:"Contact support"}],J=()=>{r.value=!r.value},ne=()=>{r.value=!0},X=re=>{i.value=re},Z=()=>({"/":"🏠","/business":"📄","/auth":"🔐","/conversion":"💱","/mypage":"🧑","/shopping":"🛍️"})[e.path]||"📄",G=()=>n({"/":"rightPanel.pages.home.title","/business":"rightPanel.pages.business.title","/auth":"rightPanel.pages.auth.title","/conversion":"rightPanel.pages.conversion.title","/mypage":"rightPanel.pages.mypage.title","/shopping":"rightPanel.pages.shopping.title"}[e.path]||"rightPanel.pages.default.title"),W=()=>n({"/":"rightPanel.pages.home.description","/business":"rightPanel.pages.business.description","/auth":"rightPanel.pages.auth.description","/conversion":"rightPanel.pages.conversion.description","/mypage":"rightPanel.pages.mypage.description","/shopping":"rightPanel.pages.shopping.description"}[e.path]||"rightPanel.pages.default.description"),z=()=>({"/auth":[n("rightPanel.pages.auth.steps.1"),n("rightPanel.pages.auth.steps.2"),n("rightPanel.pages.auth.steps.3")],"/conversion":[n("rightPanel.pages.conversion.steps.1"),n("rightPanel.pages.conversion.steps.2"),n("rightPanel.pages.conversion.steps.3"),n("rightPanel.pages.conversion.steps.4")],"/mypage":[n("rightPanel.pages.mypage.steps.1"),n("rightPanel.pages.mypage.steps.2")]})[e.path]||[],_=re=>{const xe=N.value.indexOf(re);xe>-1?N.value.splice(xe,1):N.value.push(re)},l=()=>{a.value=!a.value,a.value||(o.value=!1,d.value=null)},m=re=>{const xe=K.find(ye=>ye.id===re);xe&&(d.value={id:re,title:n(`rightPanel.guides.${re}.title`),totalSteps:xe.steps},f.value=1,a.value=!0,b())},b=()=>{o.value=!0,E()},E=()=>{d.value&&(p.value={title:n(`rightPanel.guides.${d.value.id}.steps.${f.value}.title`),description:n(`rightPanel.guides.${d.value.id}.steps.${f.value}.description`)})},S=()=>{d.value&&f.value<d.value.totalSteps?(f.value++,E()):O()},P=()=>{f.value>1&&(f.value--,E())},O=()=>{a.value=!1,o.value=!1,d.value=null,f.value=1},A=()=>{O()},h=()=>{o.value=!1},v=()=>{if(!I.value.trim()||!B.value)return;const re={id:Date.now(),text:I.value.trim(),sender:"user",timestamp:new Date};M.value.push(re),I.value="",_i(()=>{Y()}),$(re.text)},F=re=>{I.value=re,v()},$=re=>{R.value=!0,setTimeout(()=>{R.value=!1;const xe={"How to connect wallet?":n("rightPanel.chatResponses.wallet"),"How to convert tokens?":n("rightPanel.chatResponses.conversion"),"What are the fees?":n("rightPanel.chatResponses.fees"),"Contact support":n("rightPanel.chatResponses.support")},ye={id:Date.now(),text:xe[re]||n("rightPanel.chatResponses.default"),sender:"support",timestamp:new Date};M.value.push(ye),_i(()=>{Y()})},1500)},Y=()=>{const re=document.querySelector(".chat-messages");re&&(re.scrollTop=re.scrollHeight)},se=re=>new Intl.DateTimeFormat("ko-KR",{hour:"2-digit",minute:"2-digit"}).format(re),fe=re=>{const xe=re.target.files?.[0];xe&&console.log("File uploaded:",xe.name)};return xs(()=>e.path,()=>{N.value=[]}),fc(()=>{window.innerWidth<1200&&(r.value=!0)}),(re,xe)=>(Be(),Te("aside",{class:xt(["gli-right-panel",{collapsed:r.value,visible:s.value}])},[q("div",DN,[q("button",{class:"toggle-btn",onClick:J},[r.value?(Be(),Te("span",UN,"📋")):(Be(),Te("span",HN,"📋"))])]),r.value?St("",!0):(Be(),Te("div",$N,[q("div",GN,[q("h3",qN,[xe[2]||(xe[2]=q("span",{class:"title-emoji"},"💡",-1)),wr(" "+Ee(re.$t("rightPanel.help")),1)]),q("button",{class:"close-btn",onClick:ne},xe[3]||(xe[3]=[q("span",{class:"close-icon"},"×",-1)]))]),q("div",jN,[(Be(),Te(or,null,yi(D,ye=>q("button",{key:ye.id,class:xt(["tab-btn",{active:i.value===ye.id}]),onClick:ke=>X(ye.id)},[q("span",VN,Ee(ye.icon),1),q("span",WN,Ee(re.$t(`rightPanel.tabs.${ye.id}`)),1)],10,zN)),64))]),cs(q("div",KN,[q("div",QN,[q("div",ZN,[q("h4",YN,[xe[4]||(xe[4]=q("span",{class:"section-emoji"},"🎯",-1)),wr(" "+Ee(re.$t("rightPanel.currentPageHelp")),1)]),q("div",JN,[q("div",XN,Ee(Z()),1),q("div",eL,[q("h5",null,Ee(G()),1),q("p",null,Ee(W()),1)])]),z().length>0?(Be(),Te("div",tL,[q("h5",nL,Ee(re.$t("rightPanel.quickSteps")),1),q("ol",rL,[(Be(!0),Te(or,null,yi(z(),(ye,ke)=>(Be(),Te("li",{key:ke,class:"step-item"},Ee(ye),1))),128))])])):St("",!0)]),q("div",iL,[q("h4",sL,[xe[5]||(xe[5]=q("span",{class:"section-emoji"},"📚",-1)),wr(" "+Ee(re.$t("rightPanel.commonHelp")),1)]),q("div",oL,[(Be(),Te(or,null,yi(U,ye=>q("div",{key:ye.id,class:"help-topic",onClick:ke=>_(ye.id)},[q("div",cL,[q("span",uL,Ee(ye.icon),1),q("span",lL,Ee(re.$t(`rightPanel.topics.${ye.id}.title`)),1),q("span",fL,Ee(N.value.includes(ye.id)?"▼":"▶"),1)]),N.value.includes(ye.id)?(Be(),Te("div",dL,[q("p",null,Ee(re.$t(`rightPanel.topics.${ye.id}.content`)),1),ye.links?(Be(),Te("div",hL,[(Be(!0),Te(or,null,yi(ye.links,ke=>(Be(),Te("a",{key:ke.id,href:ke.url,class:"topic-link",target:"_blank"},Ee(re.$t(`rightPanel.topics.${ye.id}.links.${ke.id}`)),9,pL))),128))])):St("",!0)])):St("",!0)],8,aL)),64))])])])],512),[[rf,i.value==="help"]]),cs(q("div",mL,[q("div",gL,[q("div",yL,[q("h4",vL,[xe[6]||(xe[6]=q("span",{class:"guide-emoji"},"🗺️",-1)),wr(" "+Ee(re.$t("rightPanel.interactiveGuide")),1)]),q("div",wL,[q("button",{class:xt(["guide-btn",{active:a.value}]),onClick:l},[q("span",bL,Ee(a.value?"🛑":"▶️"),1),wr(" "+Ee(a.value?re.$t("rightPanel.stopGuide"):re.$t("rightPanel.startGuide")),1)],2)])]),q("div",_L,[(Be(),Te(or,null,yi(K,ye=>q("div",{key:ye.id,class:"guide-section",onClick:ke=>m(ye.id)},[q("div",EL,Ee(ye.icon),1),q("div",xL,[q("h5",IL,Ee(re.$t(`rightPanel.guides.${ye.id}.title`)),1),q("p",SL,Ee(re.$t(`rightPanel.guides.${ye.id}.description`)),1),q("div",BL,[q("span",kL,Ee(ye.steps)+" "+Ee(re.$t("rightPanel.steps")),1),q("span",TL,"~"+Ee(ye.duration)+Ee(re.$t("rightPanel.minutes")),1)])]),xe[7]||(xe[7]=q("div",{class:"section-action"},[q("span",{class:"action-icon"},"▶️")],-1))],8,AL)),64))]),a.value?(Be(),Te("div",RL,[q("div",ML,[q("div",CL,[q("span",PL,Ee(d.value?.title),1),q("span",NL,Ee(f.value)+"/"+Ee(d.value?.totalSteps),1)]),q("div",LL,[q("div",{class:"progress-fill",style:R0({width:`${f.value/d.value?.totalSteps*100}%`})},null,4)])]),q("div",OL,[q("h5",FL,Ee(d.value?.currentStepTitle),1),q("p",DL,Ee(d.value?.currentStepDescription),1),q("div",UL,[q("button",{class:"step-btn prev",onClick:P,disabled:f.value===1},Ee(re.$t("rightPanel.previous")),9,HL),q("button",{class:"step-btn next",onClick:S,disabled:f.value===d.value?.totalSteps},Ee(re.$t("rightPanel.next")),9,$L)])])])):St("",!0)])],512),[[rf,i.value==="guide"]]),cs(q("div",GL,[q("div",qL,[q("div",jL,[q("div",zL,[q("span",{class:xt(["status-indicator",{online:B.value}])},null,2),q("span",VL,Ee(B.value?re.$t("rightPanel.supportOnline"):re.$t("rightPanel.supportOffline")),1)]),q("div",WL,[q("span",KL,Ee(re.$t("rightPanel.avgResponseTime"))+": ~"+Ee(x.value)+Ee(re.$t("rightPanel.minutes")),1)])]),q("div",{class:"chat-messages",ref_key:"chatMessages",ref:M},[M.value.length===0?(Be(),Te("div",QL,[xe[8]||(xe[8]=q("div",{class:"welcome-icon"},"👋",-1)),q("h4",ZL,Ee(re.$t("rightPanel.chatWelcome")),1),q("p",YL,Ee(re.$t("rightPanel.chatWelcomeText")),1),q("div",JL,[q("h5",XL,Ee(re.$t("rightPanel.quickQuestions")),1),q("div",eO,[(Be(),Te(or,null,yi(j,ye=>q("button",{key:ye.id,class:"question-btn",onClick:ke=>F(ye.text)},Ee(re.$t(`rightPanel.quickQuestions.${ye.id}`)),9,tO)),64))])])])):(Be(),Te("div",nO,[(Be(!0),Te(or,null,yi(M.value,ye=>(Be(),Te("div",{key:ye.id,class:xt(["chat-message",{user:ye.sender==="user",support:ye.sender==="support"}])},[q("div",rO,[ye.sender==="user"?(Be(),Te("span",iO,"👤")):(Be(),Te("span",sO,"🎧"))]),q("div",oO,[q("div",aO,Ee(ye.text),1),q("div",cO,Ee(se(ye.timestamp)),1)])],2))),128)),R.value?(Be(),Te("div",uO,xe[9]||(xe[9]=[q("div",{class:"typing-avatar"},"🎧",-1),q("div",{class:"typing-content"},[q("div",{class:"typing-dots"},[q("span"),q("span"),q("span")])],-1)]))):St("",!0)]))],512),q("div",lO,[q("div",fO,[cs(q("input",{"onUpdate:modelValue":xe[0]||(xe[0]=ye=>I.value=ye),type:"text",class:"chat-input",placeholder:re.$t("rightPanel.typeMessage"),onKeyup:Ea(v,["enter"]),disabled:!B.value},null,40,dO),[[yg,I.value]]),q("button",{class:"send-btn",onClick:v,disabled:!I.value.trim()||!B.value},xe[10]||(xe[10]=[q("span",{class:"send-icon"},"📤",-1)]),8,hO)]),q("div",pO,[q("div",mO,[q("button",{class:"upload-btn",onClick:xe[1]||(xe[1]=ye=>re.$refs.fileInput.click())},[xe[11]||(xe[11]=q("span",{class:"upload-icon"},"📎",-1)),wr(" "+Ee(re.$t("rightPanel.attachFile")),1)]),q("input",{ref:"fileInput",type:"file",hidden:"",onChange:fe,accept:"image/*,.pdf,.doc,.docx"},null,544)])])])])],512),[[rf,i.value==="chat"]])])),o.value?(Be(),Te("div",{key:1,class:"guide-overlay",onClick:h},[q("div",{class:"guide-tooltip",style:R0(y.value)},[q("div",gO,[q("div",yO,[q("span",vO,Ee(re.$t("rightPanel.step"))+" "+Ee(f.value),1),q("button",{class:"tooltip-close",onClick:h},"×")]),q("div",wO,[q("h5",bO,Ee(p.value?.title),1),q("p",_O,Ee(p.value?.description),1)]),q("div",AO,[q("button",{class:"tooltip-btn skip",onClick:A},Ee(re.$t("rightPanel.skip")),1),q("div",EO,[q("button",{class:"tooltip-btn prev",onClick:P,disabled:f.value===1},Ee(re.$t("rightPanel.previous")),9,xO),q("button",{class:"tooltip-btn next",onClick:S},Ee(f.value===d.value?.totalSteps?re.$t("rightPanel.finish"):re.$t("rightPanel.next")),1)])])]),xe[12]||(xe[12]=q("div",{class:"tooltip-arrow"},null,-1))],4)])):St("",!0)],2))}}),SO=$s(IO,[["__scopeId","data-v-686cad17"]]),BO={class:"app-container"},kO={class:"main-content"},TO=gn({__name:"App",setup(t){const e=Cg(),n=Fb();return fc(()=>{e.loadTheme(),n.init()}),(r,s)=>(Be(),Te("div",BO,[Ht(aS),Ht(FN),q("main",kO,[Ht(Lt(Kb),null,{default:Nn(({Component:i,route:a})=>[Ht(gg,{name:"fade",mode:"out-in"},{default:Nn(()=>[(Be(),sd(Qb(i),{key:a.fullPath}))]),_:2},1024)]),_:1})]),Ht(SO)]))}}),RO="modulepreload",MO=function(t){return"/"+t},hg={},Gt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");s=f(n.map(d=>{if(d=MO(d),d in hg)return;hg[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const B=document.createElement("link");if(B.rel=p?"stylesheet":RO,p||(B.as="script"),B.crossOrigin="",B.href=d,o&&B.setAttribute("nonce",o),document.head.appendChild(B),p)return new Promise((x,M)=>{B.addEventListener("load",x),B.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},CO="/assets/logo_byLee-Cg8hWbE_.svg",hl="https://api.gli-platform.com",ln=os.create({baseURL:hl,timeout:1e4,headers:{"Content-Type":"application/json"}});ln.interceptors.request.use(t=>{const e=localStorage.getItem("access_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));ln.interceptors.response.use(t=>t,async t=>{const e=t.config;if(t.response?.status===401&&!e._retry){e._retry=!0;try{const n=localStorage.getItem("refresh_token");if(n){const r=await os.post(`${hl}/auth/refresh/`,{refresh_token:n}),{access_token:s}=r.data;return localStorage.setItem("access_token",s),e.headers.Authorization=`Bearer ${s}`,ln(e)}}catch{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"}}return Promise.reject(t)});const Aa={login:t=>ln.post("/auth/login/",t),register:t=>ln.post("/auth/register/",t),logout:()=>ln.post("/auth/logout/"),getSessions:()=>ln.get("/auth/sessions/"),deleteSession:t=>ln.delete(`/auth/sessions/${t}/`)},pg={getProfile:()=>ln.get("/profile/"),getProfileById:t=>ln.get(`/profile/${t}/`),updateProfile:t=>ln.patch("/profile/",t),patchProfile:t=>ln.patch("/profile/",t),uploadAvatar:t=>{const e=new FormData;return e.append("avatar",t),console.log("[DEBUG] uploadAvatar 호출됨"),console.log("[DEBUG] baseURL:",hl),console.log("[DEBUG] 요청 URL:",`${hl}/profile/avatar/`),console.log("[DEBUG] 파일 정보:",{name:t.name,size:t.size,type:t.type}),ln.post("/profile/avatar/",e,{headers:{"Content-Type":"multipart/form-data"}})},deleteAvatar(){return ln.delete("/profile/avatar/")},changePassword:t=>ln.post("/profile/change-password/",t),verifyPhone:t=>ln.post("/profile/verify-phone/",t),updateSubscription:t=>ln.post("/profile/update-subscription/",t),deleteAccount:()=>ln.delete("/profile/")},kc=pl("auth",()=>{const t=He(localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null),e=He(localStorage.getItem("access_token")),n=He(localStorage.getItem("refresh_token")),r=He(!1),s=He(null),i=dc(),a=_t(()=>!!e.value&&!!t.value),o=_t(()=>t.value?.role||"guest"),f=async N=>{r.value=!0,s.value=null;try{const D=await Aa.login(N),{tokens:U,user:K}=D.data;return e.value=U.access_token,n.value=U.refresh_token,localStorage.setItem("access_token",U.access_token),localStorage.setItem("refresh_token",U.refresh_token),localStorage.setItem("tokens",JSON.stringify(U)),t.value=K,localStorage.setItem("user",JSON.stringify(K)),D.data}catch(D){throw s.value=D.response?.data?.error||"로그인에 실패했습니다.",D}finally{r.value=!1}},d=async N=>{r.value=!0,s.value=null;try{const D=await Aa.register(N),{tokens:U,user:K}=D.data;return e.value=U.access_token,n.value=U.refresh_token,localStorage.setItem("access_token",U.access_token),localStorage.setItem("refresh_token",U.refresh_token),localStorage.setItem("tokens",JSON.stringify(U)),t.value=K,localStorage.setItem("user",JSON.stringify(K)),D.data}catch(D){throw s.value=D.response?.data?.error||"회원가입에 실패했습니다.",D}finally{r.value=!1}};async function p(){try{await Aa.logout(),console.log("[DEBUG] 백엔드 로그아웃 API 호출 완료")}catch(N){console.error("백엔드 로그아웃 실패:",N)}finally{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("tokens"),localStorage.removeItem("user"),e.value=null,n.value=null,t.value=null,s.value=null,console.log("[DEBUG] 프론트엔드 상태 정리 완료"),Tc().resetState(),await i.push("/login")}}const y=async()=>{if(e.value)try{const N=await pg.getProfile();t.value=N.data,localStorage.setItem("user",JSON.stringify(N.data))}catch(N){console.error("프로필 조회 중 오류:",N),N.response?.status===401&&await p()}};return{user:t,accessToken:e,refreshToken:n,isLoading:r,error:s,isAuthenticated:a,userRole:o,login:f,register:d,logout:p,fetchProfile:y,updateProfile:async N=>{r.value=!0,s.value=null;try{const D=await pg.updateProfile(N);return t.value={...t.value,...D.data},localStorage.setItem("user",JSON.stringify(t.value)),D.data}catch(D){throw s.value=D.response?.data?.error||"프로필 업데이트에 실패했습니다.",D}finally{r.value=!1}},getSessions:async()=>{try{return(await Aa.getSessions()).data}catch(N){throw console.error("세션 조회 중 오류:",N),N}},deleteSession:async N=>{try{await Aa.deleteSession(N)}catch(D){throw console.error("세션 삭제 중 오류:",D),D}},clearError:()=>{s.value=null},initialize:async()=>{e.value&&await y()}}});function PO(t){t.beforeEach((e,n,r)=>{e.name==="case-search"&&(sessionStorage.setItem("autoHideSideMenus","true"),sessionStorage.setItem("leftSidebarHidden","true"),sessionStorage.setItem("rightSidebarHidden","true")),e.name==="case-detail"&&(sessionStorage.setItem("leftSidebarHidden","true"),sessionStorage.setItem("rightSidebarHidden","true")),e.name==="profile-edit"&&(sessionStorage.setItem("leftSidebarHidden","true"),sessionStorage.setItem("rightSidebarHidden","true")),n.name==="case-search"&&e.name!=="case-search"&&(sessionStorage.removeItem("autoHideSideMenus"),sessionStorage.removeItem("leftSidebarHidden"),sessionStorage.removeItem("rightSidebarHidden")),n.name==="profile-edit"&&e.name!=="profile-edit"&&(sessionStorage.removeItem("leftSidebarHidden"),sessionStorage.removeItem("rightSidebarHidden")),r()}),t.afterEach(e=>{if(e.name!=="case-search"&&e.name!=="profile-edit"&&!sessionStorage.getItem("autoHideSideMenus")){const r=localStorage.getItem("leftSidebarState"),s=localStorage.getItem("rightSidebarState");r&&sessionStorage.setItem("leftSidebarHidden",r),s&&sessionStorage.setItem("rightSidebarHidden",s)}})}function NO(t){t.beforeEach(async(e,n,r)=>{const s=kc();if(e.name==="login"||e.name==="signup"){if(s.isAuthenticated){r({name:"home"});return}r();return}if(e.meta.requiresAuth!==!1&&!s.isAuthenticated){r({name:"login",query:{redirect:e.fullPath}});return}r()})}class lo{static instance;constructor(){}static getInstance(){return lo.instance||(lo.instance=new lo),lo.instance}setLeftSidebarHidden(e){sessionStorage.setItem("leftSidebarHidden",e.toString()),localStorage.setItem("leftSidebarState",e.toString())}setRightSidebarHidden(e){sessionStorage.setItem("rightSidebarHidden",e.toString()),localStorage.setItem("rightSidebarState",e.toString())}isLeftSidebarHidden(){const e=sessionStorage.getItem("leftSidebarHidden");return e!==null?e==="true":localStorage.getItem("leftSidebarState")==="true"}isRightSidebarHidden(){const e=sessionStorage.getItem("rightSidebarHidden");return e!==null?e==="true":localStorage.getItem("rightSidebarState")==="true"}isAutoHideMode(){return sessionStorage.getItem("autoHideSideMenus")==="true"}disableAutoHideMode(){sessionStorage.removeItem("autoHideSideMenus")}resetStates(){sessionStorage.removeItem("leftSidebarHidden"),sessionStorage.removeItem("rightSidebarHidden"),sessionStorage.removeItem("autoHideSideMenus"),localStorage.removeItem("leftSidebarState"),localStorage.removeItem("rightSidebarState")}isCaseSearchRoute(){return window.location.pathname==="/case-search"}}class fo{static instance;listeners=[];constructor(){this.setupPopStateListener()}static getInstance(){return fo.instance||(fo.instance=new fo),fo.instance}setupPopStateListener(){window.addEventListener("popstate",e=>{const n=window.location.pathname,r=e.state?.previousPath||"/";this.notifyListeners(n,r)})}addListener(e){this.listeners.push(e)}removeListener(e){const n=this.listeners.indexOf(e);n>-1&&this.listeners.splice(n,1)}notifyListeners(e,n){this.listeners.forEach(r=>{try{r(e,n)}catch(s){console.error("Route change listener error:",s)}})}notifyRouteChange(e,n){this.notifyListeners(e,n)}}const Tc=pl("sideMenu",()=>{const t=He(!1),e=He(!0),n=He(!1),r=He(!1),s=He({leftSidebarDefault:!1,rightSidebarDefault:!0,enableAutoHide:!0}),i=lo.getInstance();fo.getInstance();const a=ml(),o=_t(()=>a.name==="case-search"),f=_t(()=>o.value&&s.value.enableAutoHide),d=_t(()=>!t.value),p=_t(()=>!e.value),y=_t(()=>({"auto-hide-mode":n.value}));function B(){console.log("SideMenuStore: 초기화 시작"),M();const G=window.location.pathname;G.includes("/case-detail")||G.includes("/case-search")||G.includes("/law-search")||G==="/"||G==="/home"?(console.log("SideMenuStore: 메인 화면 감지, 사이드바 기본 숨김"),t.value=!0,e.value=!0,i.setLeftSidebarHidden(!0),i.setRightSidebarHidden(!0),_i(()=>{console.log("SideMenuStore: DOM 업데이트 후 상태 확인",{leftHidden:t.value,rightHidden:e.value})})):(t.value=i.isLeftSidebarHidden(),e.value=i.isRightSidebarHidden()),console.log("SideMenuStore: 초기화 완료",{leftHidden:t.value,rightHidden:e.value,autoHide:f.value})}function x(){console.log("SideMenuStore: 로그아웃 시 상태 초기화"),t.value=!0,e.value=!0,n.value=!1,r.value=!1,i.setLeftSidebarHidden(!0),i.setRightSidebarHidden(!0),i.disableAutoHideMode(),s.value={leftSidebarDefault:!1,rightSidebarDefault:!1,enableAutoHide:!0};try{localStorage.removeItem("sideMenuPreferences"),localStorage.removeItem("leftSidebarHidden"),localStorage.removeItem("rightSidebarHidden"),localStorage.removeItem("autoHideMode")}catch(G){console.error("Failed to clear side menu localStorage:",G)}console.log("SideMenuStore: 로그아웃 시 상태 초기화 완료")}function M(){try{const G=localStorage.getItem("sideMenuPreferences");G&&(s.value={...s.value,...JSON.parse(G)})}catch(G){console.error("Failed to load side menu preferences:",G)}}function I(){try{localStorage.setItem("sideMenuPreferences",JSON.stringify(s.value))}catch(G){console.error("Failed to save side menu preferences:",G)}}function R(){n.value||(r.value=!0,n.value=!0,t.value=!0,e.value=!0,i.setLeftSidebarHidden(!0),i.setRightSidebarHidden(!0),setTimeout(()=>{r.value=!1},300))}function N(){n.value&&(n.value=!1,i.disableAutoHideMode())}function D(){t.value=s.value.leftSidebarDefault,e.value=s.value.rightSidebarDefault,i.setLeftSidebarHidden(s.value.leftSidebarDefault),i.setRightSidebarHidden(s.value.rightSidebarDefault)}function U(){console.log("SideMenuStore: toggleLeftSidebar 호출됨"),console.log("SideMenuStore: 토글 전 leftSidebarHidden:",t.value),t.value=!t.value,i.setLeftSidebarHidden(t.value),console.log("SideMenuStore: 토글 후 leftSidebarHidden:",t.value),_i(()=>{const G=document.querySelector(".sidebar--left");console.log("SideMenuStore: DOM 업데이트 후 leftSidebar 클래스:",G?.className)})}function K(){console.log("SideMenuStore: toggleRightSidebar 호출됨"),console.log("SideMenuStore: 토글 전 rightSidebarHidden:",e.value),e.value=!e.value,i.setRightSidebarHidden(e.value),console.log("SideMenuStore: 토글 후 rightSidebarHidden:",e.value),_i(()=>{const G=document.querySelector(".sidebar--right");console.log("SideMenuStore: DOM 업데이트 후 rightSidebar 클래스:",G?.className)})}function j(){n.value&&o.value&&N();const G=!t.value||!e.value;t.value=G,e.value=G,i.setLeftSidebarHidden(G),i.setRightSidebarHidden(G),s.value.leftSidebarDefault=G,s.value.rightSidebarDefault=G,I()}function J(){s.value.enableAutoHide=!s.value.enableAutoHide,I(),s.value.enableAutoHide&&o.value?R():s.value.enableAutoHide||N()}function ne(){i.resetStates(),t.value=!1,e.value=!0,n.value=!1,r.value=!1}function X(){return{leftSidebarHidden:t.value,rightSidebarHidden:e.value,autoHideMode:n.value,userPreferences:s.value}}function Z(G){G.leftSidebarHidden!==void 0&&(t.value=G.leftSidebarHidden,i.setLeftSidebarHidden(G.leftSidebarHidden)),G.rightSidebarHidden!==void 0&&(e.value=G.rightSidebarHidden,i.setRightSidebarHidden(G.rightSidebarHidden)),G.autoHideMode!==void 0&&(n.value=G.autoHideMode),G.userPreferences&&(s.value={...s.value,...G.userPreferences},I())}return{leftSidebarHidden:t,rightSidebarHidden:e,autoHideMode:n,isTransitioning:r,userPreferences:s,isCaseSearchRoute:o,shouldAutoHide:f,leftSidebarVisible:d,rightSidebarVisible:p,mainContentClass:y,initialize:B,toggleLeftSidebar:U,toggleRightSidebar:K,toggleBothSidebars:j,toggleAutoHide:J,enableAutoHideMode:R,disableAutoHideMode:N,restoreUserPreferences:D,resetState:ne,exportState:X,importState:Z,saveUserPreferences:I,resetOnLogout:x}}),LO={class:"header"},OO={class:"header__content"},FO=["aria-label","aria-expanded"],DO={key:1,class:"header__contract-info"},UO={class:"header__contract-text"},HO=["onKeydown"],$O={class:"header__controls"},GO={key:0,class:"header__greeting"},qO=["aria-label","aria-expanded"],jO=gn({__name:"BaseHeader",props:{showContractInfo:{type:Boolean,default:!1},contractInfoText:{default:""}},emits:["toggleLeftSidebar","toggleRightSidebar","exitContract"],setup(t,{emit:e}){const n=ml();dc();const r=Tc(),s=kc(),i=e,a=He(),o=_t(()=>(console.log("BaseHeader: showHomeButton computed, route.meta.showHomeButton:",n.meta.showHomeButton),n.meta.showHomeButton!==!1)),f=_t(()=>(console.log("BaseHeader: showLeftToggle computed, route.meta.showLeftToggle:",n.meta.showLeftToggle),n.meta.showLeftToggle!==!1)),d=_t(()=>(console.log("BaseHeader: showRightToggle computed, route.meta.showRightToggle:",n.meta.showRightToggle),n.meta.showRightToggle!==!1)),p=_t(()=>r.leftSidebarHidden),y=_t(()=>r.rightSidebarHidden),B=()=>{try{console.log("BaseHeader: toggleLeftSidebar 호출됨"),console.log("BaseHeader: 토글 전 상태:",r.leftSidebarHidden),r.toggleLeftSidebar(),console.log("BaseHeader: 스토어 업데이트 완료, 상태:",r.leftSidebarHidden),i("toggleLeftSidebar"),console.log("BaseHeader: emit 완료"),console.log("BaseHeader: toggleLeftSidebar 완료, 상태:",r.leftSidebarHidden)}catch(I){console.error("BaseHeader: toggleLeftSidebar 오류:",I)}},x=()=>{try{console.log("BaseHeader: toggleRightSidebar 호출됨"),console.log("BaseHeader: 토글 전 상태:",r.rightSidebarHidden),r.toggleRightSidebar(),console.log("BaseHeader: 스토어 업데이트 완료, 상태:",r.rightSidebarHidden),i("toggleRightSidebar"),console.log("BaseHeader: emit 완료"),console.log("BaseHeader: toggleRightSidebar 완료, 상태:",r.rightSidebarHidden),setTimeout(()=>{const I=document.getElementById("rightToggleBtn");I&&I.focus()},100)}catch(I){console.error("BaseHeader: toggleRightSidebar 오류:",I)}},M=()=>{try{i("exitContract")}catch(I){console.error("Failed to exit contract:",I)}};return fc(()=>{const I=R=>{const N=R.target;if(N.closest(".header__controls")){const D=N.closest(".header__controls")?.querySelectorAll("button");if(!D)return;const U=Array.from(D).indexOf(N);switch(R.key){case"ArrowLeft":R.preventDefault();const K=D[U-1];K&&K.focus();break;case"ArrowRight":R.preventDefault();const j=D[U+1];j&&j.focus();break;case"Home":R.preventDefault();const J=D[0];J&&J.focus();break;case"End":R.preventDefault();const ne=D[D.length-1];ne&&ne.focus();break}}};return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}}),(I,R)=>{const N=oh("router-link");return Be(),Te("header",LO,[q("div",OO,[f.value?(Be(),Te("button",{key:0,class:"header__toggle header__toggle--left",onClick:B,"aria-label":p.value?"왼쪽 사이드바 열기":"왼쪽 사이드바 닫기","aria-expanded":!p.value,tabindex:"0"},R[3]||(R[3]=[q("span",{class:"header__toggle-icon","aria-hidden":"true"},"⇄",-1)]),8,FO)):St("",!0),Ht(N,{to:"/",class:"header__logo"},{default:Nn(()=>R[4]||(R[4]=[q("img",{src:CO,alt:"LAWIDE",class:"header__logo-image"},null,-1)])),_:1,__:[4]}),R[5]||(R[5]=q("h1",{class:"header__title"},"/ 법률 도우미",-1)),I.showContractInfo?(Be(),Te("div",DO,[q("span",UO,Ee(I.contractInfoText),1),q("button",{class:"header__exit-btn",onClick:M,onKeydown:[Ea(M,["enter"]),Ea(M0(M,["prevent"]),["space"])],"aria-label":"계약 나가기",tabindex:"0"}," (계약 나가기) ",40,HO)])):St("",!0)]),q("div",$O,[Lt(s).user?(Be(),Te("div",GO,"안녕하세요! "+Ee(Lt(s).user.name)+"님.",1)):St("",!0),o.value?(Be(),Te("button",{key:1,class:"header__btn header__btn--home",onClick:R[0]||(R[0]=D=>I.$router.push("/")),onKeydown:[R[1]||(R[1]=Ea(D=>I.$router.push("/"),["enter"])),R[2]||(R[2]=Ea(M0(D=>I.$router.push("/"),["prevent"]),["space"]))],"aria-label":"홈으로 이동",tabindex:"0"},R[6]||(R[6]=[q("span",{class:"header__btn-icon","aria-hidden":"true"},"⌂",-1)]),32)):St("",!0),d.value?(Be(),Te("button",{key:2,class:"header__btn header__btn--menu",onClick:x,"aria-label":y.value?"우측 사이드바 열기":"우측 사이드바 닫기","aria-expanded":!y.value,tabindex:"0",ref_key:"rightSidebarButton",ref:a},R[7]||(R[7]=[q("span",{class:"header__btn-icon","aria-hidden":"true"},"☰",-1)]),8,qO)):St("",!0)])])}}}),zO=$s(jO,[["__scopeId","data-v-1ed29abd"]]),VO=gn({__name:"LeftSidebar",props:{isHidden:{type:Boolean,default:!1}},setup(t){const e=dc(),n=t;xs(()=>n.isHidden,(f,d)=>{console.log("LeftSidebar: isHidden 변경됨",{oldValue:d,newValue:f}),_i(()=>{const p=document.querySelector(".sidebar--left");console.log("LeftSidebar: 현재 DOM 클래스:",p?.className),console.log("LeftSidebar: sidebar--hidden 클래스 포함 여부:",p?.classList.contains("sidebar--hidden")),console.log("LeftSidebar: 현재 left 스타일:",p?.style.left)})},{immediate:!0});const r=He("contract,content,register,tax"),s=He(""),i=f=>{r.value.includes(f)||(r.value+=","+f)},a=f=>{s.value=f,f==="register-issuance"?e.push("/register-issuance"):f==="contract-doc-choice"&&e.push("/contract-doc-choice")},o=()=>{alert("Coming soon 기능입니다.")};return(f,d)=>(Be(),Te("nav",{class:xt(["sidebar sidebar--left",{"sidebar--hidden":f.isHidden}]),id:"leftSidebar"},[q("div",{class:xt(["sidebar__item",{"sidebar__item--active":s.value==="register-issuance"}]),onClick:d[0]||(d[0]=p=>a("register-issuance"))},d[15]||(d[15]=[q("span",{class:"sidebar__item-text"},"등기&대장 발급하기",-1)]),2),q("div",{class:xt(["sidebar__item sidebar__item--has-submenu",{"sidebar__item--active":r.value.includes("contract")}]),onClick:d[1]||(d[1]=p=>i("contract"))},d[16]||(d[16]=[q("span",{class:"sidebar__item-text"},"계약 도우미",-1)]),2),q("ul",{class:xt(["sidebar__submenu",{"sidebar__submenu--active":r.value.includes("contract")}])},[q("li",{class:"sidebar__submenu-item",onClick:d[2]||(d[2]=p=>a("contract-doc-choice"))},"계약서 작성"),q("li",{class:"sidebar__submenu-item",onClick:d[3]||(d[3]=p=>o())},d[17]||(d[17]=[q("span",{class:"sidebar__submenu-text"},"계약서 검토",-1),q("span",{class:"sidebar__badge sidebar__badge--coming-soon"},"Coming soon",-1)])),q("li",{class:"sidebar__submenu-item",onClick:d[4]||(d[4]=p=>o())},d[18]||(d[18]=[q("span",{class:"sidebar__submenu-text"},"권리분석",-1),q("span",{class:"sidebar__badge sidebar__badge--coming-soon"},"Coming soon",-1)])),q("li",{class:"sidebar__submenu-item",onClick:d[5]||(d[5]=p=>o())},d[19]||(d[19]=[q("span",{class:"sidebar__submenu-text"},"계약관리",-1),q("span",{class:"sidebar__badge sidebar__badge--coming-soon"},"Coming soon",-1)]))],2),q("div",{class:xt(["sidebar__item sidebar__item--has-submenu",{"sidebar__item--active":r.value.includes("content")}]),onClick:d[6]||(d[6]=p=>i("content"))},d[20]||(d[20]=[q("span",{class:"sidebar__item-text"},"내용증명 도우미",-1),q("span",{class:"sidebar__badge sidebar__badge--premium"},[q("span",{class:"sidebar__badge-icon"},"⭐"),q("span",{class:"sidebar__badge-text"},"프리미엄")],-1)]),2),q("ul",{class:xt(["sidebar__submenu",{"sidebar__submenu--active":r.value.includes("content")}])},[q("li",{class:"sidebar__submenu-item",onClick:d[7]||(d[7]=p=>o())},d[21]||(d[21]=[q("span",{class:"sidebar__submenu-text"},"내용증명 작성",-1),q("span",{class:"sidebar__badge sidebar__badge--coming-soon"},"Coming soon",-1)])),q("li",{class:"sidebar__submenu-item",onClick:d[8]||(d[8]=p=>o())},d[22]||(d[22]=[q("span",{class:"sidebar__submenu-text"},"내용증명 검토",-1),q("span",{class:"sidebar__badge sidebar__badge--coming-soon"},"Coming soon",-1)]))],2),q("div",{class:xt(["sidebar__item sidebar__item--has-submenu",{"sidebar__item--active":r.value.includes("register")}]),onClick:d[9]||(d[9]=p=>i("register"))},d[23]||(d[23]=[q("span",{class:"sidebar__item-text"},"등기 도우미",-1),q("span",{class:"sidebar__badge sidebar__badge--premium"},[q("span",{class:"sidebar__item-text"},"⭐"),q("span",{class:"sidebar__badge-text"},"프리미엄")],-1)]),2),q("ul",{class:xt(["sidebar__submenu",{"sidebar__submenu--active":r.value.includes("register")}])},[q("li",{class:"sidebar__submenu-item",onClick:d[10]||(d[10]=p=>o())},d[24]||(d[24]=[q("span",{class:"sidebar__submenu-text"},"등기 분석",-1),q("span",{class:"sidebar__badge sidebar__badge--coming-soon"},"Coming soon",-1)])),q("li",{class:"sidebar__submenu-item",onClick:d[11]||(d[11]=p=>o())},d[25]||(d[25]=[q("span",{class:"sidebar__submenu-text"},"권리 검토",-1),q("span",{class:"sidebar__badge sidebar__badge--coming-soon"},"Coming soon",-1)]))],2),q("div",{class:xt(["sidebar__item sidebar__item--has-submenu",{"sidebar__item--active":r.value.includes("tax")}]),onClick:d[12]||(d[12]=p=>i("tax"))},d[26]||(d[26]=[q("span",{class:"sidebar__item-text"},"세금 도우미",-1),q("span",{class:"sidebar__badge sidebar__badge--premium"},[q("span",{class:"sidebar__badge-icon"},"⭐"),q("span",{class:"sidebar__badge-text"},"프리미엄")],-1)]),2),q("ul",{class:xt(["sidebar__submenu",{"sidebar__submenu--active":r.value.includes("tax")}])},[q("li",{class:"sidebar__submenu-item",onClick:d[13]||(d[13]=p=>o())},d[27]||(d[27]=[q("span",{class:"sidebar__submenu-text"},"절세 분석",-1),q("span",{class:"sidebar__badge sidebar__badge--coming-soon"},"Coming soon",-1)])),q("li",{class:"sidebar__submenu-item",onClick:d[14]||(d[14]=p=>o())},d[28]||(d[28]=[q("span",{class:"sidebar__submenu-text"},"관련 법령",-1),q("span",{class:"sidebar__badge sidebar__badge--coming-soon"},"Coming soon",-1)]))],2)],2))}}),WO=$s(VO,[["__scopeId","data-v-cda63c28"]]),KO={class:"sidebar__profile"},QO={class:"sidebar__profile-wrapper"},ZO=["src","alt"],YO={class:"sidebar__profile-name"},JO={class:"sidebar__nav"},XO={class:"sidebar__section"},eF={class:"sidebar__contract-list"},tF=["onClick"],nF={class:"sidebar__contract-address"},rF={class:"sidebar__contract-date"},iF={class:"sidebar__footer"},sF="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iI2U1ZTdlYSIvPjxjaXJjbGUgY3g9IjUwIiBjeT0iMzUiIHI9IjE1IiBmaWxsPSIjOWNhM2FmIi8+PHBhdGggZD0iTTEwIDgwIEMxMCA2MCAyMCA1MCA1MCA1MCBDODAgNTAgOTAgNjAgOTAgODAgWiIgZmlsbD0iIzljYTNhZiIvPjwvc3ZnPg==",oF=gn({__name:"RightSidebar",props:{isHidden:{type:Boolean}},emits:["toggleSidebar","logout"],setup(t,{emit:e}){const n=t,r=Tc(),s=kc(),i=_t(()=>s.user?.name||"사용자"),a=_t(()=>s.user?.profile_image_url||s.user?.profile_image);xs(()=>n.isHidden,(y,B)=>{console.log("RightSidebar: isHidden 변경됨",{oldValue:B,newValue:y}),_i(()=>{const x=document.querySelector(".sidebar--right");console.log("RightSidebar: 현재 DOM 클래스:",x?.className),console.log("RightSidebar: sidebar--hidden 클래스 포함 여부:",x?.classList.contains("sidebar--hidden")),console.log("RightSidebar: 현재 right 스타일:",x?.style.right)})},{immediate:!0});const o=He(null),f=[{id:"contract-1",address:"성수동 6층 빌라",date:"25/04"},{id:"contract-2",address:"서초1동 지파이브1층",date:"25/01"},{id:"contract-3",address:"강남구 역삼동 123-45",date:"24/12"},{id:"contract-4",address:"마포구 서교동 678-90",date:"24/11"}];function d(y){o.value=y.id}function p(){console.log("RightSidebar: handleToggleSidebar 호출됨"),console.log("RightSidebar: 토글 전 상태:",r.rightSidebarHidden),console.log("RightSidebar: 토글 전 isHidden prop:",n.isHidden),r.toggleRightSidebar(),console.log("RightSidebar: 토글 후 상태:",r.rightSidebarHidden),console.log("RightSidebar: 토글 후 isHidden prop:",n.isHidden),_i(()=>{const y=document.querySelector(".sidebar--right");console.log("RightSidebar: DOM 업데이트 후 클래스:",y?.className),console.log("RightSidebar: sidebar--hidden 클래스 포함 여부:",y?.classList.contains("sidebar--hidden")),console.log("RightSidebar: 현재 right 스타일:",y?.style.right)})}return(y,B)=>{const x=oh("router-link");return Be(),Te(or,null,[q("div",{class:xt(["right-sidebar-overlay",{"right-sidebar-overlay--active":!y.isHidden}]),onClick:p},null,2),q("aside",{class:xt(["sidebar sidebar--right",{"sidebar--hidden":y.isHidden}])},[q("button",{class:"sidebar__close-btn",onClick:p},B[1]||(B[1]=[q("span",{class:"sidebar__close-icon"},"☰",-1)])),q("div",KO,[q("div",QO,[q("img",{src:a.value||sF,alt:`${i.value}의 프로필 이미지`,class:"sidebar__profile-image"},null,8,ZO)]),q("div",YO,Ee(i.value),1)]),q("nav",JO,[Ht(x,{to:"/profile-edit",class:"sidebar__nav-link"},{default:Nn(()=>B[2]||(B[2]=[wr("내 정보 수정",-1)])),_:1,__:[2]}),Ht(x,{to:"/user-doc-mgmt",class:"sidebar__nav-link"},{default:Nn(()=>B[3]||(B[3]=[wr("개인 문서 관리",-1)])),_:1,__:[3]}),Ht(x,{to:"/contractcase-partner-management",class:"sidebar__nav-link"},{default:Nn(()=>B[4]||(B[4]=[wr("파트너 & 계약 목록 관리",-1)])),_:1,__:[4]})]),q("div",XO,[B[5]||(B[5]=q("h3",{class:"sidebar__section-title"},"계약 목록",-1)),q("div",eF,[(Be(),Te(or,null,yi(f,M=>q("div",{key:M.id,class:xt(["sidebar__contract-item",{"sidebar__contract-item--active":o.value===M.id}]),onClick:I=>d(M)},[q("span",nF,Ee(M.address),1),q("span",rF,Ee(M.date),1)],10,tF)),64))])]),q("div",iF,[q("button",{class:"sidebar__logout-btn",onClick:B[0]||(B[0]=M=>y.$emit("logout"))},"로그아웃")])],2)],64)}}}),aF=$s(oF,[["__scopeId","data-v-c8aaad2d"]]),cF={class:"main-html-root"},uF={class:"main-content"},lF={class:"content-wrapper"},fF={class:"contract-info-section"},dF={class:"contract-info-header"},hF={class:"contract-address"},pF={class:"prompt-container"},mF={class:"prompt-input"},gF=gn({__name:"HomeView",setup(t){const e=dc(),n=Tc(),r=kc(),s=_t(()=>n.leftSidebarHidden),i=_t(()=>n.rightSidebarHidden),a=He(!1);He(!1),He("");const o=He(""),f=He(""),d=()=>{console.log("HomeView: handleToggleLeftSidebar 호출됨"),console.log("HomeView: 좌측 사이드바 상태:",n.leftSidebarHidden)},p=()=>{console.log("HomeView: handleToggleRightSidebar 호출됨"),console.log("HomeView: 우측 사이드바 상태:",n.rightSidebarHidden)},y=M=>{const I=M.target;I.files&&I.files[0]&&console.log("File uploaded:",I.files[0].name)},B=async()=>{await r.logout(),e.push("/login")},x=()=>{console.log("=== HomeView checkAuthStatus started ===");const M=localStorage.getItem("user"),I=localStorage.getItem("tokens");if(console.log("localStorage user:",M),console.log("localStorage tokens:",I),!M||!I)return console.log("User not authenticated, redirecting to login"),e.push("/login"),!1;try{const R=JSON.parse(M);return console.log("Authenticated user:",R),console.log("=== HomeView checkAuthStatus completed successfully ==="),!0}catch(R){return console.error("Error parsing user data:",R),localStorage.removeItem("user"),localStorage.removeItem("tokens"),e.push("/login"),!1}};return fc(async()=>{if(x())try{await r.fetchProfile()}catch(M){console.error("프로필 정보 가져오기 실패:",M)}}),(M,I)=>(Be(),Te("div",cF,[Ht(zO,{onToggleLeftSidebar:d,onToggleRightSidebar:p}),Ht(WO,{isHidden:s.value},null,8,["isHidden"]),Ht(aF,{isHidden:i.value,onToggleSidebar:p,onLogout:B},null,8,["isHidden"]),q("div",uF,[q("div",lF,[q("div",{class:xt(["contract-mode",{active:a.value}])},[q("div",fF,[q("div",dF,[q("div",hF,Ee(o.value),1),I[1]||(I[1]=q("div",{class:"contract-status"},"진행중",-1))]),I[2]||(I[2]=id('<div class="document-list" data-v-e6cad8ab><div class="document-item" data-v-e6cad8ab><span class="document-icon" data-v-e6cad8ab>📄</span><span class="document-name" data-v-e6cad8ab>부동산 매매 계약서.docx</span><span class="document-date" data-v-e6cad8ab>2024/04/25</span></div><div class="document-item" data-v-e6cad8ab><span class="document-icon" data-v-e6cad8ab>📄</span><span class="document-name" data-v-e6cad8ab>등기부등본.pdf</span><span class="document-date" data-v-e6cad8ab>2024/04/24</span></div></div><div class="chat-section" data-v-e6cad8ab><div class="chat-message" data-v-e6cad8ab>최근 채팅 내용이 여기에 표시됩니다...</div><div class="chat-time" data-v-e6cad8ab>오후 3:45</div></div><div class="law-history" data-v-e6cad8ab><div class="law-item" data-v-e6cad8ab><span class="law-title" data-v-e6cad8ab>부동산등기법 제123조</span><span class="law-date" data-v-e6cad8ab>2024/04/25</span></div><div class="law-item" data-v-e6cad8ab><span class="law-title" data-v-e6cad8ab>민법 제570조</span><span class="law-date" data-v-e6cad8ab>2024/04/24</span></div></div>',3))])],2),q("div",pF,[q("div",mF,[cs(q("textarea",{"onUpdate:modelValue":I[0]||(I[0]=R=>f.value=R),class:"prompt-textarea",placeholder:"Ask Me Anything..."},null,512),[[yg,f.value]]),I[3]||(I[3]=q("label",{class:"upload-button",for:"fileUpload"},[q("span",{class:"check-icon"},"✓"),wr("UPLOAD ")],-1)),q("input",{type:"file",id:"fileUpload",onChange:y},null,32)])]),q("div",{class:xt(["tutorials",{active:!a.value}])},I[4]||(I[4]=[id('<div class="tutorial-card" data-v-e6cad8ab><strong data-v-e6cad8ab>튜토리얼(1)</strong><br data-v-e6cad8ab>판례/법령 검색<br data-v-e6cad8ab>(텍스트/동영상) </div><div class="tutorial-card" data-v-e6cad8ab><strong data-v-e6cad8ab>튜토리얼(2)</strong><br data-v-e6cad8ab>계약서 검토<br data-v-e6cad8ab>(텍스트/동영상) </div><div class="tutorial-card" data-v-e6cad8ab><strong data-v-e6cad8ab>튜토리얼(3)</strong><br data-v-e6cad8ab>리스크 점검<br data-v-e6cad8ab>(텍스트/동영상) </div><div class="tutorial-card" data-v-e6cad8ab><strong data-v-e6cad8ab>튜토리얼(4)</strong><br data-v-e6cad8ab>문서 작성<br data-v-e6cad8ab>(텍스트/동영상) </div>',4)]),2)])])]))}}),Db=$s(gF,[["__scopeId","data-v-e6cad8ab"]]),yF=Object.freeze(Object.defineProperty({__proto__:null,default:Db},Symbol.toStringTag,{value:"Module"})),tf=Zb({history:Yb("/"),routes:[{path:"/",name:"home",component:()=>Gt(()=>Promise.resolve().then(()=>yF),void 0)},{path:"/business",name:"business",component:()=>Gt(()=>import("./BusinessView-QSqFIOk0.js"),__vite__mapDeps([0,1,2,3]))},{path:"/auth",name:"auth",component:()=>Gt(()=>import("./AuthCenterView-BenaIzXh.js"),__vite__mapDeps([4,1,2,5])),meta:{requiresAuth:!0}},{path:"/mypage",name:"mypage",component:()=>Gt(()=>import("./MyPageView-DfUvbEdx.js"),__vite__mapDeps([6,1,2,7])),meta:{requiresAuth:!0}},{path:"/conversion",name:"conversion",component:()=>Gt(()=>import("./TokenConversionView-CF0-_WbC.js"),__vite__mapDeps([8,1,2,9])),meta:{requiresAuth:!0}},{path:"/shopping",name:"shopping",component:()=>Gt(()=>import("./ShoppingMallView-BNIUFDmP.js"),__vite__mapDeps([10,1,2,11])),meta:{requiresAuth:!0}},{path:"/referral",name:"referral",component:()=>Gt(()=>import("./ReferralSystemView-Bu8tx_Li.js"),__vite__mapDeps([12,1,2,13])),meta:{requiresAuth:!0}},{path:"/help",name:"help",component:()=>Gt(()=>import("./InformationCenterView-CPq1sxIW.js"),__vite__mapDeps([14,1,2,15])),meta:{requiresAuth:!0}},{path:"/home",name:"home-alt",component:Db,meta:{showHomeButton:!1,showLeftToggle:!0,showRightToggle:!0,requiresAuth:!0}},{path:"/design-tokens",name:"design-tokens",component:()=>Gt(()=>import("./DesignTokenDemo-IEyGyX-a.js"),__vite__mapDeps([16,17,1,2,18])),meta:{showHomeButton:!0,showLeftToggle:!0,showRightToggle:!0,requiresAuth:!0}},{path:"/token-test",name:"token-test",component:()=>Gt(()=>import("./TokenTest-CK1BR4T8.js"),__vite__mapDeps([19,17,1,2,20])),meta:{showHomeButton:!0,showLeftToggle:!0,showRightToggle:!0,requiresAuth:!0}},{path:"/styled-system",name:"styled-system",component:()=>Gt(()=>import("./StyledSystemDemo-C-KoRgfI.js"),__vite__mapDeps([21,17,22,1,2,23])),meta:{showHomeButton:!0,showLeftToggle:!0,showRightToggle:!0,requiresAuth:!0}},{path:"/accessibility-demo",name:"accessibility-demo",component:()=>Gt(()=>import("./AccessibilityDemo-BEXhcEWc.js"),__vite__mapDeps([24,17,22,1,2,25])),meta:{showHomeButton:!0,showLeftToggle:!0,showRightToggle:!0,requiresAuth:!0}},{path:"/login",name:"login",component:()=>Gt(()=>import("./LoginView-frKWU8gY.js"),__vite__mapDeps([26,1,2,27])),meta:{showHomeButton:!0,showLeftToggle:!1,showRightToggle:!1,requiresAuth:!1}},{path:"/signup",name:"signup",component:()=>Gt(()=>import("./SignupView-BVzNtxg1.js"),__vite__mapDeps([28,1,2,29])),meta:{showHomeButton:!0,showLeftToggle:!1,showRightToggle:!1,requiresAuth:!1}},{path:"/register-issuance",name:"register-issuance",component:()=>Gt(()=>import("./RegisterIssuanceView-BFPY8mrp.js"),__vite__mapDeps([30,1,2,31])),meta:{showHomeButton:!0,showLeftToggle:!0,showRightToggle:!0,requiresAuth:!0}},{path:"/contract-doc-choice",name:"contract-doc-choice",component:()=>Gt(()=>import("./ContractDocChoiceView-DO9lU_AU.js"),__vite__mapDeps([32,1,2,33])),meta:{requiresAuth:!0}},{path:"/contract/qa",name:"contract-qa",component:()=>Gt(()=>import("./QAView-CSKM-SfV.js"),__vite__mapDeps([34,1,35,36,2,37])),meta:{showHomeButton:!0,showLeftToggle:!0,showRightToggle:!0,requiresAuth:!0}},{path:"/contract/qb",name:"contract-qb",component:()=>Gt(()=>import("./QBView-Bpi0bt2K.js"),__vite__mapDeps([38,1,35,36,2,39])),meta:{showHomeButton:!0,showLeftToggle:!0,showRightToggle:!0,requiresAuth:!0}},{path:"/contract/qc",name:"contract-qc",component:()=>Gt(()=>import("./QCView-BobEgdZc.js"),__vite__mapDeps([40,1,35,36,2,41])),meta:{showHomeButton:!0,showLeftToggle:!0,showRightToggle:!0,requiresAuth:!0}},{path:"/contract/qe",name:"contract-qe",component:()=>Gt(()=>import("./QEView-g4e3oMXS.js"),__vite__mapDeps([42,1,35,36,2,43])),meta:{showHomeButton:!0,showLeftToggle:!0,showRightToggle:!0,requiresAuth:!0}},{path:"/preview/:contractId",name:"contract-preview",component:()=>Gt(()=>import("./ContractPreviewView-DvTfp4TL.js"),__vite__mapDeps([44,1,2,45])),meta:{showHomeButton:!0,showLeftToggle:!0,showRightToggle:!0,requiresAuth:!0}},{path:"/profile-edit",name:"profile-edit",component:()=>Gt(()=>import("./ProfileEditView-XFDKLYng.js"),__vite__mapDeps([46,1,2,47])),meta:{requiresAuth:!0}},{path:"/user-doc-mgmt",name:"user-doc-mgmt",component:()=>Gt(()=>import("./UserDocMgmtView-DS-gKZHh.js"),__vite__mapDeps([48,1,2,49])),meta:{showHomeButton:!0,showLeftToggle:!1,showRightToggle:!0,requiresAuth:!0}},{path:"/animation-demo",name:"animation-demo",component:()=>Gt(()=>import("./AnimationDemo-Cy5Avh5g.js"),__vite__mapDeps([50,1,2,51])),meta:{showHomeButton:!0,showLeftToggle:!0,showRightToggle:!0,requiresAuth:!0}}]});tf.beforeEach((t,e,n)=>{const r=!!localStorage.getItem("access_token");t.meta.requiresAuth&&!r?n("/login"):n()});PO(tf);NO(tf);const vF={common:{save:"저장",cancel:"취소",loading:"로딩 중...",error:"오류",success:"성공",confirm:"확인",close:"닫기",back:"뒤로",next:"다음",previous:"이전",edit:"수정",delete:"삭제",create:"생성",search:"검색",filter:"필터",sort:"정렬",refresh:"새로고침",upload:"업로드",download:"다운로드",copy:"복사",paste:"붙여넣기",select:"선택",all:"전체",none:"없음",yes:"예",no:"아니오",ok:"확인",connect:"연결",disconnect:"연결 해제",balance:"잔액",wallet:"지갑",network:"네트워크",enabled:"활성화",disabled:"비활성화",theme:{light:"라이트 모드",dark:"다크 모드",toggle:"테마 변경"}},nav:{business:"📄 사업 소개",auth:"🔐 인증 센터",conversion:"💱 토큰 변환",shopping:"🛍️ 쇼핑몰",mypage:"🧑 마이페이지",referral:"🤝 레퍼럴",help:"📑 안내 센터"},header:{brand:"GLI Platform",account:"계정",grade:"등급",walletAddress:"지갑 주소",authNumber:"인증 번호",networkStatus:"네트워크 상태",login:"로그인",logout:"로그아웃",autoLogin:"3일 자동 로그인",language:{korean:"한국어",english:"English"}},web3:{connecting:"지갑 연결 중...",connected:"연결됨",disconnected:"연결되지 않음",networkError:"네트워크 오류",walletNotFound:"지갑을 찾을 수 없습니다",transactionPending:"거래 처리 중...",transactionSuccess:"거래 완료",transactionFailed:"거래 실패",insufficientBalance:"잔액이 부족합니다"},tokens:{glib:"GLIB (RWA 코인)",glid:"GLID (거버넌스)",glil:"GLIL (게임/스테이블)",usdt:"USDT",conversion:"변환",amount:"수량",from:"출발",to:"도착",rate:"환율",fee:"수수료",convert:"변환하기"},business:{hero:{subtitle:"프리미엄 리조트와 Web3가 만나는 혁신적인 플랫폼"},nav:{background:"배경",team:"팀원",strategy:"전략",roadmap:"일정"},background:{title:"프로젝트 배경",vision:{title:"비전",description:"GLI는 리조트 경험과 블록체인 기술을 융합하여 새로운 가치를 창출합니다."},blockchain:{title:"블록체인 혁신",description:"RWA 토큰을 통해 실물 자산과 디지털 자산을 연결하는 혁신적인 생태계를 구축합니다."},resort:{title:"프리미엄 리조트",description:"최고급 리조트 서비스와 독점적인 경험을 토큰 홀더에게 제공합니다."},gaming:{title:"게임 생태계",description:"재미있는 게임 요소를 통해 사용자 참여를 높이고 토큰 유틸리티를 확장합니다."}},team:{title:"팀 구성원",roles:{ceo:"최고경영자",cto:"최고기술책임자",designer:"디자인 총괄",marketing:"마케팅 총괄"},descriptions:{ceo:"블록체인 비즈니스 전략 및 전반적인 경영을 담당합니다.",cto:"스마트 컨트랙트와 DeFi 프로토콜 개발을 리드합니다.",designer:"UI/UX 디자인과 브랜드 경험을 책임집니다.",marketing:"커뮤니티 성장과 마케팅 전략을 담당합니다."}},strategy:{title:"전략 로드맵",phases:{phase1:{title:"플랫폼 구축",description:"기본 플랫폼과 토큰 시스템을 구축합니다.",features:{platform:"웹 플랫폼 개발",tokens:"GLIB/GLID/GLIL 토큰 발행",wallet:"지갑 연동 시스템"}},phase2:{title:"리조트 연동",description:"프리미엄 리조트 예약 및 리워드 시스템을 구축합니다.",features:{resort:"리조트 파트너십",booking:"예약 시스템",rewards:"리워드 프로그램"}},phase3:{title:"게임 생태계",description:"게이밍 요소와 NFT를 도입하여 생태계를 확장합니다.",features:{gaming:"게임 콘텐츠",nft:"NFT 컬렉션",metaverse:"메타버스 경험"}},phase4:{title:"글로벌 확장",description:"전 세계로 서비스를 확장하고 파트너십을 강화합니다.",features:{global:"글로벌 진출",partnerships:"전략적 파트너십",expansion:"서비스 확장"}}}},roadmap:{title:"개발 일정",milestones:{q1_2024:{title:"플랫폼 MVP 출시",description:"기본 플랫폼과 토큰 시스템 출시"},q2_2024:{title:"리조트 파트너십",description:"첫 번째 리조트 파트너와의 협약 체결"},q3_2024:{title:"베타 서비스",description:"제한된 사용자 대상 베타 서비스 시작"},q4_2024:{title:"정식 서비스",description:"전체 기능을 포함한 정식 서비스 오픈"}}}},contractDocChoice:{title:"계약서 작성",description:"작성하고자 하는 계약서 유형을 선택해주세요",comingSoon:"Coming Soon",contractTypes:{realEstateSale:"부동산 매매계약서",realEstateSaleLand:"부동산 매매계약서/토지",realEstateSaleCommercial:"부동산 매매계약서/상가",realEstateSaleApartment:"부동산 매매계약서/아파트",realEstateRentalHouse:"부동산 임대차계약서/일반주택",realEstateRentalCommercial:"부동산 임대차계약서/상가",realEstateRentalLand:"부동산 임대차계약서/토지",realEstateRentalApartment:"부동산 임대차계약서/아파트",realEstateRentalVilla:"부동산 임대차계약서/빌라",realEstateRentalStudio:"부동산 임대차계약서/원룸",realEstateRentalEtc:"부동산 임대차계약서/기타"},descriptions:{realEstateSale:"아파트, 빌라, 상가 등 부동산 매매",realEstateSaleLand:"토지, 논, 밭 등 토지 매매",realEstateSaleCommercial:"상가, 오피스텔 등 상업용 부동산",realEstateSaleApartment:"아파트, 주상복합 등 주거용 부동산",realEstateRentalHouse:"일반주택, 원룸 등 주거용 임대차",realEstateRentalCommercial:"상가, 사무실 등 상업용 임대차",realEstateRentalLand:"토지, 공장부지 등 토지 임대차",realEstateRentalApartment:"아파트, 주상복합 등 아파트 임대차",realEstateRentalVilla:"빌라, 다세대주택 등 빌라 임대차",realEstateRentalStudio:"원룸, 고시원 등 원룸 임대차",realEstateRentalEtc:"기타 부동산 임대차 계약"},messages:{comingSoon:"이 기능은 준비 중입니다. 곧 서비스될 예정입니다."}},profileEdit:{title:"내 정보 수정",basicInfo:"기본 정보",name:"이름",nameRequired:"이름 *",phone:"전화번호",phonePlaceholder:"010-0000-0000",profileImage:"프로필 이미지",save:"저장",saving:"저장 중...",cancel:"취소",messages:{loadError:"프로필 정보를 불러오는데 실패했습니다.",updateSuccess:"프로필이 성공적으로 업데이트되었습니다.",updateError:"프로필 업데이트에 실패했습니다.",avatarUploadSuccess:"아바타가 성공적으로 업로드되었습니다.",avatarUploadError:"아바타 업로드에 실패했습니다.",nameRequired:"이름을 입력해주세요."}},auth:{subtitle:"회원 등급 관리와 토큰 변환을 위한 인증 센터",currentGrade:"현재 등급",current:"현재",unlocked:"해제됨",locked:"잠김",benefits:"혜택",requirements:"요구사항",upgrade:"등급 업그레이드",stakingNav:"스테이킹",grades:{r:"Reader (읽기 권한)",w:"Writer (쓰기 권한)",x:"Expert (전문가 권한)"},gradeSystem:{title:"회원 등급 시스템"},gradeBenefits:{basicAccess:"기본 플랫폼 접근",communityForum:"커뮤니티 포럼 참여",weeklyReports:"주간 리포트 수신",premiumContent:"프리미엄 콘텐츠 접근",prioritySupport:"우선 고객지원",monthlyAnalysis:"월간 시장 분석",earlyAccess:"신기능 조기 접근",exclusiveEvents:"독점 이벤트 참여",personalConsultation:"개인 컨설팅 서비스",customReports:"맞춤형 보고서",vipLounge:"VIP 라운지 이용"},conversion:{title:"토큰 변환 센터",glibGlidTitle:"GLIB ↔ GLID 양방향 변환",glibGlilTitle:"GLIB → GLIL 단방향 변환",oneWayWarning:"이 변환은 되돌릴 수 없습니다",convertToGame:"게임 토큰으로 변환"},staking:{title:"스테이킹 센터",totalStaked:"총 스테이킹",apy:"연간 수익률",rewards:"보상",stake:"스테이킹",unstake:"언스테이킹"},achievements:{title:"성취 시스템",firstStake:{title:"첫 스테이킹",description:"처음으로 토큰을 스테이킹했습니다",reward:"+100 GLIB 보너스"},tokenConverter:{title:"토큰 변환 마스터",description:"토큰 변환을 10회 완료하세요",reward:"변환 수수료 50% 할인"},stakingMaster:{title:"스테이킹 마스터",description:"30일 연속 스테이킹을 유지하세요",reward:"APY +2% 보너스"},gradeExpert:{title:"전문가 등급 달성",description:"Expert 등급에 도달하세요",reward:"독점 NFT 지급"}}},mypage:{subtitle:"내 정보, 추천인 코드, 토큰 주소, 거래 내역을 관리하세요",tabs:{profile:"회원 정보",referral:"추천인 코드",tokens:"토큰 주소",transactions:"거래 내역",wallet:"입출금"},profile:{title:"회원 정보",basicInfo:"기본 정보",email:"이메일",phone:"전화번호",joinDate:"가입일",lastLogin:"최근 로그인",recentSessions:"최근 로그인 세션",security:"보안 설정",twoFactor:"2단계 인증",twoFactorDesc:"계정 보안을 위한 2단계 인증을 설정하세요",passwordChange:"비밀번호 변경",passwordChangeDesc:"정기적으로 비밀번호를 변경해주세요",changePassword:"변경하기",sessionStatus:{active:"활성",expired:"만료"}},referral:{title:"추천인 코드",myCode:"내 추천인 코드",copyLink:"링크 복사",stats:"추천 통계",totalInvited:"총 초대 수",activeReferrals:"활성 추천인",totalRewards:"총 보상",monthlyRewards:"이번 달 보상",share:"소셜 공유"},tokens:{title:"토큰 주소",address:"지갑 주소",qrCode:"QR 코드"},transactions:{title:"거래 내역",tokenFilter:"토큰 필터",typeFilter:"거래 유형",dateRange:"기간",export:"내보내기",date:"날짜",type:"유형",token:"토큰",amount:"금액",status:"상태",hash:"해시",types:{deposit:"입금",withdrawal:"출금",conversion:"변환",purchase:"구매"},statuses:{completed:"완료",pending:"대기",failed:"실패"}},wallet:{title:"입출금",connected:"지갑 연결됨",disconnected:"지갑 연결 안됨",connect:"지갑 연결",deposit:"입금",withdrawal:"출금",token:"토큰",amount:"금액",enterAmount:"금액을 입력하세요",toAddress:"받는 주소",enterAddress:"주소를 입력하세요",networkFee:"네트워크 수수료",withdrawalFee:"출금 수수료"}},conversion:{subtitle:"다양한 GLI 토큰 간의 스마트한 변환 서비스",exchange:"토큰 교환",types:{standard:"표준",instant:"즉시",economy:"절약"},from:"보내는 토큰",to:"받는 토큰",enterAmount:"수량 입력",max:"최대",available:"사용 가능",rate:"환율",fee:"수수료",priceImpact:"가격 영향",minimumReceived:"최소 수령",networkFee:"네트워크 수수료",convert:"변환하기",converting:"변환 중...",confirmConversion:"변환 확인",youPay:"지불하는 금액",youReceive:"받는 금액",confirmWarning:"이 거래는 되돌릴 수 없습니다. 계속하시겠습니까?",confirmAndConvert:"확인 후 변환",recentTransactions:"최근 거래 내역",allTokens:"모든 토큰",noTransactions:"거래 내역이 없습니다",viewDetails:"상세보기",transactionDetails:"거래 상세정보",conversionInfo:"변환 정보",transactionInfo:"거래 정보",timestamp:"거래 시간",transactionHash:"거래 해시",status:{completed:"완료",pending:"대기중",failed:"실패"},warnings:{highPriceImpact:"높은 가격 영향이 예상됩니다",highAmount:"큰 금액의 변환입니다",oneWayConversion:"이 변환은 되돌릴 수 없습니다"}},errors:{network:"네트워크 오류가 발생했습니다.",server:"서버 오류가 발생했습니다.",unauthorized:"인증되지 않은 사용자입니다.",forbidden:"접근 권한이 없습니다.",notFound:"요청한 리소스를 찾을 수 없습니다.",validation:"입력값을 확인해주세요.",fileSize:"파일 크기는 5MB를 초과할 수 없습니다.",fileType:"지원되는 이미지 형식은 JPEG, PNG, GIF입니다."},success:{saved:"저장되었습니다.",updated:"업데이트되었습니다.",deleted:"삭제되었습니다.",uploaded:"업로드되었습니다."},rightPanel:{toggle:"도움말 패널 토글",help:"도움말 및 가이드",contextualHelp:"상황별 도움말",tooltips:"빠른 팁",customerService:"고객 서비스",chat:"실시간 채팅",sendMessage:"메시지 전송",typing:"어시스턴트가 입력 중...",helpSections:{gettingStarted:"시작하기",walletSetup:"지갑 설정",tokenConversion:"토큰 변환",businessServices:"비즈니스 서비스",troubleshooting:"문제 해결"},tooltipContent:{walletConnect:"모든 기능을 이용하려면 Web3 지갑을 연결하세요",tokenConversion:"다양한 토큰 유형 간 변환이 가능합니다",businessCenter:"비즈니스 서비스 및 파트너십에 접근하세요",shoppingMall:"리조트 예약 및 상품을 둘러보고 구매하세요"},chatPlaceholder:"GLI 서비스에 대해 궁금한 것을 물어보세요...",defaultResponses:{welcome:"안녕하세요! GLI 서비스 이용을 도와드리겠습니다. 무엇을 도와드릴까요?",walletHelp:'지갑을 연결하려면 헤더의 "지갑 연결" 버튼을 클릭하고 원하는 지갑 제공업체를 선택하세요.',tokenHelp:"토큰 변환을 통해 다양한 토큰을 교환할 수 있습니다. 토큰 변환 페이지를 방문해 시작하세요.",generalHelp:"더 자세한 정보는 도움말 섹션을 확인하거나 고객 지원팀에 문의하세요."}},shopping:{title:"GLI 쇼핑몰",subtitle:"럭셔리 리조트 예약, 프리미엄 상품, 고급 레스토랑 예약을 경험하세요",items:"개 상품",viewCart:"장바구니 보기",addToCart:"장바구니 담기",bookNow:"지금 예약",buyNow:"지금 구매",reserveNow:"지금 예약",connectWalletFirst:"먼저 지갑을 연결해주세요",addedToCart:"상품이 장바구니에 추가되었습니다",paymentSuccess:"결제가 성공적으로 완료되었습니다",paymentError:"결제에 실패했습니다. 다시 시도해주세요.",tabs:{resort:"리조트 예약",goods:"상품 구매",restaurant:"레스토랑",orders:"주문 내역"},resort:{title:"리조트 예약",subtitle:"GLI 럭셔리 리조트에서 완벽한 휴가를 예약하세요",checkIn:"체크인 날짜",checkOut:"체크아웃 날짜",guests:"투숙객",guest:"명",roomType:"객실 타입",allRoomTypes:"모든 객실 타입",standard:"스탠다드룸",deluxe:"디럭스룸",suite:"스위트룸",villa:"빌라",search:"검색",night:"박",selectDates:"체크인과 체크아웃 날짜를 선택해주세요",searching:"이용 가능한 객실을 검색 중...",noResults:"검색된 리조트가 없습니다",tryDifferentSearch:"검색 조건을 조정해보세요"}},referral:{title:"추천인 시스템",subtitle:"친구를 초대하고 GLI 추천인 프로그램으로 보상을 받으세요",totalInvited:"총 초대 수",activeReferrals:"활성 추천인",totalRewards:"총 보상",monthlyRewards:"월간 보상",myReferralCode:"내 추천인 코드",codeDescription:"친구와 가족에게 고유한 추천인 코드를 공유하세요",referralLink:"추천인 링크",copyLink:"링크 복사",copied:"복사됨!",copyFailed:"복사에 실패했습니다",customLinkGenerator:"커스텀 링크 생성기",customLinkDescription:"다양한 캠페인을 위한 추적 가능한 커스텀 링크를 생성하세요",campaignName:"캠페인 이름",campaignPlaceholder:"캠페인 이름을 입력하세요 (예: Summer2024)",medium:"매체",selectMedium:"매체 선택",social:"소셜 미디어",email:"이메일",website:"웹사이트",qr:"QR 코드",generatedLink:"생성된 링크",socialSharing:"소셜 미디어 공유",socialDescription:"소셜 플랫폼에서 추천인 링크를 공유하세요",customMessage:"커스텀 메시지",messagePlaceholder:"커스텀 공유 메시지를 입력하세요...",kakaoShareNotImplemented:"카카오톡 공유 기능은 곧 구현될 예정입니다",discordCopied:"디스코드 공유를 위해 메시지가 복사되었습니다",qrCode:"QR 코드 생성기",qrDescription:"오프라인 공유를 위한 QR 코드를 생성하세요",basicLink:"기본 추천인 링크",customLink:"커스텀 링크",generateQR:"QR 코드 생성",qrCodeAlt:"추천인 QR 코드",downloadQR:"QR 코드 다운로드",referralList:"내 추천인 목록",listDescription:"추천한 사용자와 상태를 추적하세요",user:"사용자",joinDate:"가입일",status:{active:"활성",pending:"대기 중",inactive:"비활성"},rewards:"보상",noReferrals:"아직 추천인이 없습니다",startReferring:"친구를 초대해서 보상을 받으세요!",rewardHistory:"보상 내역",rewardDescription:"추천인 보상과 보너스를 추적하세요",noRewards:"아직 보상이 없습니다"},info:{title:"안내 센터",subtitle:"GLI 플랫폼 사용법과 도움말을 확인하세요",searchPlaceholder:"FAQ, 가이드, 도움말 검색...",noResults:"검색 결과가 없습니다",tryDifferentSearch:"다른 검색어를 시도해보세요",download:"다운로드",quickLinks:{faq:"FAQ",faqDesc:"자주 묻는 질문과 답변",guides:"사용자 가이드",guidesDesc:"단계별 사용법 안내",resources:"다운로드 자료",resourcesDesc:"유용한 문서와 자료",contact:"연락처",contactDesc:"고객 지원 및 문의"},faq:{title:"자주 묻는 질문",subtitle:"GLI 플랫폼에 대한 궁금한 점들을 확인해보세요",categories:{all:"전체",gettingStarted:"시작하기",wallet:"지갑",tokens:"토큰",shopping:"쇼핑몰",technical:"기술 지원"},items:{howToStart:{question:"GLI 플랫폼을 어떻게 시작하나요?",answer:"GLI 플랫폼을 시작하려면 먼저 Web3 지갑을 연결하고 계정을 생성하세요. 그 다음 인증 센터에서 등급을 확인하고 토큰 변환 기능을 이용할 수 있습니다."},connectWallet:{question:"지갑 연결이 안 되는 경우 어떻게 해야 하나요?",answer:"지갑 연결 문제가 발생하면 다음을 확인하세요: 1) 브라우저에 지갑 확장 프로그램이 설치되어 있는지, 2) 올바른 네트워크에 연결되어 있는지, 3) 지갑이 잠금 해제되어 있는지 확인하세요."},tokenTypes:{question:"GLIB, GLID, GLIL 토큰의 차이점은 무엇인가요?",answer:"GLIB는 RWA(실물 자산) 토큰으로 리조트 자산과 연결되어 있습니다. GLID는 거버넌스 토큰으로 플랫폼 의사결정에 참여할 수 있습니다. GLIL은 게임 및 스테이블 토큰으로 플랫폼 내 결제와 게임에 사용됩니다."},resortBooking:{question:"리조트 예약은 어떻게 하나요?",answer:"쇼핑몰에서 리조트 예약 탭을 선택하고, 원하는 날짜와 객실 타입을 선택하세요. GLI 토큰으로 결제하면 특별 할인 혜택을 받을 수 있습니다."},networkIssues:{question:"네트워크 오류가 발생하면 어떻게 해야 하나요?",answer:"네트워크 오류 시 페이지를 새로고침하거나 지갑을 다시 연결해보세요. 문제가 지속되면 고객 지원팀에 문의하시기 바랍니다."},accountSetup:{question:"계정 설정은 어떻게 하나요?",answer:"마이페이지에서 프로필 정보를 수정할 수 있습니다. 보안을 위해 2단계 인증을 설정하는 것을 권장합니다."}}},guides:{title:"사용자 가이드",subtitle:"단계별 가이드로 GLI 플랫폼을 쉽게 이용하세요",difficulty:{beginner:"초급",intermediate:"중급",advanced:"고급"},items:{gettingStarted:{title:"GLI 플랫폼 시작하기",description:"GLI 플랫폼 첫 사용자를 위한 기본 가이드",steps:{1:{title:"계정 생성",description:"이메일과 패스워드로 GLI 계정을 생성하세요."},2:{title:"지갑 연결",description:"MetaMask 등 Web3 지갑을 연결하세요."},3:{title:"등급 확인",description:"인증 센터에서 현재 등급과 혜택을 확인하세요."},4:{title:"기능 탐색",description:"토큰 변환, 쇼핑몰 등 다양한 기능을 둘러보세요."}}},walletSetup:{title:"지갑 설정 가이드",description:"Web3 지갑 설치부터 연결까지 상세 안내",steps:{1:{title:"MetaMask 설치",description:"브라우저 확장 프로그램으로 MetaMask를 설치하세요."},2:{title:"네트워크 설정",description:"GLI 네트워크를 추가하고 연결하세요."}}},tokenConversion:{title:"토큰 변환 가이드",description:"다양한 토큰 간 변환 방법과 주의사항",steps:{1:{title:"변환 페이지 접속",description:"토큰 변환 메뉴로 이동하세요."}}}}},resources:{title:"다운로드 자료",subtitle:"유용한 문서와 자료를 다운로드하세요",downloadStarted:"다운로드가 시작되었습니다",items:{whitepaper:{title:"GLI 백서",description:"GLI 프로젝트의 비전과 기술적 세부사항"},tokenomics:{title:"토큰 이코노믹스",description:"GLI 토큰의 경제 모델과 분배 구조"},apiDocs:{title:"API 문서",description:"개발자를 위한 GLI 플랫폼 API 가이드"}}},contact:{title:"연락처 및 지원",subtitle:"도움이 필요하시면 언제든 연락주세요",email:"이메일 지원",chat:"실시간 채팅",chatHours:"평일 9:00-18:00 운영",telegram:"텔레그램",form:{title:"문의하기",name:"이름",email:"이메일",subject:"문의 유형",selectSubject:"문의 유형을 선택하세요",subjects:{technical:"기술 지원",account:"계정 관련",billing:"결제 관련",general:"일반 문의"},message:"문의 내용",send:"문의하기",sending:"전송 중...",success:"문의가 성공적으로 전송되었습니다",error:"문의 전송에 실패했습니다"}}}},wF={common:{save:"Save",cancel:"Cancel",loading:"Loading...",error:"Error",success:"Success",confirm:"Confirm",close:"Close",back:"Back",next:"Next",previous:"Previous",edit:"Edit",delete:"Delete",create:"Create",search:"Search",filter:"Filter",sort:"Sort",refresh:"Refresh",upload:"Upload",download:"Download",copy:"Copy",paste:"Paste",select:"Select",all:"All",none:"None",yes:"Yes",no:"No",ok:"OK",connect:"Connect",disconnect:"Disconnect",balance:"Balance",wallet:"Wallet",network:"Network",enabled:"Enabled",disabled:"Disabled",theme:{light:"Light Mode",dark:"Dark Mode",toggle:"Toggle Theme"}},nav:{business:"📄 Business",auth:"🔐 Auth Center",conversion:"💱 Token Conversion",shopping:"🛍️ Shopping Mall",mypage:"🧑 My Page",referral:"🤝 Referral",help:"📑 Help Center"},header:{brand:"GLI Platform",account:"Account",grade:"Grade",walletAddress:"Wallet Address",authNumber:"Auth Number",networkStatus:"Network Status",login:"Login",logout:"Logout",autoLogin:"3-day Auto Login",language:{korean:"한국어",english:"English"}},web3:{connecting:"Connecting wallet...",connected:"Connected",disconnected:"Disconnected",networkError:"Network Error",walletNotFound:"Wallet not found",transactionPending:"Transaction pending...",transactionSuccess:"Transaction successful",transactionFailed:"Transaction failed",insufficientBalance:"Insufficient balance"},tokens:{glib:"GLIB (RWA Coin)",glid:"GLID (Governance)",glil:"GLIL (Game/Stable)",usdt:"USDT",conversion:"Conversion",amount:"Amount",from:"From",to:"To",rate:"Rate",fee:"Fee",convert:"Convert"},business:{hero:{subtitle:"Innovative platform where premium resorts meet Web3"},nav:{background:"Background",team:"Team",strategy:"Strategy",roadmap:"Roadmap"},background:{title:"Project Background",vision:{title:"Vision",description:"GLI creates new value by merging resort experiences with blockchain technology."},blockchain:{title:"Blockchain Innovation",description:"Building an innovative ecosystem that connects physical and digital assets through RWA tokens."},resort:{title:"Premium Resort",description:"Providing premium resort services and exclusive experiences to token holders."},gaming:{title:"Gaming Ecosystem",description:"Enhancing user engagement and expanding token utility through fun gaming elements."}},team:{title:"Team Members",roles:{ceo:"Chief Executive Officer",cto:"Chief Technology Officer",designer:"Design Lead",marketing:"Marketing Lead"},descriptions:{ceo:"Responsible for blockchain business strategy and overall management.",cto:"Leading smart contract and DeFi protocol development.",designer:"Responsible for UI/UX design and brand experience.",marketing:"Handling community growth and marketing strategy."}},strategy:{title:"Strategy Roadmap",phases:{phase1:{title:"Platform Development",description:"Building the basic platform and token system.",features:{platform:"Web platform development",tokens:"GLIB/GLID/GLIL token issuance",wallet:"Wallet integration system"}},phase2:{title:"Resort Integration",description:"Building premium resort booking and reward systems.",features:{resort:"Resort partnerships",booking:"Booking system",rewards:"Reward program"}},phase3:{title:"Gaming Ecosystem",description:"Expanding the ecosystem by introducing gaming elements and NFTs.",features:{gaming:"Gaming content",nft:"NFT collection",metaverse:"Metaverse experience"}},phase4:{title:"Global Expansion",description:"Expanding services globally and strengthening partnerships.",features:{global:"Global expansion",partnerships:"Strategic partnerships",expansion:"Service expansion"}}}},roadmap:{title:"Development Timeline",milestones:{q1_2024:{title:"Platform MVP Launch",description:"Launch of basic platform and token system"},q2_2024:{title:"Resort Partnership",description:"Partnership agreement with first resort partner"},q3_2024:{title:"Beta Service",description:"Beta service launch for limited users"},q4_2024:{title:"Official Service",description:"Official service launch with full features"}}}},contractDocChoice:{title:"Contract Document",description:"Please select the type of contract you want to create",comingSoon:"Coming Soon",contractTypes:{realEstateSale:"Real Estate Sales Contract",realEstateSaleLand:"Real Estate Sales Contract/Land",realEstateSaleCommercial:"Real Estate Sales Contract/Commercial",realEstateSaleApartment:"Real Estate Sales Contract/Apartment",realEstateRentalHouse:"Real Estate Rental Contract/House",realEstateRentalCommercial:"Real Estate Rental Contract/Commercial",realEstateRentalLand:"Real Estate Rental Contract/Land",realEstateRentalApartment:"Real Estate Rental Contract/Apartment",realEstateRentalVilla:"Real Estate Rental Contract/Villa",realEstateRentalStudio:"Real Estate Rental Contract/Studio",realEstateRentalEtc:"Real Estate Rental Contract/Etc"},descriptions:{realEstateSale:"Apartment, villa, commercial property sales",realEstateSaleLand:"Land, field, farm sales",realEstateSaleCommercial:"Commercial property, officetel",realEstateSaleApartment:"Apartment, residential complex",realEstateRentalHouse:"House, studio rental",realEstateRentalCommercial:"Commercial property, office rental",realEstateRentalLand:"Land, factory site rental",realEstateRentalApartment:"Apartment, residential complex rental",realEstateRentalVilla:"Villa, multi-family housing rental",realEstateRentalStudio:"Studio, gosiwon rental",realEstateRentalEtc:"Other real estate rental contracts"},messages:{comingSoon:"This feature is under development. Coming soon."}},profileEdit:{title:"Edit My Information",basicInfo:"Basic Information",name:"Name",nameRequired:"Name *",phone:"Phone Number",phonePlaceholder:"010-0000-0000",profileImage:"Profile Image",save:"Save",saving:"Saving...",cancel:"Cancel",messages:{loadError:"Failed to load profile information.",updateSuccess:"Profile updated successfully.",updateError:"Failed to update profile.",avatarUploadSuccess:"Avatar uploaded successfully.",avatarUploadError:"Failed to upload avatar.",nameRequired:"Please enter your name."}},auth:{subtitle:"Authentication center for member grade management and token conversion",currentGrade:"Current Grade",current:"Current",unlocked:"Unlocked",locked:"Locked",benefits:"Benefits",requirements:"Requirements",upgrade:"Upgrade Grade",stakingNav:"Staking",grades:{r:"Reader (Read Access)",w:"Writer (Write Access)",x:"Expert (Expert Access)"},gradeSystem:{title:"Member Grade System"},gradeBenefits:{basicAccess:"Basic platform access",communityForum:"Community forum participation",weeklyReports:"Weekly reports",premiumContent:"Premium content access",prioritySupport:"Priority customer support",monthlyAnalysis:"Monthly market analysis",earlyAccess:"Early access to new features",exclusiveEvents:"Exclusive event participation",personalConsultation:"Personal consultation service",customReports:"Custom reports",vipLounge:"VIP lounge access"},conversion:{title:"Token Conversion Center",glibGlidTitle:"GLIB ↔ GLID Bidirectional Conversion",glibGlilTitle:"GLIB → GLIL One-way Conversion",oneWayWarning:"This conversion cannot be reversed",convertToGame:"Convert to Game Token"},staking:{title:"Staking Center",totalStaked:"Total Staked",apy:"APY",rewards:"Rewards",stake:"Stake",unstake:"Unstake"},achievements:{title:"Achievement System",firstStake:{title:"First Stake",description:"Made your first token stake",reward:"+100 GLIB Bonus"},tokenConverter:{title:"Token Conversion Master",description:"Complete 10 token conversions",reward:"50% conversion fee discount"},stakingMaster:{title:"Staking Master",description:"Maintain staking for 30 consecutive days",reward:"+2% APY bonus"},gradeExpert:{title:"Expert Grade Achievement",description:"Reach Expert grade level",reward:"Exclusive NFT reward"}}},mypage:{subtitle:"Manage your information, referral codes, token addresses, and transaction history",tabs:{profile:"Profile",referral:"Referral Code",tokens:"Token Addresses",transactions:"Transaction History",wallet:"Deposit/Withdrawal"},profile:{title:"Profile Information",basicInfo:"Basic Information",email:"Email",phone:"Phone",joinDate:"Join Date",lastLogin:"Last Login",recentSessions:"Recent Login Sessions",security:"Security Settings",twoFactor:"2-Factor Authentication",twoFactorDesc:"Enable 2FA for enhanced account security",passwordChange:"Password Change",passwordChangeDesc:"Change your password regularly for security",changePassword:"Change",sessionStatus:{active:"Active",expired:"Expired"}},referral:{title:"Referral Code",myCode:"My Referral Code",copyLink:"Copy Link",stats:"Referral Statistics",totalInvited:"Total Invited",activeReferrals:"Active Referrals",totalRewards:"Total Rewards",monthlyRewards:"Monthly Rewards",share:"Social Share"},tokens:{title:"Token Addresses",address:"Wallet Address",qrCode:"QR Code"},transactions:{title:"Transaction History",tokenFilter:"Token Filter",typeFilter:"Transaction Type",dateRange:"Date Range",export:"Export",date:"Date",type:"Type",token:"Token",amount:"Amount",status:"Status",hash:"Hash",types:{deposit:"Deposit",withdrawal:"Withdrawal",conversion:"Conversion",purchase:"Purchase"},statuses:{completed:"Completed",pending:"Pending",failed:"Failed"}},wallet:{title:"Deposit/Withdrawal",connected:"Wallet Connected",disconnected:"Wallet Disconnected",connect:"Connect Wallet",deposit:"Deposit",withdrawal:"Withdrawal",token:"Token",amount:"Amount",enterAmount:"Enter amount",toAddress:"To Address",enterAddress:"Enter address",networkFee:"Network Fee",withdrawalFee:"Withdrawal Fee"}},conversion:{subtitle:"Smart conversion service between various GLI tokens",exchange:"Token Exchange",types:{standard:"Standard",instant:"Instant",economy:"Economy"},from:"From Token",to:"To Token",enterAmount:"Enter Amount",max:"Max",available:"Available",rate:"Rate",fee:"Fee",priceImpact:"Price Impact",minimumReceived:"Minimum Received",networkFee:"Network Fee",convert:"Convert",converting:"Converting...",confirmConversion:"Confirm Conversion",youPay:"You Pay",youReceive:"You Receive",confirmWarning:"This transaction cannot be reversed. Do you want to continue?",confirmAndConvert:"Confirm & Convert",recentTransactions:"Recent Transactions",allTokens:"All Tokens",noTransactions:"No transactions found",viewDetails:"View Details",transactionDetails:"Transaction Details",conversionInfo:"Conversion Information",transactionInfo:"Transaction Information",timestamp:"Timestamp",transactionHash:"Transaction Hash",status:{completed:"Completed",pending:"Pending",failed:"Failed"},warnings:{highPriceImpact:"High price impact expected",highAmount:"Large amount conversion",oneWayConversion:"This conversion cannot be reversed"}},errors:{network:"Network error occurred.",server:"Server error occurred.",unauthorized:"Unauthorized user.",forbidden:"Access denied.",notFound:"Requested resource not found.",validation:"Please check your input.",fileSize:"File size cannot exceed 5MB.",fileType:"Supported image formats are JPEG, PNG, GIF."},success:{saved:"Saved successfully.",updated:"Updated successfully.",deleted:"Deleted successfully.",uploaded:"Uploaded successfully."},rightPanel:{toggle:"Toggle Help Panel",help:"Help & Guides",contextualHelp:"Contextual Help",tooltips:"Quick Tips",customerService:"Customer Service",chat:"Live Chat",sendMessage:"Send Message",typing:"Assistant is typing...",helpSections:{gettingStarted:"Getting Started",walletSetup:"Wallet Setup",tokenConversion:"Token Conversion",businessServices:"Business Services",troubleshooting:"Troubleshooting"},tooltipContent:{walletConnect:"Connect your Web3 wallet to access all features",tokenConversion:"Convert between different token types",businessCenter:"Access business services and partnerships",shoppingMall:"Browse and purchase resort bookings and goods"},chatPlaceholder:"Ask me anything about GLI services...",defaultResponses:{welcome:"Hello! I'm here to help you navigate GLI services. What can I assist you with today?",walletHelp:'To connect your wallet, click the "Connect Wallet" button in the header and select your preferred wallet provider.',tokenHelp:"Token conversion allows you to exchange different types of tokens. Visit the Token Conversion page to get started.",generalHelp:"For more detailed information, please check our help sections or contact our support team."}},shopping:{title:"GLI Shopping Mall",subtitle:"Experience luxury resort bookings, premium goods, and fine dining reservations",items:"items",viewCart:"View Cart",addToCart:"Add to Cart",bookNow:"Book Now",buyNow:"Buy Now",reserveNow:"Reserve Now",connectWalletFirst:"Please connect your wallet first",addedToCart:"Item added to cart successfully",paymentSuccess:"Payment completed successfully",paymentError:"Payment failed. Please try again.",tabs:{resort:"Resort Booking",goods:"Goods Store",restaurant:"Restaurant",orders:"Order History"},resort:{title:"Resort Booking",subtitle:"Book your perfect getaway at GLI luxury resorts",checkIn:"Check-in Date",checkOut:"Check-out Date",guests:"Guests",guest:"Guest",roomType:"Room Type",allRoomTypes:"All Room Types",standard:"Standard Room",deluxe:"Deluxe Room",suite:"Suite",villa:"Villa",search:"Search",night:"night",selectDates:"Please select check-in and check-out dates",searching:"Searching available rooms...",noResults:"No resorts found",tryDifferentSearch:"Try adjusting your search criteria"}},referral:{title:"Referral System",subtitle:"Invite friends and earn rewards with GLI referral program",totalInvited:"Total Invited",activeReferrals:"Active Referrals",totalRewards:"Total Rewards",monthlyRewards:"Monthly Rewards",myReferralCode:"My Referral Code",codeDescription:"Share your unique referral code with friends and family",referralLink:"Referral Link",copyLink:"Copy Link",copied:"Copied!",copyFailed:"Failed to copy",customLinkGenerator:"Custom Link Generator",customLinkDescription:"Create custom tracking links for different campaigns",campaignName:"Campaign Name",campaignPlaceholder:"Enter campaign name (e.g., Summer2024)",medium:"Medium",selectMedium:"Select Medium",social:"Social Media",email:"Email",website:"Website",qr:"QR Code",generatedLink:"Generated Link",socialSharing:"Social Media Sharing",socialDescription:"Share your referral link across social platforms",customMessage:"Custom Message",messagePlaceholder:"Enter your custom sharing message...",kakaoShareNotImplemented:"KakaoTalk sharing will be implemented soon",discordCopied:"Message copied for Discord sharing",qrCode:"QR Code Generator",qrDescription:"Generate QR codes for offline sharing",basicLink:"Basic Referral Link",customLink:"Custom Link",generateQR:"Generate QR Code",qrCodeAlt:"Referral QR Code",downloadQR:"Download QR Code",referralList:"My Referrals",listDescription:"Track your referred users and their status",user:"User",joinDate:"Join Date",status:{active:"Active",pending:"Pending",inactive:"Inactive"},rewards:"Rewards",noReferrals:"No referrals yet",startReferring:"Start inviting friends to earn rewards!",rewardHistory:"Reward History",rewardDescription:"Track your referral rewards and bonuses",noRewards:"No rewards yet"},info:{title:"Information Center",subtitle:"Find help guides and support for GLI Platform",searchPlaceholder:"Search FAQ, guides, help...",noResults:"No search results found",tryDifferentSearch:"Try different search terms",download:"Download",quickLinks:{faq:"FAQ",faqDesc:"Frequently asked questions and answers",guides:"User Guides",guidesDesc:"Step-by-step usage instructions",resources:"Download Resources",resourcesDesc:"Useful documents and materials",contact:"Contact",contactDesc:"Customer support and inquiries"},faq:{title:"Frequently Asked Questions",subtitle:"Find answers to common questions about GLI Platform",categories:{all:"All",gettingStarted:"Getting Started",wallet:"Wallet",tokens:"Tokens",shopping:"Shopping",technical:"Technical Support"},items:{howToStart:{question:"How do I get started with GLI Platform?",answer:"To get started with GLI Platform, first connect your Web3 wallet and create an account. Then check your grade in the Authentication Center and start using token conversion features."},connectWallet:{question:"What should I do if wallet connection fails?",answer:"If you have wallet connection issues, please check: 1) Is the wallet extension installed in your browser, 2) Are you connected to the correct network, 3) Is your wallet unlocked."},tokenTypes:{question:"What are the differences between GLIB, GLID, and GLIL tokens?",answer:"GLIB is an RWA (Real World Asset) token connected to resort assets. GLID is a governance token for participating in platform decisions. GLIL is a game and stable token used for payments and gaming within the platform."},resortBooking:{question:"How do I book a resort?",answer:"Go to the Shopping Mall and select the Resort Booking tab, then choose your desired dates and room type. You can get special discounts by paying with GLI tokens."},networkIssues:{question:"What should I do when network errors occur?",answer:"For network errors, try refreshing the page or reconnecting your wallet. If the problem persists, please contact our customer support team."},accountSetup:{question:"How do I set up my account?",answer:"You can edit your profile information in My Page. We recommend setting up 2-factor authentication for security."}}},guides:{title:"User Guides",subtitle:"Learn to use GLI Platform with step-by-step guides",difficulty:{beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced"},items:{gettingStarted:{title:"Getting Started with GLI Platform",description:"Basic guide for new GLI Platform users",steps:{1:{title:"Create Account",description:"Create your GLI account with email and password."},2:{title:"Connect Wallet",description:"Connect your Web3 wallet such as MetaMask."},3:{title:"Check Grade",description:"Check your current grade and benefits in the Authentication Center."},4:{title:"Explore Features",description:"Explore various features like token conversion and shopping mall."}}},walletSetup:{title:"Wallet Setup Guide",description:"Detailed guide from Web3 wallet installation to connection",steps:{1:{title:"Install MetaMask",description:"Install MetaMask as a browser extension."},2:{title:"Network Setup",description:"Add and connect to the GLI network."}}},tokenConversion:{title:"Token Conversion Guide",description:"Methods and precautions for converting between various tokens",steps:{1:{title:"Access Conversion Page",description:"Navigate to the Token Conversion menu."}}}}},resources:{title:"Download Resources",subtitle:"Download useful documents and materials",downloadStarted:"Download has started",items:{whitepaper:{title:"GLI Whitepaper",description:"GLI project vision and technical details"},tokenomics:{title:"Token Economics",description:"GLI token economic model and distribution structure"},apiDocs:{title:"API Documentation",description:"GLI Platform API guide for developers"}}},contact:{title:"Contact & Support",subtitle:"Contact us anytime when you need help",email:"Email Support",chat:"Live Chat",chatHours:"Available weekdays 9:00-18:00",telegram:"Telegram",form:{title:"Contact Us",name:"Name",email:"Email",subject:"Subject",selectSubject:"Select inquiry type",subjects:{technical:"Technical Support",account:"Account Related",billing:"Billing Related",general:"General Inquiry"},message:"Message",send:"Send Inquiry",sending:"Sending...",success:"Your inquiry has been sent successfully",error:"Failed to send inquiry"}}}},ih={ko:vF,en:wF};function bF(){const t=localStorage.getItem("locale");if(t&&ih[t])return t;const e=navigator.language.split("-")[0];return ih[e]?e:"ko"}const _F=d_({locale:bF(),fallbackLocale:"ko",messages:ih});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});const nf=Jb(TO),AF=Xb();nf.use(AF);nf.use(tf);nf.use(_F);const Ub=Tc();Ub.initialize();Ub.resetState();const EF=kc();EF.initialize();nf.mount("#app");export{zO as H,WO as L,aF as R,$s as _,Fb as a,kc as b,Tc as c,pg as p,jo as u};
