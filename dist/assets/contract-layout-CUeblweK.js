import{X as ce,c as F,d as Q,r as _,o as le,l as g,t as e,z as D,C as I,M,v as C,F as X,G as Z,E as pe,p as R,K as ne,m as y,w as J,V as se,n as oe,b as ve,O as ee,I as me}from"./vue-Bso1jpR1.js";import{_ as G}from"./index-BEUJt7vQ.js";const fe={QA:{basic:["propertyAddress","propertyType","contractPeriod"],parties:["sellerName","buyerName","sellerPhone","buyerPhone"],financial:["purchasePrice","depositAmount"],legal:["propertyRegistration","encumbranceCheck"],documents:["propertyRegistration","encumbranceCertificate"]},QB:{basic:["propertyAddress","propertyType","leasePeriod"],parties:["landlordName","tenantName","landlordPhone","tenantPhone"],financial:["depositAmount","monthlyRent"],legal:["rentalProtectionLaw","maintenanceFee"],documents:["propertyRegistration","tenantRegistration"]},QC:{basic:["propertyAddress","propertyType","leasePeriod"],parties:["landlordName","tenantName","landlordPhone","tenantPhone"],financial:["depositAmount","monthlyRent","maintenanceFee"],legal:["businessRegistration","usagePurpose"],documents:["propertyRegistration","businessRegistration"]},QE:{basic:["propertyAddress","subleasePeriod"],parties:["sublessorName","sublesseeName","sublessorPhone","sublesseePhone"],financial:["subleaseDeposit","subleaseRent"],legal:["originalLeaseConsent","originalLeaseDocument"],documents:["originalLeaseDocument","consentDocument"]}};class he{validationState=ce({contractType:"",participants:[],fieldValues:{},agreementStatus:{},lastValidation:null});validationResult=F(()=>{const n=this.getMissingFields(),i=this.getMissingAgreements(),a=this.getValidationErrors(),c=this.getValidationWarnings(),m=this.getTotalRequiredFields(),p=m-n.length,v=m>0?p/m*100:0;return{isValid:n.length===0&&i.length===0&&a.filter(T=>T.severity==="error").length===0,completionRate:v,missingFields:n,missingAgreements:i,participantStatus:this.validationState.participants,errors:a,warnings:c}});setContractType(n){this.validationState.contractType=n,this.updateValidation()}addParticipant(n){const i={...n,lastUpdated:new Date};this.validationState.participants.push(i),this.updateValidation()}updateParticipantStatus(n,i){const a=this.validationState.participants.find(c=>c.id===n);a&&(Object.assign(a,i,{lastUpdated:new Date}),this.updateValidation())}setFieldValue(n,i){this.validationState.fieldValues[n]=i,this.updateValidation()}setAgreementStatus(n,i){this.validationState.agreementStatus[n]=i,this.updateValidation()}getMissingFields(){const n=this.getRequiredFields(),i=[];for(const a of Object.values(n))for(const c of a){const m=this.validationState.fieldValues[c];this.isEmptyValue(m)&&i.push(c)}return i}getMissingAgreements(){const n=[];for(const[i,a]of Object.entries(this.validationState.agreementStatus))a||n.push(i);return n}getValidationErrors(){const n=[],i=this.getMissingFields();for(const c of i)n.push({field:c,message:`필수 입력 항목 "${c}"이(가) 누락되었습니다.`,severity:"error"});const a=this.validationState.participants.filter(c=>c.type==="human");for(const c of a)c.agreementStatus==="pending"&&n.push({field:"participant_agreement",message:`${c.name}의 동의가 필요합니다.`,severity:"error",participantId:c.id});return n}getValidationWarnings(){const n=[];for(const[i,a]of Object.entries(this.validationState.fieldValues))this.hasValidationWarning(i,a)&&n.push({field:i,message:`${i} 값에 대한 검토가 필요합니다.`,suggestion:this.getValidationSuggestion(i,a)});return n}getRequiredFields(){const n=this.validationState.contractType,i=fe[n];return i?[...i.basic,...i.parties,...i.financial,...i.legal,...i.documents]:[]}getTotalRequiredFields(){return this.getRequiredFields().length}isEmptyValue(n){return n==null?!0:typeof n=="string"?n.trim()==="":Array.isArray(n)?n.length===0:typeof n=="object"?Object.keys(n).length===0:!1}hasValidationWarning(n,i){return!!((n.includes("Amount")||n.includes("Price")||n.includes("Rent")||n.includes("Deposit"))&&typeof i=="number"&&i<=0||(n.includes("Date")||n.includes("Period"))&&i&&new Date(i)<new Date||n.includes("Phone")&&i&&!/^[0-9-]+$/.test(i))}getValidationSuggestion(n,i){return n.includes("Amount")||n.includes("Price")||n.includes("Rent")||n.includes("Deposit")?"금액은 0보다 큰 값이어야 합니다.":n.includes("Date")||n.includes("Period")?"날짜는 현재 날짜 이후여야 합니다.":n.includes("Phone")?"전화번호는 숫자와 하이픈(-)만 포함할 수 있습니다.":"입력 값을 확인해주세요."}updateValidation(){this.validationState.lastValidation=new Date}reset(){this.validationState.contractType="",this.validationState.participants=[],this.validationState.fieldValues={},this.validationState.agreementStatus={},this.validationState.lastValidation=null}exportValidationState(){return{contractType:this.validationState.contractType,participants:[...this.validationState.participants],fieldValues:{...this.validationState.fieldValues},agreementStatus:{...this.validationState.agreementStatus},lastValidation:this.validationState.lastValidation,validationResult:this.validationResult.value}}importValidationState(n){this.validationState.contractType=n.contractType||"",this.validationState.participants=n.participants||[],this.validationState.fieldValues=n.fieldValues||{},this.validationState.agreementStatus=n.agreementStatus||{},this.validationState.lastValidation=n.lastValidation?new Date(n.lastValidation):null}}const ge=new he,ye={class:"left-panel-content"},be={class:"contract-info-section"},xe={class:"contract-type"},Ve={class:"value"},we={class:"contract-title"},De={class:"property-info-section"},ke={class:"property-address"},_e={class:"property-lot"},$e={class:"author-info-section"},Ce={class:"authors-list"},Se=["onUpdate:modelValue","onInput","placeholder"],Te=["onClick"],Ie={class:"creation-date"},Fe={class:"value"},Ne={class:"status-switch"},Me={class:"switch-container"},Be={for:"status-switch",class:"switch-label"},Re={class:"switch-text"},Ae={key:0,class:"validation-status"},Pe={class:"validation-text"},Ue={class:"completion-progress"},Ee={class:"progress-bar"},Le={class:"progress-text"},ze={class:"action-section"},qe=["disabled"],Ye=["disabled"],Oe=Q({__name:"LeftPanelComponent",props:{contractType:{default:"부동산 매매계약서"},initialTitle:{default:""},initialAddress:{default:""},initialLot:{default:""},initialAuthors:{default:()=>[{name:""}]},contractId:{default:""},validationResult:{default:()=>ge.validationResult.value},enableValidation:{type:Boolean,default:!0}},emits:["update:title","update:address","update:lot","update:authors","update:status","preview","export"],setup(U,{emit:n}){const i=U,a=n,c=_(i.initialTitle),m=_(i.initialAddress),p=_(i.initialLot),v=_([...i.initialAuthors]),r=_(!1),T=F(()=>new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})),h=F(()=>i.enableValidation?i.validationResult:{isValid:!0,completionRate:100}),$=F(()=>i.enableValidation?h.value.isValid&&r.value&&c.value.trim():r.value&&c.value.trim()),B=F(()=>i.enableValidation?h.value.isValid?"계약서 출력":`출력 불가 (${h.value.completionRate.toFixed(1)}%)`:"계약서 출력"),E=F(()=>i.enableValidation?h.value.isValid?$.value?"export-btn":"export-btn disabled":"export-btn disabled validation-error":$.value?"export-btn":"export-btn disabled"),q=()=>{a("update:title",c.value)},L=()=>{a("update:address",m.value)},z=()=>{a("update:lot",p.value)},S=w=>{a("update:authors",[...v.value])},u=()=>{v.value.push({name:""}),a("update:authors",[...v.value])},k=w=>{v.value.length>1&&(v.value.splice(w,1),a("update:authors",[...v.value]))},N=()=>{a("update:status",r.value)},x=()=>{i.contractId&&a("preview",i.contractId)},s=()=>{i.contractId&&$.value&&a("export",i.contractId)},f=()=>h.value.isValid?"status-valid":"errors"in h.value&&h.value.errors?.some(w=>w.severity==="error")?"status-error":"status-warning",A=()=>h.value.isValid?"검증 완료":"errors"in h.value&&h.value.errors?.some(w=>w.severity==="error")?"검증 오류":"검증 경고",H=()=>{const w=h.value.completionRate;return w>=90?"progress-excellent":w>=70?"progress-good":w>=50?"progress-fair":"progress-poor"};return le(()=>{v.value.length===0&&(v.value=[{name:""}])}),(w,b)=>(y(),g("div",ye,[e("div",be,[b[6]||(b[6]=e("h3",{class:"section-title"},"계약서 정보",-1)),e("div",xe,[b[4]||(b[4]=e("span",{class:"label"},"계약서 유형:",-1)),e("span",Ve,D(w.contractType),1)]),e("div",we,[b[5]||(b[5]=e("span",{class:"label"},"계약서 제목:",-1)),I(e("input",{"onUpdate:modelValue":b[0]||(b[0]=l=>c.value=l),onInput:q,type:"text",placeholder:"계약서 제목을 입력하세요",class:"title-input"},null,544),[[M,c.value]])])]),e("div",De,[b[9]||(b[9]=e("h3",{class:"section-title"},"대상 물건 정보",-1)),e("div",ke,[b[7]||(b[7]=e("span",{class:"label"},"주소:",-1)),I(e("input",{"onUpdate:modelValue":b[1]||(b[1]=l=>m.value=l),onInput:L,type:"text",placeholder:"물건 주소를 입력하세요",class:"address-input"},null,544),[[M,m.value]])]),e("div",_e,[b[8]||(b[8]=e("span",{class:"label"},"지번:",-1)),I(e("input",{"onUpdate:modelValue":b[2]||(b[2]=l=>p.value=l),onInput:z,type:"text",placeholder:"지번을 입력하세요",class:"lot-input"},null,544),[[M,p.value]])])]),e("div",$e,[b[15]||(b[15]=e("h3",{class:"section-title"},"작성자 정보",-1)),e("div",Ce,[e("div",{class:"authors-header"},[b[10]||(b[10]=e("span",{class:"label"},"공동 작성자:",-1)),e("button",{onClick:u,class:"add-author-btn"},"+ 추가")]),(y(!0),g(X,null,Z(v.value,(l,o)=>(y(),g("div",{key:o,class:"author-item"},[I(e("input",{"onUpdate:modelValue":t=>l.name=t,onInput:t=>S(),type:"text",placeholder:`작성자 ${o+1} 이름`,class:"author-input"},null,40,Se),[[M,l.name]]),e("button",{onClick:t=>k(o),class:"remove-author-btn"},"삭제",8,Te)]))),128))]),e("div",Ie,[b[11]||(b[11]=e("span",{class:"label"},"작성 시작일자:",-1)),e("span",Fe,D(T.value),1)]),e("div",Ne,[b[12]||(b[12]=e("span",{class:"label"},"상태:",-1)),e("div",Me,[I(e("input",{type:"checkbox",id:"status-switch","onUpdate:modelValue":b[3]||(b[3]=l=>r.value=l),onChange:N,class:"status-checkbox"},null,544),[[pe,r.value]]),e("label",Be,[e("span",Re,D(r.value?"완료":"미완료"),1)])])]),w.enableValidation?(y(),g("div",Ae,[b[14]||(b[14]=e("span",{class:"label"},"검증 상태:",-1)),e("div",{class:R(["validation-indicator",f()])},[b[13]||(b[13]=e("div",{class:"validation-dot"},null,-1)),e("span",Pe,D(A()),1)],2),e("div",Ue,[e("div",Ee,[e("div",{class:R(["progress-fill",H()]),style:ne({width:`${h.value.completionRate}%`})},null,6)]),e("span",Le,D(h.value.completionRate.toFixed(1))+"%",1)])])):C("",!0)]),e("div",ze,[e("button",{onClick:x,class:"preview-btn",disabled:!c.value.trim()}," 계약서 미리보기 ",8,qe),e("button",{onClick:s,class:R(E.value),disabled:!$.value},D(B.value),11,Ye)])]))}}),pa=G(Oe,[["__scopeId","data-v-3969d77c"]]),He={class:"person-info-component"},je={class:"type-selector"},Ke={class:"type-options"},Qe={class:"type-option"},Ge={class:"type-option"},Xe={key:0,class:"individual-info"},Ze={class:"input-group"},Je={key:0,class:"error-message"},We={class:"input-group"},et={key:0,class:"error-message"},tt={class:"input-group"},at={class:"input-group"},st={key:1,class:"corporate-info"},lt={class:"input-group"},nt={key:0,class:"error-message"},ot={class:"input-group"},it={key:0,class:"error-message"},rt={class:"input-group"},ut={class:"input-group"},dt={class:"input-group"},ct=Q({__name:"PersonInfoComponent",props:{modelValue:{default:()=>({type:"individual",individual:{name:"",residentNumber:"",address:"",phone:""},corporate:{name:"",businessNumber:"",representative:"",address:"",phone:""}})},required:{type:Boolean,default:!1},label:{default:"정보"}},emits:["update:modelValue","change"],setup(U,{expose:n,emit:i}){const a=U,c=i,m=_(a.modelValue.type),p=_({...a.modelValue.individual}),v=_({...a.modelValue.corporate}),r=_({}),T=()=>{r.value={},a.required&&!p.value?.name?.trim()&&(r.value.name="성명은 필수 입력 항목입니다.");const x=p.value?.residentNumber;return x&&!$(x)&&(r.value.residentNumber="올바른 주민등록번호 형식이 아닙니다."),Object.keys(r.value).length===0},h=()=>{r.value={},a.required&&!v.value?.name?.trim()&&(r.value.name="법인명은 필수 입력 항목입니다.");const x=v.value?.businessNumber;return x&&!B(x)&&(r.value.businessNumber="올바른 사업자등록번호 형식이 아닙니다."),Object.keys(r.value).length===0},$=x=>{const s=x.replace(/-/g,"");if(s.length!==13)return!1;const f=[2,3,4,5,6,7,8,9,2,3,4,5];let A=0;for(let w=0;w<12;w++)A+=parseInt(s[w])*f[w];return(11-A%11)%10===parseInt(s[12])},B=x=>{const s=x.replace(/-/g,"");if(s.length!==10)return!1;const f=[1,3,7,1,3,7,1,3,5];let A=0;for(let w=0;w<9;w++)A+=parseInt(s[w])*f[w];return A+=Math.floor(parseInt(s[8])*5/10),(10-A%10)%10===parseInt(s[9])},E=()=>{let s=(p.value?.residentNumber||"").replace(/[^0-9]/g,"");s.length>6&&(s=s.slice(0,6)+"-"+s.slice(6,13)),p.value&&(p.value.residentNumber=s),S()},q=()=>{let s=(v.value?.businessNumber||"").replace(/[^0-9]/g,"");s.length>3&&(s=s.slice(0,3)+"-"+s.slice(3,5)+"-"+s.slice(5,10)),v.value&&(v.value.businessNumber=s),u()},L=()=>{const s=(p.value?.phone||v.value?.phone||"").replace(/[^0-9]/g,"");let f="";s.length<=3?f=s:s.length<=7?f=s.slice(0,3)+"-"+s.slice(3):f=s.slice(0,3)+"-"+s.slice(3,7)+"-"+s.slice(7,11),m.value==="individual"?p.value.phone=f:v.value.phone=f,m.value==="individual"?S():u()},z=()=>{k()},S=()=>{T(),k()},u=()=>{h(),k()},k=()=>{const x={type:m.value,individual:m.value==="individual"?{...p.value}:void 0,corporate:m.value==="corporate"?{...v.value}:void 0};c("update:modelValue",x),c("change",x)},N=F(()=>m.value==="individual"?T():h());return J(()=>a.modelValue,x=>{x&&(m.value=x.type,x.individual&&(p.value={...x.individual}),x.corporate&&(v.value={...x.corporate}))},{deep:!0}),n({validate:()=>N.value,getValue:()=>({type:m.value,individual:m.value==="individual"?{...p.value}:void 0,corporate:m.value==="corporate"?{...v.value}:void 0})}),(x,s)=>(y(),g("div",He,[e("div",je,[s[13]||(s[13]=e("label",{class:"type-label"},"유형:",-1)),e("div",Ke,[e("label",Qe,[I(e("input",{type:"radio","onUpdate:modelValue":s[0]||(s[0]=f=>m.value=f),value:"individual",onChange:z,class:"type-radio"},null,544),[[se,m.value]]),s[11]||(s[11]=e("span",{class:"type-text"},"개인",-1))]),e("label",Ge,[I(e("input",{type:"radio","onUpdate:modelValue":s[1]||(s[1]=f=>m.value=f),value:"corporate",onChange:z,class:"type-radio"},null,544),[[se,m.value]]),s[12]||(s[12]=e("span",{class:"type-text"},"법인",-1))])])]),m.value==="individual"?(y(),g("div",Xe,[e("div",Ze,[s[14]||(s[14]=e("label",{class:"input-label"},"성명 *",-1)),I(e("input",{"onUpdate:modelValue":s[2]||(s[2]=f=>p.value.name=f),onInput:S,type:"text",placeholder:"성명을 입력하세요",class:R(["text-input",{error:r.value.name}])},null,34),[[M,p.value.name]]),r.value.name?(y(),g("span",Je,D(r.value.name),1)):C("",!0)]),e("div",We,[s[15]||(s[15]=e("label",{class:"input-label"},"주민등록번호",-1)),I(e("input",{"onUpdate:modelValue":s[3]||(s[3]=f=>p.value.residentNumber=f),onInput:E,type:"text",placeholder:"000000-0000000",class:R(["text-input",{error:r.value.residentNumber}]),maxlength:"14"},null,34),[[M,p.value.residentNumber]]),r.value.residentNumber?(y(),g("span",et,D(r.value.residentNumber),1)):C("",!0)]),e("div",tt,[s[16]||(s[16]=e("label",{class:"input-label"},"주소",-1)),I(e("input",{"onUpdate:modelValue":s[4]||(s[4]=f=>p.value.address=f),onInput:S,type:"text",placeholder:"주소를 입력하세요",class:"text-input"},null,544),[[M,p.value.address]])]),e("div",at,[s[17]||(s[17]=e("label",{class:"input-label"},"연락처",-1)),I(e("input",{"onUpdate:modelValue":s[5]||(s[5]=f=>p.value.phone=f),onInput:L,type:"text",placeholder:"010-0000-0000",class:"text-input",maxlength:"13"},null,544),[[M,p.value.phone]])])])):C("",!0),m.value==="corporate"?(y(),g("div",st,[e("div",lt,[s[18]||(s[18]=e("label",{class:"input-label"},"법인명 *",-1)),I(e("input",{"onUpdate:modelValue":s[6]||(s[6]=f=>v.value.name=f),onInput:u,type:"text",placeholder:"법인명을 입력하세요",class:R(["text-input",{error:r.value.name}])},null,34),[[M,v.value.name]]),r.value.name?(y(),g("span",nt,D(r.value.name),1)):C("",!0)]),e("div",ot,[s[19]||(s[19]=e("label",{class:"input-label"},"사업자등록번호",-1)),I(e("input",{"onUpdate:modelValue":s[7]||(s[7]=f=>v.value.businessNumber=f),onInput:q,type:"text",placeholder:"000-00-00000",class:R(["text-input",{error:r.value.businessNumber}]),maxlength:"12"},null,34),[[M,v.value.businessNumber]]),r.value.businessNumber?(y(),g("span",it,D(r.value.businessNumber),1)):C("",!0)]),e("div",rt,[s[20]||(s[20]=e("label",{class:"input-label"},"대표자명",-1)),I(e("input",{"onUpdate:modelValue":s[8]||(s[8]=f=>v.value.representative=f),onInput:u,type:"text",placeholder:"대표자명을 입력하세요",class:"text-input"},null,544),[[M,v.value.representative]])]),e("div",ut,[s[21]||(s[21]=e("label",{class:"input-label"},"법인주소",-1)),I(e("input",{"onUpdate:modelValue":s[9]||(s[9]=f=>v.value.address=f),onInput:u,type:"text",placeholder:"법인주소를 입력하세요",class:"text-input"},null,544),[[M,v.value.address]])]),e("div",dt,[s[22]||(s[22]=e("label",{class:"input-label"},"연락처",-1)),I(e("input",{"onUpdate:modelValue":s[10]||(s[10]=f=>v.value.phone=f),onInput:L,type:"text",placeholder:"02-0000-0000",class:"text-input",maxlength:"13"},null,544),[[M,v.value.phone]])])])):C("",!0)]))}}),va=G(ct,[["__scopeId","data-v-93d28960"]]),pt={class:"amount-input-component"},vt={class:"input-group"},mt={key:0,class:"input-label"},ft={class:"amount-input-wrapper"},ht=["placeholder","disabled","readonly"],gt={key:0,class:"currency-symbol"},yt={key:1,class:"error-message"},bt={key:2,class:"helper-text"},xt=Q({__name:"AmountInputComponent",props:{modelValue:{default:0},label:{default:""},placeholder:{default:"금액을 입력하세요"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},min:{default:void 0},max:{default:void 0},showCurrency:{type:Boolean,default:!0},helperText:{default:""},precision:{default:0},allowNegative:{type:Boolean,default:!1}},emits:["update:modelValue","change","focus","blur"],setup(U,{expose:n,emit:i}){const a=U,c=i,m=_(),p=_(""),v=_(!1),r=_(""),T=F(()=>r.value.length>0),h=F(()=>a.helperText&&!T.value),$=u=>{if(isNaN(u))return"";const k=u<0,N=Math.abs(u),s=(a.precision>0?Math.round(N*Math.pow(10,a.precision))/Math.pow(10,a.precision):Math.round(N)).toLocaleString("ko-KR",{minimumFractionDigits:a.precision,maximumFractionDigits:a.precision});return k?`-${s}`:s},B=u=>{if(!u)return 0;const k=u.replace(/[,\s]/g,""),N=k.startsWith("-"),s=(N?k.slice(1):k).replace(/[^0-9.]/g,"");if(!s)return 0;const f=parseFloat(s);return isNaN(f)?0:N?-f:f},E=u=>(r.value="",a.required&&u===0?(r.value="금액을 입력해주세요.",!1):!a.allowNegative&&u<0?(r.value="음수는 입력할 수 없습니다.",!1):a.min!==void 0&&u<a.min?(r.value=`최소 ${$(a.min)}원 이상 입력해주세요.`,!1):a.max!==void 0&&u>a.max?(r.value=`최대 ${$(a.max)}원 이하로 입력해주세요.`,!1):!0),q=()=>{const u=B(p.value);E(u)&&(c("update:modelValue",u),c("change",u))},L=u=>{v.value=!0,c("focus",u),oe(()=>{m.value&&m.value.select()})},z=u=>{v.value=!1;const k=B(p.value);p.value=$(k),c("blur",u)},S=u=>{if(!["0","1","2","3","4","5","6","7","8","9",",","-","Backspace","Delete","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab","Enter","Escape"].includes(u.key)){u.preventDefault();return}if(!a.allowNegative&&u.key==="-"){u.preventDefault();return}if(u.key===","){u.preventDefault();return}};return J(()=>a.modelValue,u=>{const k=typeof u=="string"?parseFloat(u)||0:u;p.value=$(k)},{immediate:!0}),n({validate:()=>E(B(p.value)),getValue:()=>B(p.value),focus:()=>m.value?.focus(),blur:()=>m.value?.blur(),select:()=>m.value?.select()}),(u,k)=>(y(),g("div",pt,[e("div",vt,[u.label?(y(),g("label",mt,D(u.label),1)):C("",!0),e("div",ft,[I(e("input",{ref_key:"inputRef",ref:m,"onUpdate:modelValue":k[0]||(k[0]=N=>p.value=N),onInput:q,onFocus:L,onBlur:z,onKeydown:S,type:"text",placeholder:u.placeholder,disabled:u.disabled,readonly:u.readonly,class:R(["amount-input",{error:T.value,disabled:u.disabled,readonly:u.readonly}])},null,42,ht),[[M,p.value]]),u.showCurrency?(y(),g("span",gt,"원")):C("",!0)]),T.value?(y(),g("div",yt,D(r.value),1)):C("",!0),h.value?(y(),g("div",bt,D(u.helperText),1)):C("",!0)])]))}}),ma=G(xt,[["__scopeId","data-v-cca57906"]]),Vt={class:"date-input-component"},wt={class:"input-group"},Dt={key:0,class:"input-label"},kt={class:"date-input-wrapper"},_t=["placeholder","disabled","readonly"],$t=["disabled"],Ct={class:"calendar-header"},St={class:"current-month"},Tt={class:"calendar-weekdays"},It={class:"calendar-days"},Ft=["onClick","disabled"],Nt={key:2,class:"error-message"},Mt={key:3,class:"helper-text"},Bt=Q({__name:"DateInputComponent",props:{modelValue:{default:null},label:{default:""},placeholder:{default:"날짜를 선택하세요"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},minDate:{default:void 0},maxDate:{default:void 0},format:{default:"YYYY-MM-DD"},helperText:{default:""},clearable:{type:Boolean,default:!0}},emits:["update:modelValue","change","focus","blur"],setup(U,{expose:n,emit:i}){const a=U,c=i,m=_(),p=_(""),v=_(!1),r=_(!1),T=_(!1),h=_(new Date),$=_(""),B=F(()=>$.value.length>0),E=F(()=>a.helperText&&!B.value),q=["일","월","화","수","목","금","토"],L=F(()=>`${h.value.getFullYear()}년 ${h.value.getMonth()+1}월`),z=F(()=>{const t=h.value.getFullYear(),d=h.value.getMonth(),V=new Date(t,d,1),P=new Date(V);P.setDate(P.getDate()-V.getDay());const j=[],K=new Date,O=a.modelValue?new Date(a.modelValue):null,te=a.minDate?new Date(a.minDate):null,ae=a.maxDate?new Date(a.maxDate):null;for(let W=0;W<42;W++){const Y=new Date(P);Y.setDate(P.getDate()+W);const ie=Y.getMonth()===d,re=Y.toDateString()===K.toDateString(),ue=O&&Y.toDateString()===O.toDateString(),de=te&&Y<te||ae&&Y>ae;j.push({key:Y.toISOString(),date:Y,day:Y.getDate(),isCurrentMonth:ie,isToday:re,isSelected:ue,isDisabled:de})}return j}),S=t=>{if(!t)return"";const d=t.getFullYear(),V=String(t.getMonth()+1).padStart(2,"0"),P=String(t.getDate()).padStart(2,"0");return a.format.replace("YYYY",String(d)).replace("MM",V).replace("DD",P)},u=t=>{if(!t)return null;const d=t.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/);if(d){const[,P,j,K]=d,O=new Date(parseInt(P),parseInt(j)-1,parseInt(K));if(!isNaN(O.getTime()))return O}const V=t.match(/^(\d{4})\/(\d{1,2})\/(\d{1,2})$/);if(V){const[,P,j,K]=V,O=new Date(parseInt(P),parseInt(j)-1,parseInt(K));if(!isNaN(O.getTime()))return O}return null},k=t=>{if($.value="",a.required&&!t)return $.value="날짜를 선택해주세요.",!1;if(t){if(a.minDate){const d=new Date(a.minDate);if(t<d)return $.value=`최소 ${S(d)} 이후 날짜를 선택해주세요.`,!1}if(a.maxDate){const d=new Date(a.maxDate);if(t>d)return $.value=`최대 ${S(d)} 이전 날짜를 선택해주세요.`,!1}}return!0},N=()=>{const t=u(p.value);k(t)&&(c("update:modelValue",t),c("change",t))},x=t=>{v.value=!0,c("focus",t)},s=t=>{v.value=!1,c("blur",t),setTimeout(()=>{r.value&&(r.value=!1)},200)},f=()=>{a.disabled||a.readonly||(r.value=!r.value,r.value&&oe(()=>{if(m.value){const t=m.value.getBoundingClientRect(),d=window.innerHeight-t.bottom,V=t.top;T.value=d<300&&V>300}}))},A=t=>{if(t.isDisabled||!t.isCurrentMonth)return;const d=t.date;k(d)&&(c("update:modelValue",d),c("change",d),p.value=S(d),r.value=!1)},H=()=>{const t=new Date;k(t)&&(c("update:modelValue",t),c("change",t),p.value=S(t),r.value=!1)},w=()=>{a.clearable&&(c("update:modelValue",null),c("change",null),p.value="",r.value=!1)},b=()=>{h.value=new Date(h.value.getFullYear(),h.value.getMonth()-1,1)},l=()=>{h.value=new Date(h.value.getFullYear(),h.value.getMonth()+1,1)},o=t=>{m.value&&!m.value.contains(t.target)&&(r.value=!1)};return J(()=>a.modelValue,t=>{if(t){const d=typeof t=="string"?new Date(t):t;p.value=S(d)}else p.value=""},{immediate:!0}),le(()=>{document.addEventListener("click",o)}),ve(()=>{document.removeEventListener("click",o)}),n({validate:()=>k(u(p.value)),getValue:()=>u(p.value),focus:()=>m.value?.focus(),blur:()=>m.value?.blur(),openCalendar:()=>f(),closeCalendar:()=>r.value=!1}),(t,d)=>(y(),g("div",Vt,[e("div",wt,[t.label?(y(),g("label",Dt,D(t.label),1)):C("",!0),e("div",kt,[I(e("input",{ref_key:"inputRef",ref:m,"onUpdate:modelValue":d[0]||(d[0]=V=>p.value=V),onInput:N,onFocus:x,onBlur:s,onClick:f,type:"text",placeholder:t.placeholder,disabled:t.disabled,readonly:t.readonly,class:R(["date-input",{error:B.value,disabled:t.disabled,readonly:t.readonly,focused:v.value}])},null,42,_t),[[M,p.value]]),e("button",{type:"button",onClick:f,disabled:t.disabled,class:R(["calendar-button",{disabled:t.disabled}])},d[1]||(d[1]=[ee('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-9bbf15a7><rect x="3" y="4" width="18" height="18" rx="2" ry="2" data-v-9bbf15a7></rect><line x1="16" y1="2" x2="16" y2="6" data-v-9bbf15a7></line><line x1="8" y1="2" x2="8" y2="6" data-v-9bbf15a7></line><line x1="3" y1="10" x2="21" y2="10" data-v-9bbf15a7></line></svg>',1)]),10,$t)]),r.value?(y(),g("div",{key:1,class:R(["calendar-popup",{above:T.value}])},[e("div",Ct,[e("button",{onClick:b,class:"nav-button"},d[2]||(d[2]=[e("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"15,18 9,12 15,6"})],-1)])),e("span",St,D(L.value),1),e("button",{onClick:l,class:"nav-button"},d[3]||(d[3]=[e("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"9,18 15,12 9,6"})],-1)]))]),e("div",Tt,[(y(),g(X,null,Z(q,V=>e("span",{key:V,class:"weekday"},D(V),1)),64))]),e("div",It,[(y(!0),g(X,null,Z(z.value,V=>(y(),g("button",{key:V.key,onClick:P=>A(V),disabled:!V.isCurrentMonth||V.isDisabled,class:R(["calendar-day",{"other-month":!V.isCurrentMonth,disabled:V.isDisabled,selected:V.isSelected,today:V.isToday}])},D(V.day),11,Ft))),128))]),e("div",{class:"calendar-footer"},[e("button",{onClick:H,class:"today-button"},"오늘"),e("button",{onClick:w,class:"clear-button"},"지우기")])],2)):C("",!0),B.value?(y(),g("div",Nt,D($.value),1)):C("",!0),E.value?(y(),g("div",Mt,D(t.helperText),1)):C("",!0)])]))}}),fa=G(Bt,[["__scopeId","data-v-9bbf15a7"]]),Rt={class:"file-upload-component"},At={class:"input-group"},Pt={key:0,class:"input-label"},Ut=["accept","multiple","disabled"],Et={class:"upload-content"},Lt={class:"upload-text"},zt={class:"upload-title"},qt={class:"upload-description"},Yt={key:1,class:"file-list"},Ot={class:"file-info"},Ht={class:"file-icon"},jt={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Kt={key:1,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Qt={key:2,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Gt={class:"file-details"},Xt={class:"file-name"},Zt={class:"file-size"},Jt={class:"file-actions"},Wt={key:0,class:"upload-progress"},ea={class:"progress-bar"},ta={class:"progress-text"},aa={key:1,class:"status-icon success"},sa={key:2,class:"status-icon error"},la=["onClick","disabled"],na={key:2,class:"extracted-text"},oa={class:"text-content"},ia={key:3,class:"error-message"},ra={key:4,class:"helper-text"},ua=Q({__name:"FileUploadComponent",props:{modelValue:{default:()=>[]},label:{default:""},accept:{default:"*/*"},multiple:{type:Boolean,default:!1},maxFiles:{default:10},maxSize:{default:10},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},helperText:{default:""},autoExtract:{type:Boolean,default:!1},uploadUrl:{default:""}},emits:["update:modelValue","change","upload","success","error","extract"],setup(U,{expose:n,emit:i}){const a=U,c=i,m=_(),p=_(),v=_(!1),r=_(""),T=_(""),h=_([]),$=F(()=>r.value.length>0),B=F(()=>a.helperText&&!$.value),E=F(()=>(a.multiple,"파일을 선택하거나 여기에 드래그하세요")),q=F(()=>{const l=`최대 ${a.maxSize}MB`,o=a.multiple?`, 최대 ${a.maxFiles}개`:"";return`${l}${o}`}),L=l=>{if(l===0)return"0 Bytes";const o=1024,t=["Bytes","KB","MB","GB"],d=Math.floor(Math.log(l)/Math.log(o));return parseFloat((l/Math.pow(o,d)).toFixed(2))+" "+t[d]},z=l=>(r.value="",l.size>a.maxSize*1024*1024?(r.value=`파일 크기는 ${a.maxSize}MB 이하여야 합니다.`,!1):a.multiple&&h.value.length>=a.maxFiles?(r.value=`최대 ${a.maxFiles}개의 파일만 업로드할 수 있습니다.`,!1):a.accept!=="*/*"&&!a.accept.split(",").map(d=>d.trim()).some(d=>d.startsWith(".")?l.name.toLowerCase().endsWith(d.toLowerCase()):l.type.match(new RegExp(d.replace("*",".*"))))?(r.value="지원하지 않는 파일 형식입니다.",!1):!0),S=l=>{if(!z(l))return;const o={id:Date.now().toString()+Math.random().toString(36).substr(2,9),file:l,name:l.name,size:l.size,type:l.type,status:"pending",progress:0};h.value.push(o),a.uploadUrl&&u(o),a.autoExtract&&k(l),b()},u=async l=>{l.status="uploading";try{const o=new FormData;o.append("file",l.file);const t=new XMLHttpRequest;t.upload.addEventListener("progress",d=>{if(d.lengthComputable){const V=Math.round(d.loaded/d.total*100);l.progress=V,c("upload",l.file,V)}}),t.addEventListener("load",()=>{if(t.status===200)l.status="success",l.progress=100,c("success",l.file,JSON.parse(t.responseText));else throw new Error(`Upload failed with status ${t.status}`)}),t.addEventListener("error",()=>{l.status="error",l.error="업로드 중 오류가 발생했습니다.",c("error",l.file,new Error("Upload failed"))}),t.open("POST",a.uploadUrl),t.send(o)}catch(o){l.status="error",l.error="업로드 중 오류가 발생했습니다.",c("error",l.file,o)}},k=async l=>{try{let o="";l.type.startsWith("text/")?o=await l.text():l.type.includes("pdf")?o="PDF 파일에서 텍스트를 추출하는 기능은 별도 라이브러리가 필요합니다.":l.type.startsWith("image/")&&(o="이미지에서 텍스트를 추출하는 기능은 별도 라이브러리가 필요합니다."),o&&(T.value=o,c("extract",o))}catch(o){console.error("텍스트 추출 실패:",o)}},N=l=>{h.value.splice(l,1),b()},x=async()=>{try{await navigator.clipboard.writeText(T.value)}catch(l){console.error("텍스트 복사 실패:",l)}},s=()=>{a.disabled||p.value?.click()},f=l=>{const o=l.target,t=Array.from(o.files||[]);a.multiple?t.forEach(d=>S(d)):t.length>0&&(h.value=[],S(t[0])),o.value=""},A=l=>{l.preventDefault(),a.disabled||(v.value=!0)},H=l=>{l.preventDefault(),v.value=!1},w=l=>{if(l.preventDefault(),v.value=!1,a.disabled)return;const o=Array.from(l.dataTransfer?.files||[]);a.multiple?o.forEach(t=>S(t)):o.length>0&&(h.value=[],S(o[0]))},b=()=>{const l=h.value.map(o=>o.file);c("update:modelValue",l),c("change",l)};return J(()=>a.modelValue,l=>{l&&l.length>0&&l.forEach(o=>{h.value.some(d=>d.file===o)||S(o)})},{deep:!0}),n({addFile:S,removeFile:N,clearFiles:()=>{h.value=[],b()},uploadAll:()=>{h.value.forEach(l=>{l.status==="pending"&&a.uploadUrl&&u(l)})},getFiles:()=>h.value,getExtractedText:()=>T.value}),(l,o)=>(y(),g("div",Rt,[e("div",At,[l.label?(y(),g("label",Pt,D(l.label),1)):C("",!0),e("div",{ref_key:"dropZone",ref:m,onClick:s,onDragover:A,onDragleave:H,onDrop:w,class:R(["upload-zone",{dragging:v.value,disabled:l.disabled,error:$.value}])},[e("input",{ref_key:"fileInput",ref:p,type:"file",accept:l.accept,multiple:l.multiple,onChange:f,class:"file-input",disabled:l.disabled},null,40,Ut),e("div",Et,[o[1]||(o[1]=ee('<div class="upload-icon" data-v-2d2b1ff2><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-2d2b1ff2><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" data-v-2d2b1ff2></path><polyline points="7,10 12,15 17,10" data-v-2d2b1ff2></polyline><line x1="12" y1="15" x2="12" y2="3" data-v-2d2b1ff2></line></svg></div>',1)),e("div",Lt,[e("p",zt,D(E.value),1),e("p",qt,D(q.value),1)])])],34),h.value.length>0?(y(),g("div",Yt,[(y(!0),g(X,null,Z(h.value,(t,d)=>(y(),g("div",{key:t.id,class:R(["file-item",{uploading:t.status==="uploading",success:t.status==="success",error:t.status==="error"}])},[e("div",Ot,[e("div",Ht,[t.type.startsWith("image/")?(y(),g("svg",jt,o[2]||(o[2]=[e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1),e("circle",{cx:"8.5",cy:"8.5",r:"1.5"},null,-1),e("polyline",{points:"21,15 16,10 5,21"},null,-1)]))):t.type.includes("pdf")?(y(),g("svg",Kt,o[3]||(o[3]=[ee('<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-2d2b1ff2></path><polyline points="14,2 14,8 20,8" data-v-2d2b1ff2></polyline><line x1="16" y1="13" x2="8" y2="13" data-v-2d2b1ff2></line><line x1="16" y1="17" x2="8" y2="17" data-v-2d2b1ff2></line><polyline points="10,9 9,9 8,9" data-v-2d2b1ff2></polyline>',5)]))):(y(),g("svg",Qt,o[4]||(o[4]=[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},null,-1),e("polyline",{points:"14,2 14,8 20,8"},null,-1)])))]),e("div",Gt,[e("div",Xt,D(t.name),1),e("div",Zt,D(L(t.size)),1)])]),e("div",Jt,[t.status==="uploading"?(y(),g("div",Wt,[e("div",ea,[e("div",{class:"progress-fill",style:ne({width:`${t.progress}%`})},null,4)]),e("span",ta,D(t.progress)+"%",1)])):t.status==="success"?(y(),g("div",aa,o[5]||(o[5]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"20,6 9,17 4,12"})],-1)]))):t.status==="error"?(y(),g("div",sa,o[6]||(o[6]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),e("line",{x1:"9",y1:"9",x2:"15",y2:"15"})],-1)]))):C("",!0),t.status!=="uploading"?(y(),g("button",{key:3,onClick:V=>N(d),type:"button",class:"remove-button",disabled:l.disabled},o[7]||(o[7]=[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"3,6 5,6 21,6"}),e("path",{d:"M19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6"})],-1)]),8,la)):C("",!0)])],2))),128))])):C("",!0),T.value?(y(),g("div",na,[e("div",{class:"extracted-header"},[o[9]||(o[9]=e("h4",null,"추출된 텍스트",-1)),e("button",{onClick:x,type:"button",class:"copy-button"},o[8]||(o[8]=[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),e("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1),me(" 복사 ",-1)]))]),e("div",oa,[I(e("textarea",{"onUpdate:modelValue":o[0]||(o[0]=t=>T.value=t),readonly:"",class:"text-area",placeholder:"파일에서 추출된 텍스트가 여기에 표시됩니다."},null,512),[[M,T.value]])])])):C("",!0),$.value?(y(),g("div",ia,D(r.value),1)):C("",!0),B.value?(y(),g("div",ra,D(l.helperText),1)):C("",!0)])]))}}),ha=G(ua,[["__scopeId","data-v-2d2b1ff2"]]);export{ma as A,fa as D,ha as F,pa as L,va as P};
